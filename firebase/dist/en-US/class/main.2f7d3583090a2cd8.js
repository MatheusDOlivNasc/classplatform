var $localize=Object.assign(void 0===$localize?{}:$localize,{locale:"en"});
"use strict";(function(global){global.ng=global.ng||{};global.ng.common=global.ng.common||{};global.ng.common.locales=global.ng.common.locales||{};const u=undefined;function plural(val){const n=val,i=Math.floor(Math.abs(val)),v=val.toString().replace(/^[^.]*\.?/,"").length;if(i===1&&v===0)return 1;return 5}global.ng.common.locales["en"]=["en",[["a","p"],["AM","PM"],u],[["AM","PM"],u,u],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],u,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],u,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",u,"{1} 'at' {0}",u],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",plural,[[["mi","n","in the morning","in the afternoon","in the evening","at night"],["midnight","noon","in the morning","in the afternoon","in the evening","at night"],u],[["midnight","noon","morning","afternoon","evening","night"],u,u],["00:00","12:00",["06:00","12:00"],["12:00","18:00"],["18:00","21:00"],["21:00","06:00"]]]]})(typeof globalThis!=="undefined"&&globalThis||typeof global!=="undefined"&&global||typeof window!=="undefined"&&window);;
"use strict";(self.webpackChunkproj=self.webpackChunkproj||[]).push([[179],{2011:(vt,De,P)=>{P.d(De,{Dh:()=>de,GT:()=>be,cc:()=>Re,hO:()=>Ue,on:()=>q,pX:()=>we,xv:()=>me});var l=P(4650),L=P(127),x=P(5119);vt=P.hmd(vt);const re=["ngOnDestroy"],we=(le,Ee,Ae,Fe={})=>new Proxy(le,{get:(ut,Ve)=>Ae.runOutsideAngular(()=>{var Ze;if(le[Ve])return(null===(Ze=null==Fe?void 0:Fe.spy)||void 0===Ze?void 0:Ze.get)&&Fe.spy.get(Ve,le[Ve]),le[Ve];if(re.indexOf(Ve)>-1)return()=>{};const ae=Ee.toPromise().then(ge=>{const Q=ge&&ge[Ve];return"function"==typeof Q?Q.bind(ge):Q&&Q.then?Q.then(R=>Ae.run(()=>R)):Ae.run(()=>Q)});return new Proxy(()=>{},{get:(ge,Q)=>ae[Q],apply:(ge,Q,R)=>ae.then(U=>{var G;const te=U&&U(...R);return(null===(G=null==Fe?void 0:Fe.spy)||void 0===G?void 0:G.apply)&&Fe.spy.apply(Ve,R,te),te})})})}),be=(le,Ee)=>{Ee.forEach(Ae=>{Object.getOwnPropertyNames(Ae.prototype||Ae).forEach(Fe=>{Object.defineProperty(le.prototype,Fe,Object.getOwnPropertyDescriptor(Ae.prototype||Ae,Fe))})})};class fe{constructor(Ee){return Ee}}const de=new l.OlP("angularfire2.app.options"),me=new l.OlP("angularfire2.app.name");function q(le,Ee,Ae){const ut="object"==typeof Ae&&Ae||{};ut.name=ut.name||"string"==typeof Ae&&Ae||"[DEFAULT]";const Ze=L.Z.apps.filter(ae=>ae&&ae.name===ut.name)[0]||Ee.runOutsideAngular(()=>L.Z.initializeApp(le,ut));try{JSON.stringify(le)!==JSON.stringify(Ze.options)&&Y("error",`${Ze.name} Firebase App already initialized with different options${vt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new fe(Ze)}const Y=(le,...Ee)=>{(0,l.X6Q)()&&typeof console<"u"&&console[le](...Ee)},oe={provide:fe,useFactory:q,deps:[de,l.R0b,[new l.FiY,me]]};let Ue=(()=>{class le{constructor(Ae){L.Z.registerVersion("angularfire",x.q4.full,"core"),L.Z.registerVersion("angularfire",x.q4.full,"app-compat"),L.Z.registerVersion("angular",l.q4F.full,Ae.toString())}static initializeApp(Ae,Fe){return{ngModule:le,providers:[{provide:de,useValue:Ae},{provide:me,useValue:Fe}]}}}return le.\u0275fac=function(Ae){return new(Ae||le)(l.LFG(l.Lbi))},le.\u0275mod=l.oAB({type:le}),le.\u0275inj=l.cJS({providers:[oe]}),le})();function Re(le,Ee,Ae,Fe,ut){const[,Ve,Ze]=globalThis.\u0275AngularfireInstanceCache.find(ae=>ae[0]===le)||[];if(Ve)return function Ke(le,Ee){try{return le.toString()===Ee.toString()}catch{return le===Ee}}(ut,Ze)||(je("error",`${Ee} was already initialized on the ${Ae} Firebase App with different settings.${Ge?" You may need to reload as Firebase is not HMR aware.":""}`),je("warn",{is:ut,was:Ze})),Ve;{const ae=Fe();return globalThis.\u0275AngularfireInstanceCache.push([le,ae,ut]),ae}}const Ge=!!vt.hot,je=(le,...Ee)=>{(0,l.X6Q)()&&typeof console<"u"&&console[le](...Ee)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5119:(vt,De,P)=>{P.d(De,{q4:()=>bi,iC:()=>nd,fc:()=>hr,HU:()=>Bo,vb:()=>ai,JM:()=>iu,nk:()=>er,_J:()=>to,u3:()=>pl});var l=P(4650),L=P(5867),x=P(3226),re=P(5861),be=(P(2833),P(4859)),fe=P(8766),de=P(2090),me=P(9681);const q="/firebase-messaging-sw.js",Y="/firebase-cloud-messaging-push-scope",oe="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Re="google.c.a.c_id",Ke="google.c.a.c_l",Ge="google.c.a.ts",je="google.c.a.e";var Ee=(()=>{return(j=Ee||(Ee={})).PUSH_RECEIVED="push-received",j.NOTIFICATION_CLICKED="notification-clicked",Ee;var j})();function Ae(j){const se=new Uint8Array(j);return btoa(String.fromCharCode(...se)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Fe(j){const Pe=(j+"=".repeat((4-j.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),tt=atob(Pe),kt=new Uint8Array(tt.length);for(let tn=0;tn<tt.length;++tn)kt[tn]=tt.charCodeAt(tn);return kt}const ut="fcm_token_details_db",Ze="fcm_token_object_Store";function ae(j){return ge.apply(this,arguments)}function ge(){return ge=(0,re.Z)(function*(j){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(tn=>tn.name).includes(ut))return null;let se=null;return(yield(0,fe.X3)(ut,5,{upgrade:(tt=(0,re.Z)(function*(kt,tn,wn,kn){var $o;if(tn<2||!kt.objectStoreNames.contains(Ze))return;const rd=kn.objectStore(Ze),Hi=yield rd.index("fcmSenderId").get(j);if(yield rd.clear(),Hi)if(2===tn){const Tn=Hi;if(!Tn.auth||!Tn.p256dh||!Tn.endpoint)return;se={token:Tn.fcmToken,createTime:null!==($o=Tn.createTime)&&void 0!==$o?$o:Date.now(),subscriptionOptions:{auth:Tn.auth,p256dh:Tn.p256dh,endpoint:Tn.endpoint,swScope:Tn.swScope,vapidKey:"string"==typeof Tn.vapidKey?Tn.vapidKey:Ae(Tn.vapidKey)}}}else if(3===tn){const Tn=Hi;se={token:Tn.fcmToken,createTime:Tn.createTime,subscriptionOptions:{auth:Ae(Tn.auth),p256dh:Ae(Tn.p256dh),endpoint:Tn.endpoint,swScope:Tn.swScope,vapidKey:Ae(Tn.vapidKey)}}}else if(4===tn){const Tn=Hi;se={token:Tn.fcmToken,createTime:Tn.createTime,subscriptionOptions:{auth:Ae(Tn.auth),p256dh:Ae(Tn.p256dh),endpoint:Tn.endpoint,swScope:Tn.swScope,vapidKey:Ae(Tn.vapidKey)}}}}),function(tn,wn,kn,$o){return tt.apply(this,arguments)})})).close(),yield(0,fe.Lj)(ut),yield(0,fe.Lj)("fcm_vapid_details_db"),yield(0,fe.Lj)("undefined"),Q(se)?se:null;var tt}),ge.apply(this,arguments)}function Q(j){if(!j||!j.subscriptionOptions)return!1;const{subscriptionOptions:se}=j;return"number"==typeof j.createTime&&j.createTime>0&&"string"==typeof j.token&&j.token.length>0&&"string"==typeof se.auth&&se.auth.length>0&&"string"==typeof se.p256dh&&se.p256dh.length>0&&"string"==typeof se.endpoint&&se.endpoint.length>0&&"string"==typeof se.swScope&&se.swScope.length>0&&"string"==typeof se.vapidKey&&se.vapidKey.length>0}const G="firebase-messaging-store";let te=null;function K(){return te||(te=(0,fe.X3)("firebase-messaging-database",1,{upgrade:(j,se)=>{0===se&&j.createObjectStore(G)}})),te}function _e(j){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,re.Z)(function*(j){const se=Xt(j),tt=yield(yield K()).transaction(G).objectStore(G).get(se);if(tt)return tt;{const kt=yield ae(j.appConfig.senderId);if(kt)return yield At(j,kt),kt}})).apply(this,arguments)}function At(j,se){return ct.apply(this,arguments)}function ct(){return(ct=(0,re.Z)(function*(j,se){const Pe=Xt(j),kt=(yield K()).transaction(G,"readwrite");return yield kt.objectStore(G).put(se,Pe),yield kt.done,se})).apply(this,arguments)}function Ye(j){return pt.apply(this,arguments)}function pt(){return(pt=(0,re.Z)(function*(j){const se=Xt(j),tt=(yield K()).transaction(G,"readwrite");yield tt.objectStore(G).delete(se),yield tt.done})).apply(this,arguments)}function Xt({appConfig:j}){return j.appId}const zt=new de.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function gt(j,se){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,re.Z)(function*(j,se){var Pe;const tt=yield lr(j),kt=Mn(se),tn={method:"POST",headers:tt,body:JSON.stringify(kt)};let wn;try{wn=yield(yield fetch($n(j.appConfig),tn)).json()}catch(kn){throw zt.create("token-subscribe-failed",{errorInfo:null===(Pe=kn)||void 0===Pe?void 0:Pe.toString()})}if(wn.error)throw zt.create("token-subscribe-failed",{errorInfo:wn.error.message});if(!wn.token)throw zt.create("token-subscribe-no-token");return wn.token})).apply(this,arguments)}function fn(j,se){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,re.Z)(function*(j,se){var Pe;const tt=yield lr(j),kt=Mn(se.subscriptionOptions),tn={method:"PATCH",headers:tt,body:JSON.stringify(kt)};let wn;try{wn=yield(yield fetch(`${$n(j.appConfig)}/${se.token}`,tn)).json()}catch(kn){throw zt.create("token-update-failed",{errorInfo:null===(Pe=kn)||void 0===Pe?void 0:Pe.toString()})}if(wn.error)throw zt.create("token-update-failed",{errorInfo:wn.error.message});if(!wn.token)throw zt.create("token-update-no-token");return wn.token})).apply(this,arguments)}function ur(j,se){return vn.apply(this,arguments)}function vn(){return(vn=(0,re.Z)(function*(j,se){var Pe;const kt={method:"DELETE",headers:yield lr(j)};try{const wn=yield(yield fetch(`${$n(j.appConfig)}/${se}`,kt)).json();if(wn.error)throw zt.create("token-unsubscribe-failed",{errorInfo:wn.error.message})}catch(tn){throw zt.create("token-unsubscribe-failed",{errorInfo:null===(Pe=tn)||void 0===Pe?void 0:Pe.toString()})}})).apply(this,arguments)}function $n({projectId:j}){return`https://fcmregistrations.googleapis.com/v1/projects/${j}/registrations`}function lr(j){return xn.apply(this,arguments)}function xn(){return(xn=(0,re.Z)(function*({appConfig:j,installations:se}){const Pe=yield se.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":j.apiKey,"x-goog-firebase-installations-auth":`FIS ${Pe}`})})).apply(this,arguments)}function Mn({p256dh:j,auth:se,endpoint:Pe,vapidKey:tt}){const kt={web:{endpoint:Pe,auth:se,p256dh:j}};return tt!==oe&&(kt.web.applicationPubKey=tt),kt}const cr=6048e5;function st(j){return ne.apply(this,arguments)}function ne(){return(ne=(0,re.Z)(function*(j){const se=yield Yt(j.swRegistration,j.vapidKey),Pe={vapidKey:j.vapidKey,swScope:j.swRegistration.scope,endpoint:se.endpoint,auth:Ae(se.getKey("auth")),p256dh:Ae(se.getKey("p256dh"))},tt=yield _e(j.firebaseDependencies);if(tt){if(Ft(tt.subscriptionOptions,Pe))return Date.now()>=tt.createTime+cr?at(j,{token:tt.token,createTime:Date.now(),subscriptionOptions:Pe}):tt.token;try{yield ur(j.firebaseDependencies,tt.token)}catch(kt){console.warn(kt)}return Bt(j.firebaseDependencies,Pe)}return Bt(j.firebaseDependencies,Pe)})).apply(this,arguments)}function Me(j){return Je.apply(this,arguments)}function Je(){return(Je=(0,re.Z)(function*(j){const se=yield _e(j.firebaseDependencies);se&&(yield ur(j.firebaseDependencies,se.token),yield Ye(j.firebaseDependencies));const Pe=yield j.swRegistration.pushManager.getSubscription();return!Pe||Pe.unsubscribe()})).apply(this,arguments)}function at(j,se){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,re.Z)(function*(j,se){try{const Pe=yield fn(j.firebaseDependencies,se),tt=Object.assign(Object.assign({},se),{token:Pe,createTime:Date.now()});return yield At(j.firebaseDependencies,tt),Pe}catch(Pe){throw yield Me(j),Pe}})).apply(this,arguments)}function Bt(j,se){return en.apply(this,arguments)}function en(){return(en=(0,re.Z)(function*(j,se){const tt={token:yield gt(j,se),createTime:Date.now(),subscriptionOptions:se};return yield At(j,tt),tt.token})).apply(this,arguments)}function Yt(j,se){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,re.Z)(function*(j,se){return(yield j.pushManager.getSubscription())||j.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Fe(se)})})).apply(this,arguments)}function Ft(j,se){return se.vapidKey===j.vapidKey&&se.endpoint===j.endpoint&&se.auth===j.auth&&se.p256dh===j.p256dh}function Xe(j){const se={from:j.from,collapseKey:j.collapse_key,messageId:j.fcmMessageId};return function rt(j,se){if(!se.notification)return;j.notification={};const Pe=se.notification.title;Pe&&(j.notification.title=Pe);const tt=se.notification.body;tt&&(j.notification.body=tt);const kt=se.notification.image;kt&&(j.notification.image=kt)}(se,j),function Fn(j,se){!se.data||(j.data=se.data)}(se,j),function dr(j,se){var Pe,tt,kt,tn,wn;if(!se.fcmOptions&&!(null===(Pe=se.notification)||void 0===Pe?void 0:Pe.click_action))return;j.fcmOptions={};const kn=null!==(kt=null===(tt=se.fcmOptions)||void 0===tt?void 0:tt.link)&&void 0!==kt?kt:null===(tn=se.notification)||void 0===tn?void 0:tn.click_action;kn&&(j.fcmOptions.link=kn);const $o=null===(wn=se.fcmOptions)||void 0===wn?void 0:wn.analytics_label;$o&&(j.fcmOptions.analyticsLabel=$o)}(se,j),se}function Ln(j){return"object"==typeof j&&!!j&&Re in j}function jt(j,se){const Pe=[];for(let tt=0;tt<j.length;tt++)Pe.push(j.charAt(tt)),tt<se.length&&Pe.push(se.charAt(tt));return Pe.join("")}function pn(j){return zt.create("missing-app-config-values",{valueName:j})}jt("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),jt("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class qt{constructor(se,Pe,tt){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const kt=function On(j){if(!j||!j.options)throw pn("App Configuration Object");if(!j.name)throw pn("App Name");const se=["projectId","apiKey","appId","messagingSenderId"],{options:Pe}=j;for(const tt of se)if(!Pe[tt])throw pn(tt);return{appName:j.name,projectId:Pe.projectId,apiKey:Pe.apiKey,appId:Pe.appId,senderId:Pe.messagingSenderId}}(se);this.firebaseDependencies={app:se,appConfig:kt,installations:Pe,analyticsProvider:tt}}_delete(){return Promise.resolve()}}function xt(j){return H.apply(this,arguments)}function H(){return(H=(0,re.Z)(function*(j){var se;try{j.swRegistration=yield navigator.serviceWorker.register(q,{scope:Y}),j.swRegistration.update().catch(()=>{})}catch(Pe){throw zt.create("failed-service-worker-registration",{browserErrorMessage:null===(se=Pe)||void 0===se?void 0:se.message})}})).apply(this,arguments)}function Z(j,se){return $.apply(this,arguments)}function $(){return($=(0,re.Z)(function*(j,se){if(!se&&!j.swRegistration&&(yield xt(j)),se||!j.swRegistration){if(!(se instanceof ServiceWorkerRegistration))throw zt.create("invalid-sw-registration");j.swRegistration=se}})).apply(this,arguments)}function J(j,se){return W.apply(this,arguments)}function W(){return(W=(0,re.Z)(function*(j,se){se?j.vapidKey=se:j.vapidKey||(j.vapidKey=oe)})).apply(this,arguments)}function et(){return(et=(0,re.Z)(function*(j,se){if(!navigator)throw zt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw zt.create("permission-blocked");return yield J(j,null==se?void 0:se.vapidKey),yield Z(j,null==se?void 0:se.serviceWorkerRegistration),st(j)})).apply(this,arguments)}function It(j,se,Pe){return sn.apply(this,arguments)}function sn(){return(sn=(0,re.Z)(function*(j,se,Pe){const tt=un(se);(yield j.firebaseDependencies.analyticsProvider.get()).logEvent(tt,{message_id:Pe[Re],message_name:Pe[Ke],message_time:Pe[Ge],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function un(j){switch(j){case Ee.NOTIFICATION_CLICKED:return"notification_open";case Ee.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function N(){return(N=(0,re.Z)(function*(j,se){const Pe=se.data;if(!Pe.isFirebaseMessaging)return;j.onMessageHandler&&Pe.messageType===Ee.PUSH_RECEIVED&&("function"==typeof j.onMessageHandler?j.onMessageHandler(Xe(Pe)):j.onMessageHandler.next(Xe(Pe)));const tt=Pe.data;Ln(tt)&&"1"===tt[je]&&(yield It(j,Pe.messageType,tt))})).apply(this,arguments)}const S="@firebase/messaging",F="0.9.16",ie=j=>{const se=new qt(j.getProvider("app").getImmediate(),j.getProvider("installations-internal").getImmediate(),j.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",Pe=>function he(j,se){return N.apply(this,arguments)}(se,Pe)),se},Oe=j=>{const se=j.getProvider("messaging").getImmediate();return{getToken:tt=>function Te(j,se){return et.apply(this,arguments)}(se,tt)}};function ot(){return _t.apply(this,arguments)}function _t(){return(_t=(0,re.Z)(function*(){try{yield(0,de.eu)()}catch{return!1}return typeof window<"u"&&(0,de.hl)()&&(0,de.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function it(){(0,me._registerComponent)(new be.wA("messaging",ie,"PUBLIC")),(0,me._registerComponent)(new be.wA("messaging-internal",Oe,"PRIVATE")),(0,me.registerVersion)(S,F),(0,me.registerVersion)(S,F,"esm2017")}();var Xn=P(6148),Vn=P(4408),Ce=P(7565);const qe=new class He extends Ce.v{}(class ee extends Vn.o{constructor(se,Pe){super(se,Pe),this.scheduler=se,this.work=Pe}schedule(se,Pe=0){return Pe>0?super.schedule(se,Pe):(this.delay=Pe,this.state=se,this.scheduler.flush(this),this)}execute(se,Pe){return Pe>0||this.closed?super.execute(se,Pe):this._execute(se,Pe)}requestAsyncId(se,Pe,tt=0){return null!=tt&&tt>0||null==tt&&this.delay>0?super.requestAsyncId(se,Pe,tt):se.flush(this)}});var mn=P(4986),Rn=P(8306),Hn=P(8505),Nn=P(5363),vr=P(9468);const bi=new l.GfV("7.4.1"),Vr="__angularfire_symbol__analyticsIsSupportedValue",bn="__angularfire_symbol__analyticsIsSupported",ru="__angularfire_symbol__remoteConfigIsSupportedValue",$i="__angularfire_symbol__remoteConfigIsSupported",Ai="__angularfire_symbol__messagingIsSupportedValue",vo="__angularfire_symbol__messagingIsSupported";globalThis[bn]||(globalThis[bn]=(0,Xn.Gb)().then(j=>globalThis[Vr]=j).catch(()=>globalThis[Vr]=!1)),globalThis[vo]||(globalThis[vo]=ot().then(j=>globalThis[Ai]=j).catch(()=>globalThis[Ai]=!1)),globalThis[$i]||(globalThis[$i]=(0,x.Gb)().then(j=>globalThis[ru]=j).catch(()=>globalThis[ru]=!1));const Cr=j=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${j} in the constructor, first ensure that ${j} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${j})\`.`,to={async:()=>globalThis[$i],sync:()=>{const j=globalThis[ru];if(void 0===j)throw new Error(Cr("RemoteConfig"));return j}},er={async:()=>globalThis[bn],sync:()=>{const j=globalThis[Vr];if(void 0===j)throw new Error(Cr("Analytics"));return j}};function iu(j,se,Pe){if(se){if(1===se.length)return se[0];const tn=se.filter(wn=>wn.app===Pe);if(1===tn.length)return tn[0]}return Pe.container.getProvider(j).getImmediate({optional:!0})}const ai=(j,se)=>{const Pe=se?[se]:(0,L.C6)(),tt=[];return Pe.forEach(kt=>{kt.container.getProvider(j).instances.forEach(wn=>{tt.includes(wn)||tt.push(wn)})}),tt};function Ar(){}class ys{constructor(se,Pe=qe){this.zone=se,this.delegate=Pe}now(){return this.delegate.now()}schedule(se,Pe,tt){const kt=this.zone;return this.delegate.schedule(function(wn){kt.runGuarded(()=>{se.apply(this,[wn])})},Pe,tt)}}class vs{constructor(se){this.zone=se,this.task=null}call(se,Pe){const tt=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ar,{},Ar,Ar)),Pe.pipe((0,Hn.b)({next:tt,complete:tt,error:tt})).subscribe(se).add(tt)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Bo=(()=>{class j{constructor(Pe){this.ngZone=Pe,this.outsideAngular=Pe.runOutsideAngular(()=>new ys(Zone.current)),this.insideAngular=Pe.run(()=>new ys(Zone.current,mn.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return j.\u0275fac=function(Pe){return new(Pe||j)(l.LFG(l.R0b))},j.\u0275prov=l.Yz7({token:j,factory:j.\u0275fac,providedIn:"root"}),j})();function br(){const j=globalThis.\u0275AngularFireScheduler;if(!j)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return j}function ou(j){return br().ngZone.runOutsideAngular(()=>j())}function ji(j){return br().ngZone.run(()=>j())}function hr(j){return j.pipe((0,Nn.Q)(br().outsideAngular))}function nd(j){return br(),function Gi(j){return function(Pe){return(Pe=Pe.lift(new vs(j.ngZone))).pipe((0,vr.R)(j.outsideAngular),(0,Nn.Q)(j.insideAngular))}}(br())(j)}const gf=(j,se)=>function(){const tt=arguments;return se&&setTimeout(()=>{"scheduled"===se.state&&se.invoke()},10),ji(()=>j.apply(void 0,tt))},pl=(j,se)=>function(){let Pe;const tt=arguments;for(let tn=0;tn<arguments.length;tn++)"function"==typeof tt[tn]&&(se&&(Pe||(Pe=ji(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ar,{},Ar,Ar)))),tt[tn]=gf(tt[tn],Pe));const kt=ou(()=>j.apply(this,tt));if(!se){if(kt instanceof Rn.y){const tn=br();return kt.pipe((0,vr.R)(tn.outsideAngular),(0,Nn.Q)(tn.insideAngular))}return ji(()=>kt)}return kt instanceof Rn.y?kt.pipe(nd):kt instanceof Promise?ji(()=>new Promise((tn,wn)=>kt.then(kn=>ji(()=>tn(kn)),kn=>ji(()=>wn(kn))))):"function"==typeof kt&&Pe?function(){return setTimeout(()=>{Pe&&"scheduled"===Pe.state&&Pe.invoke()},10),kt.apply(this,arguments)}:ji(()=>kt)}},7143:(vt,De,P)=>{P.d(De,{$:()=>Vt,A:()=>Y,B:()=>Re,G:()=>Ce,H:()=>Rn,J:()=>Gi,L:()=>sn,M:()=>id,N:()=>od,P:()=>vm,Q:()=>au,R:()=>Nf,T:()=>mf,U:()=>xi,V:()=>uu,W:()=>om,X:()=>sm,Y:()=>Co,Z:()=>cu,_:()=>hu,a:()=>li,a0:()=>cd,a1:()=>am,a2:()=>yn,a3:()=>fr,a4:()=>bs,a5:()=>fd,a6:()=>d0,a7:()=>um,a8:()=>gu,a9:()=>ei,aA:()=>Ss,aB:()=>Mi,aC:()=>Ad,aD:()=>Uf,aE:()=>Vn,aI:()=>yu,aL:()=>Js,aa:()=>bo,ab:()=>bf,ac:()=>lm,af:()=>yd,ag:()=>Ef,ah:()=>vd,ak:()=>tr,al:()=>ir,an:()=>dm,ao:()=>Pf,ap:()=>Gt,aq:()=>Q,ar:()=>St,as:()=>it,at:()=>Ae,au:()=>ks,av:()=>$f,aw:()=>Fe,ax:()=>ae,ay:()=>U,az:()=>un,b:()=>Mt,c:()=>Cm,d:()=>Vf,e:()=>so,f:()=>Tu,g:()=>Du,h:()=>va,i:()=>xr,j:()=>bm,k:()=>Ud,l:()=>ym,m:()=>Om,n:()=>Fs,o:()=>de,r:()=>oo,s:()=>wu,u:()=>Ff,v:()=>f0});var l=P(5861),L=P(2090),x=P(9681),re=P(655),we=P(1877),be=P(4859);const de={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Y={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Re=function oe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ke=function Ue(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ge=new L.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),le=new we.Yd("@firebase/auth");function Ee(v,...p){le.logLevel<=we.in.ERROR&&le.error(`Auth (${x.SDK_VERSION}): ${v}`,...p)}function Ae(v,...p){throw Ze(v,...p)}function Fe(v,...p){return Ze(v,...p)}function ut(v,p,m){const b=Object.assign(Object.assign({},Ke()),{[p]:m});return new L.LL("auth","Firebase",b).create(p,{appName:v.name})}function Ve(v,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&Ae(v,"argument-error"),ut(v,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ze(v,...p){if("string"!=typeof v){const m=p[0],b=[...p.slice(1)];return b[0]&&(b[0].appName=v.name),v._errorFactory.create(m,...b)}return Ge.create(v,...p)}function ae(v,p,...m){if(!v)throw Ze(p,...m)}function ge(v){const p="INTERNAL ASSERTION FAILED: "+v;throw Ee(p),new Error(p)}function Q(v,p){v||ge(p)}const R=new Map;function U(v){Q(v instanceof Function,"Expected a class definition");let p=R.get(v);return p?(Q(p instanceof v,"Instance stored in cache mismatched with class"),p):(p=new v,R.set(v,p),p)}function K(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function _e(){return"http:"===Qe()||"https:"===Qe()}function Qe(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class Ye{constructor(p,m){this.shortDelay=p,this.longDelay=m,Q(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,L.uI)()||(0,L.b$)()}get(){return function At(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(_e()||(0,L.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function pt(v,p){Q(v.emulator,"Emulator should always be set here");const{url:m}=v.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class Xt{static initialize(p,m,b){this.fetchImpl=p,m&&(this.headersImpl=m),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ge("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ge("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ge("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const an={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},zt=new Ye(3e4,6e4);function gt(v,p){return v.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:v.tenantId}):p}function Kt(v,p,m,b){return fn.apply(this,arguments)}function fn(){return(fn=(0,l.Z)(function*(v,p,m,b,D={}){return Jn(v,D,(0,l.Z)(function*(){let A={},ce={};b&&("GET"===p?ce=b:A={body:JSON.stringify(b)});const xe=(0,L.xO)(Object.assign({key:v.config.apiKey},ce)).slice(1),mt=yield v._getAdditionalHeaders();return mt["Content-Type"]="application/json",v.languageCode&&(mt["X-Firebase-Locale"]=v.languageCode),Xt.fetch()(lr(v,v.config.apiHost,m,xe),Object.assign({method:p,headers:mt,referrerPolicy:"no-referrer"},A))}))})).apply(this,arguments)}function Jn(v,p,m){return ur.apply(this,arguments)}function ur(){return(ur=(0,l.Z)(function*(v,p,m){v._canInitEmulator=!1;const b=Object.assign(Object.assign({},an),p);try{const D=new xn(v),A=yield Promise.race([m(),D.promise]);D.clearNetworkTimeout();const ce=yield A.json();if("needConfirmation"in ce)throw Mn(v,"account-exists-with-different-credential",ce);if(A.ok&&!("errorMessage"in ce))return ce;{const xe=A.ok?ce.errorMessage:ce.error.message,[mt,bt]=xe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===mt)throw Mn(v,"credential-already-in-use",ce);if("EMAIL_EXISTS"===mt)throw Mn(v,"email-already-in-use",ce);if("USER_DISABLED"===mt)throw Mn(v,"user-disabled",ce);const rn=b[mt]||mt.toLowerCase().replace(/[_\s]+/g,"-");if(bt)throw ut(v,rn,bt);Ae(v,rn)}}catch(D){if(D instanceof L.ZR)throw D;Ae(v,"network-request-failed")}})).apply(this,arguments)}function vn(v,p,m,b){return $n.apply(this,arguments)}function $n(){return($n=(0,l.Z)(function*(v,p,m,b,D={}){const A=yield Kt(v,p,m,b,D);return"mfaPendingCredential"in A&&Ae(v,"multi-factor-auth-required",{_serverResponse:A}),A})).apply(this,arguments)}function lr(v,p,m,b){const D=`${p}${m}?${b}`;return v.config.emulator?pt(v.config,D):`${v.config.apiScheme}://${D}`}class xn{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,b)=>{this.timer=setTimeout(()=>b(Fe(this.auth,"network-request-failed")),zt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Mn(v,p,m){const b={appName:v.name};m.email&&(b.email=m.email),m.phoneNumber&&(b.phoneNumber=m.phoneNumber);const D=Fe(v,p,b);return D.customData._tokenResponse=m,D}function st(){return(st=(0,l.Z)(function*(v,p){return Kt(v,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function ne(v,p){return Me.apply(this,arguments)}function Me(){return(Me=(0,l.Z)(function*(v,p){return Kt(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Je(v,p){return at.apply(this,arguments)}function at(){return(at=(0,l.Z)(function*(v,p){return Kt(v,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function Dt(v){if(v)try{const p=new Date(Number(v));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function Yt(){return(Yt=(0,l.Z)(function*(v,p=!1){const m=(0,L.m9)(v),b=yield m.getIdToken(p),D=Ft(b);ae(D&&D.exp&&D.auth_time&&D.iat,m.auth,"internal-error");const A="object"==typeof D.firebase?D.firebase:void 0,ce=null==A?void 0:A.sign_in_provider;return{claims:D,token:b,authTime:Dt(Cn(D.auth_time)),issuedAtTime:Dt(Cn(D.iat)),expirationTime:Dt(Cn(D.exp)),signInProvider:ce||null,signInSecondFactor:(null==A?void 0:A.sign_in_second_factor)||null}})).apply(this,arguments)}function Cn(v){return 1e3*Number(v)}function Ft(v){var p;const[m,b,D]=v.split(".");if(void 0===m||void 0===b||void 0===D)return Ee("JWT malformed, contained fewer than 3 sections"),null;try{const A=(0,L.tV)(b);return A?JSON.parse(A):(Ee("Failed to decode base64 JWT payload"),null)}catch(A){return Ee("Caught error parsing JWT payload as JSON",null===(p=A)||void 0===p?void 0:p.toString()),null}}function rt(v,p){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,l.Z)(function*(v,p,m=!1){if(m)return p;try{return yield p}catch(b){throw b instanceof L.ZR&&dr(b)&&v.auth.currentUser===v&&(yield v.auth.signOut()),b}})).apply(this,arguments)}function dr({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class Ln{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const D=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,D)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const b=this.getInterval(p);this.timerId=setTimeout((0,l.Z)(function*(){yield m.iteration()}),b)}iteration(){var p=this;return(0,l.Z)(function*(){var m;try{yield p.user.getIdToken(!0)}catch(b){return void("auth/network-request-failed"===(null===(m=b)||void 0===m?void 0:m.code)&&p.schedule(!0))}p.schedule()})()}}class jt{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=Dt(this.lastLoginAt),this.creationTime=Dt(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function On(v){return pn.apply(this,arguments)}function pn(){return(pn=(0,l.Z)(function*(v){var p;const m=v.auth,b=yield v.getIdToken(),D=yield rt(v,Je(m,{idToken:b}));ae(null==D?void 0:D.users.length,m,"internal-error");const A=D.users[0];v._notifyReloadListener(A);const ce=(null===(p=A.providerUserInfo)||void 0===p?void 0:p.length)?Z(A.providerUserInfo):[],xe=H(v.providerData,ce),rn=!!v.isAnonymous&&!(v.email&&A.passwordHash||(null==xe?void 0:xe.length)),Bn={uid:A.localId,displayName:A.displayName||null,photoURL:A.photoUrl||null,email:A.email||null,emailVerified:A.emailVerified||!1,phoneNumber:A.phoneNumber||null,tenantId:A.tenantId||null,providerData:xe,metadata:new jt(A.createdAt,A.lastLoginAt),isAnonymous:rn};Object.assign(v,Bn)})).apply(this,arguments)}function xt(){return(xt=(0,l.Z)(function*(v){const p=(0,L.m9)(v);yield On(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function H(v,p){return[...v.filter(b=>!p.some(D=>D.providerId===b.providerId)),...p]}function Z(v){return v.map(p=>{var{providerId:m}=p,b=(0,re._T)(p,["providerId"]);return{providerId:m,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function J(){return(J=(0,l.Z)(function*(v,p){const m=yield Jn(v,{},(0,l.Z)(function*(){const b=(0,L.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:D,apiKey:A}=v.config,ce=lr(v,D,"/v1/token",`key=${A}`),xe=yield v._getAdditionalHeaders();return xe["Content-Type"]="application/x-www-form-urlencoded",Xt.fetch()(ce,{method:"POST",headers:xe,body:b})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class W{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){ae(p.idToken,"internal-error"),ae(typeof p.idToken<"u","internal-error"),ae(typeof p.refreshToken<"u","internal-error");const m="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function Xe(v){const p=Ft(v);return ae(p,"internal-error"),ae(typeof p.exp<"u","internal-error"),ae(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var b=this;return(0,l.Z)(function*(){return ae(!b.accessToken||b.refreshToken,p,"user-token-expired"),m||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(p,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var b=this;return(0,l.Z)(function*(){const{accessToken:D,refreshToken:A,expiresIn:ce}=yield function $(v,p){return J.apply(this,arguments)}(p,m);b.updateTokensAndExpiration(D,A,Number(ce))})()}updateTokensAndExpiration(p,m,b){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(p,m){const{refreshToken:b,accessToken:D,expirationTime:A}=m,ce=new W;return b&&(ae("string"==typeof b,"internal-error",{appName:p}),ce.refreshToken=b),D&&(ae("string"==typeof D,"internal-error",{appName:p}),ce.accessToken=D),A&&(ae("number"==typeof A,"internal-error",{appName:p}),ce.expirationTime=A),ce}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new W,this.toJSON())}_performRefresh(){return ge("not implemented")}}function Te(v,p){ae("string"==typeof v||typeof v>"u","internal-error",{appName:p})}class et{constructor(p){var{uid:m,auth:b,stsTokenManager:D}=p,A=(0,re._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ln(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=b,this.stsTokenManager=D,this.accessToken=D.accessToken,this.displayName=A.displayName||null,this.email=A.email||null,this.emailVerified=A.emailVerified||!1,this.phoneNumber=A.phoneNumber||null,this.photoURL=A.photoURL||null,this.isAnonymous=A.isAnonymous||!1,this.tenantId=A.tenantId||null,this.providerData=A.providerData?[...A.providerData]:[],this.metadata=new jt(A.createdAt||void 0,A.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,l.Z)(function*(){const b=yield rt(m,m.stsTokenManager.getToken(m.auth,p));return ae(b,m.auth,"internal-error"),m.accessToken!==b&&(m.accessToken=b,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),b})()}getIdTokenResult(p){return function en(v){return Yt.apply(this,arguments)}(this,p)}reload(){return function qt(v){return xt.apply(this,arguments)}(this)}_assign(p){this!==p&&(ae(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new et(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var b=this;return(0,l.Z)(function*(){let D=!1;p.idToken&&p.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(p),D=!0),m&&(yield On(b)),yield b.auth._persistUserIfCurrent(b),D&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var p=this;return(0,l.Z)(function*(){const m=yield p.getIdToken();return yield rt(p,function cr(v,p){return st.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var b,D,A,ce,xe,mt,bt,rn;const Bn=null!==(b=m.displayName)&&void 0!==b?b:void 0,Io=null!==(D=m.email)&&void 0!==D?D:void 0,Ls=null!==(A=m.phoneNumber)&&void 0!==A?A:void 0,To=null!==(ce=m.photoURL)&&void 0!==ce?ce:void 0,Ta=null!==(xe=m.tenantId)&&void 0!==xe?xe:void 0,$d=null!==(mt=m._redirectEventId)&&void 0!==mt?mt:void 0,Da=null!==(bt=m.createdAt)&&void 0!==bt?bt:void 0,Ma=null!==(rn=m.lastLoginAt)&&void 0!==rn?rn:void 0,{uid:Fl,emailVerified:Vs,isAnonymous:Ll,providerData:Su,stsTokenManager:Wf}=m;ae(Fl&&Wf,p,"internal-error");const Yn=W.fromJSON(this.name,Wf);ae("string"==typeof Fl,p,"internal-error"),Te(Bn,p.name),Te(Io,p.name),ae("boolean"==typeof Vs,p,"internal-error"),ae("boolean"==typeof Ll,p,"internal-error"),Te(Ls,p.name),Te(To,p.name),Te(Ta,p.name),Te($d,p.name),Te(Da,p.name),Te(Ma,p.name);const di=new et({uid:Fl,auth:p,email:Io,emailVerified:Vs,displayName:Bn,isAnonymous:Ll,photoURL:To,phoneNumber:Ls,tenantId:Ta,stsTokenManager:Yn,createdAt:Da,lastLoginAt:Ma});return Su&&Array.isArray(Su)&&(di.providerData=Su.map(Kf=>Object.assign({},Kf))),$d&&(di._redirectEventId=$d),di}static _fromIdTokenResponse(p,m,b=!1){return(0,l.Z)(function*(){const D=new W;D.updateFromServerResponse(m);const A=new et({uid:m.localId,auth:p,stsTokenManager:D,isAnonymous:b});return yield On(A),A})()}}const sn=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(m,b){var D=this;return(0,l.Z)(function*(){D.storage[m]=b})()}_get(m){var b=this;return(0,l.Z)(function*(){const D=b.storage[m];return void 0===D?null:D})()}_remove(m){var b=this;return(0,l.Z)(function*(){delete b.storage[m]})()}_addListener(m,b){}_removeListener(m,b){}}return v.type="NONE",v})();function un(v,p,m){return`firebase:${v}:${p}:${m}`}class he{constructor(p,m,b){this.persistence=p,this.auth=m,this.userKey=b;const{config:D,name:A}=this.auth;this.fullUserKey=un(this.userKey,D.apiKey,A),this.fullPersistenceKey=un("persistence",D.apiKey,A),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,l.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?et._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,l.Z)(function*(){if(m.persistence===p)return;const b=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,b?m.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,b="authUser"){return(0,l.Z)(function*(){if(!m.length)return new he(U(sn),p,b);const D=(yield Promise.all(m.map(function(){var bt=(0,l.Z)(function*(rn){if(yield rn._isAvailable())return rn});return function(rn){return bt.apply(this,arguments)}}()))).filter(bt=>bt);let A=D[0]||U(sn);const ce=un(b,p.config.apiKey,p.name);let xe=null;for(const bt of m)try{const rn=yield bt._get(ce);if(rn){const Bn=et._fromJSON(p,rn);bt!==A&&(xe=Bn),A=bt;break}}catch{}const mt=D.filter(bt=>bt._shouldAllowMigration);return A._shouldAllowMigration&&mt.length?(A=mt[0],xe&&(yield A._set(ce,xe.toJSON())),yield Promise.all(m.map(function(){var bt=(0,l.Z)(function*(rn){if(rn!==A)try{yield rn._remove(ce)}catch{}});return function(rn){return bt.apply(this,arguments)}}())),new he(A,p,b)):new he(A,p,b)})()}}function N(v){const p=v.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Oe(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(S(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(ot(p))return"Blackberry";if(_t(p))return"Webos";if(F(p))return"Safari";if((p.includes("chrome/")||ie(p))&&!p.includes("edge/"))return"Chrome";if(it(p))return"Android";{const b=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==b?void 0:b.length))return b[1]}return"Other"}function S(v=(0,L.z$)()){return/firefox\//i.test(v)}function F(v=(0,L.z$)()){const p=v.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function ie(v=(0,L.z$)()){return/crios\//i.test(v)}function Oe(v=(0,L.z$)()){return/iemobile/i.test(v)}function it(v=(0,L.z$)()){return/android/i.test(v)}function ot(v=(0,L.z$)()){return/blackberry/i.test(v)}function _t(v=(0,L.z$)()){return/webos/i.test(v)}function St(v=(0,L.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function Gt(v=(0,L.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}function Ct(v=(0,L.z$)()){return St(v)||it(v)||_t(v)||ot(v)||/windows phone/i.test(v)||Oe(v)}function Lr(v,p=[]){let m;switch(v){case"Browser":m=N((0,L.z$)());break;case"Worker":m=`${N((0,L.z$)())}-${v}`;break;default:m=v}const b=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${x.SDK_VERSION}/${b}`}class Pi{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,m){const b=A=>new Promise((ce,xe)=>{try{ce(p(A))}catch(mt){xe(mt)}});b.onAbort=m,this.queue.push(b);const D=this.queue.length-1;return()=>{this.queue[D]=()=>Promise.resolve()}}runMiddleware(p){var m=this;return(0,l.Z)(function*(){var b;if(m.auth.currentUser===p)return;const D=[];try{for(const A of m.queue)yield A(p),A.onAbort&&D.push(A.onAbort)}catch(A){D.reverse();for(const ce of D)try{ce()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:null===(b=A)||void 0===b?void 0:b.message})}})()}}class Xn{constructor(p,m,b){this.app=p,this.heartbeatServiceProvider=m,this.config=b,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ee(this),this.idTokenSubscription=new ee(this),this.beforeStateQueue=new Pi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ge,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=b.sdkClientVersion}_initializeWithPersistence(p,m){var b=this;return m&&(this._popupRedirectResolver=U(m)),this._initializationPromise=this.queue((0,l.Z)(function*(){var D,A;if(!b._deleted&&(b.persistenceManager=yield he.create(b,p),!b._deleted)){if(null===(D=b._popupRedirectResolver)||void 0===D?void 0:D._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch{}yield b.initializeCurrentUser(m),b.lastNotifiedUid=(null===(A=b.currentUser)||void 0===A?void 0:A.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,l.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m,!0)}})()}initializeCurrentUser(p){var m=this;return(0,l.Z)(function*(){var b;const D=yield m.assertedPersistence.getCurrentUser();let A=D,ce=!1;if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const xe=null===(b=m.redirectUser)||void 0===b?void 0:b._redirectEventId,mt=null==A?void 0:A._redirectEventId,bt=yield m.tryRedirectSignIn(p);(!xe||xe===mt)&&(null==bt?void 0:bt.user)&&(A=bt.user,ce=!0)}if(!A)return m.directlySetCurrentUser(null);if(!A._redirectEventId){if(ce)try{yield m.beforeStateQueue.runMiddleware(A)}catch(xe){A=D,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(xe))}return A?m.reloadAndSetCurrentUserOrClear(A):m.directlySetCurrentUser(null)}return ae(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===A._redirectEventId?m.directlySetCurrentUser(A):m.reloadAndSetCurrentUserOrClear(A)})()}tryRedirectSignIn(p){var m=this;return(0,l.Z)(function*(){let b=null;try{b=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch{yield m._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,l.Z)(function*(){var b;try{yield On(p)}catch(D){if("auth/network-request-failed"!==(null===(b=D)||void 0===b?void 0:b.code))return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function ct(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var p=this;return(0,l.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,l.Z)(function*(){const b=p?(0,L.m9)(p):null;return b&&ae(b.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(b&&b._clone(m))})()}_updateCurrentUser(p,m=!1){var b=this;return(0,l.Z)(function*(){if(!b._deleted)return p&&ae(b.tenantId===p.tenantId,b,"tenant-id-mismatch"),m||(yield b.beforeStateQueue.runMiddleware(p)),b.queue((0,l.Z)(function*(){yield b.directlySetCurrentUser(p),b.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,l.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var m=this;return this.queue((0,l.Z)(function*(){yield m.assertedPersistence.setPersistence(U(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new L.LL("auth","Firebase",p())}onAuthStateChanged(p,m,b){return this.registerStateListener(this.authStateSubscription,p,m,b)}beforeAuthStateChanged(p,m){return this.beforeStateQueue.pushCallback(p,m)}onIdTokenChanged(p,m,b){return this.registerStateListener(this.idTokenSubscription,p,m,b)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var b=this;return(0,l.Z)(function*(){const D=yield b.getOrInitRedirectPersistenceManager(m);return null===p?D.removeCurrentUser():D.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,l.Z)(function*(){if(!m.redirectPersistenceManager){const b=p&&U(p)||m._popupRedirectResolver;ae(b,m,"argument-error"),m.redirectPersistenceManager=yield he.create(m,[U(b._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,l.Z)(function*(){var b,D;return m._isInitialized&&(yield m.queue((0,l.Z)(function*(){}))),(null===(b=m._currentUser)||void 0===b?void 0:b._redirectEventId)===p?m._currentUser:(null===(D=m.redirectUser)||void 0===D?void 0:D._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,l.Z)(function*(){if(p===m.currentUser)return m.queue((0,l.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,b,D){if(this._deleted)return()=>{};const A="function"==typeof m?m:m.next.bind(m),ce=this._isInitialized?Promise.resolve():this._initializationPromise;return ae(ce,this,"internal-error"),ce.then(()=>A(this.currentUser)),"function"==typeof m?p.addObserver(m,b,D):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,l.Z)(function*(){m.currentUser&&m.currentUser!==p&&m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh(),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Lr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,l.Z)(function*(){var m;const b={"X-Client-Version":p.clientVersion};p.app.options.appId&&(b["X-Firebase-gmpid"]=p.app.options.appId);const D=yield null===(m=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return D&&(b["X-Firebase-Client"]=D),b})()}}function Vn(v){return(0,L.m9)(v)}class ee{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,L.ne)(m=>this.observer=m)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ce(v,p,m){const b=Vn(v);ae(b._canInitEmulator,b,"emulator-config-failed"),ae(/^https?:\/\//.test(p),b,"invalid-emulator-scheme");const D=!!(null==m?void 0:m.disableWarnings),A=He(p),{host:ce,port:xe}=function qe(v){const p=He(v),m=/(\/\/)?([^?#/]+)/.exec(v.substr(p.length));if(!m)return{host:"",port:null};const b=m[2].split("@").pop()||"",D=/^(\[[^\]]+\])(:|$)/.exec(b);if(D){const A=D[1];return{host:A,port:Sn(b.substr(A.length+1))}}{const[A,ce]=b.split(":");return{host:A,port:Sn(ce)}}}(p);b.config.emulator={url:`${A}//${ce}${null===xe?"":`:${xe}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:ce,port:xe,protocol:A.replace(":",""),options:Object.freeze({disableWarnings:D})}),D||function mn(){function v(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}function He(v){const p=v.indexOf(":");return p<0?"":v.substr(0,p+1)}function Sn(v){if(!v)return null;const p=Number(v);return isNaN(p)?null:p}class Rn{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return ge("not implemented")}_getIdTokenResponse(p){return ge("not implemented")}_linkToIdToken(p,m){return ge("not implemented")}_getReauthenticationResolver(p){return ge("not implemented")}}function Hn(v,p){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,l.Z)(function*(v,p){return Kt(v,"POST","/v1/accounts:resetPassword",gt(v,p))})).apply(this,arguments)}function vr(v,p){return bi.apply(this,arguments)}function bi(){return(bi=(0,l.Z)(function*(v,p){return Kt(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Vr(v,p){return bn.apply(this,arguments)}function bn(){return(bn=(0,l.Z)(function*(v,p){return Kt(v,"POST","/v1/accounts:update",gt(v,p))})).apply(this,arguments)}function $i(){return($i=(0,l.Z)(function*(v,p){return vn(v,"POST","/v1/accounts:signInWithPassword",gt(v,p))})).apply(this,arguments)}function Ai(v,p){return vo.apply(this,arguments)}function vo(){return(vo=(0,l.Z)(function*(v,p){return Kt(v,"POST","/v1/accounts:sendOobCode",gt(v,p))})).apply(this,arguments)}function Cr(v,p){return _s.apply(this,arguments)}function _s(){return(_s=(0,l.Z)(function*(v,p){return Ai(v,p)})).apply(this,arguments)}function to(v,p){return er.apply(this,arguments)}function er(){return(er=(0,l.Z)(function*(v,p){return Ai(v,p)})).apply(this,arguments)}function iu(v,p){return ai.apply(this,arguments)}function ai(){return(ai=(0,l.Z)(function*(v,p){return Ai(v,p)})).apply(this,arguments)}function Ar(v,p){return ys.apply(this,arguments)}function ys(){return(ys=(0,l.Z)(function*(v,p){return Ai(v,p)})).apply(this,arguments)}function Bo(){return(Bo=(0,l.Z)(function*(v,p){return vn(v,"POST","/v1/accounts:signInWithEmailLink",gt(v,p))})).apply(this,arguments)}function ou(){return(ou=(0,l.Z)(function*(v,p){return vn(v,"POST","/v1/accounts:signInWithEmailLink",gt(v,p))})).apply(this,arguments)}class ji extends Rn{constructor(p,m,b,D=null){super("password",b),this._email=p,this._password=m,this._tenantId=D}static _fromEmailAndPassword(p,m){return new ji(p,m,"password")}static _fromEmailAndCode(p,m,b=null){return new ji(p,m,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,l.Z)(function*(){switch(m.signInMethod){case"password":return function ru(v,p){return $i.apply(this,arguments)}(p,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function vs(v,p){return Bo.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:Ae(p,"internal-error")}})()}_linkToIdToken(p,m){var b=this;return(0,l.Z)(function*(){switch(b.signInMethod){case"password":return vr(p,{idToken:m,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function br(v,p){return ou.apply(this,arguments)}(p,{idToken:m,email:b._email,oobCode:b._password});default:Ae(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function hr(v,p){return fl.apply(this,arguments)}function fl(){return(fl=(0,l.Z)(function*(v,p){return vn(v,"POST","/v1/accounts:signInWithIdp",gt(v,p))})).apply(this,arguments)}class Gi extends Rn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new Gi(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):Ae("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:D}=m,A=(0,re._T)(m,["providerId","signInMethod"]);if(!b||!D)return null;const ce=new Gi(b,D);return ce.idToken=A.idToken||void 0,ce.accessToken=A.accessToken||void 0,ce.secret=A.secret,ce.nonce=A.nonce,ce.pendingToken=A.pendingToken||null,ce}_getIdTokenResponse(p){return hr(p,this.buildRequest())}_linkToIdToken(p,m){const b=this.buildRequest();return b.idToken=m,hr(p,b)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,hr(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,L.xO)(m)}return p}}function gf(v,p){return pl.apply(this,arguments)}function pl(){return(pl=(0,l.Z)(function*(v,p){return Kt(v,"POST","/v1/accounts:sendVerificationCode",gt(v,p))})).apply(this,arguments)}function se(){return(se=(0,l.Z)(function*(v,p){return vn(v,"POST","/v1/accounts:signInWithPhoneNumber",gt(v,p))})).apply(this,arguments)}function tt(){return(tt=(0,l.Z)(function*(v,p){const m=yield vn(v,"POST","/v1/accounts:signInWithPhoneNumber",gt(v,p));if(m.temporaryProof)throw Mn(v,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const kt={USER_NOT_FOUND:"user-not-found"};function wn(){return(wn=(0,l.Z)(function*(v,p){return vn(v,"POST","/v1/accounts:signInWithPhoneNumber",gt(v,Object.assign(Object.assign({},p),{operation:"REAUTH"})),kt)})).apply(this,arguments)}class kn extends Rn{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new kn({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new kn({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function j(v,p){return se.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function Pe(v,p){return tt.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function tn(v,p){return wn.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:b,verificationCode:D}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:b,code:D}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:b,phoneNumber:D,temporaryProof:A}=p;return b||m||D||A?new kn({verificationId:m,verificationCode:b,phoneNumber:D,temporaryProof:A}):null}}class Hi{constructor(p){var m,b,D,A,ce,xe;const mt=(0,L.zd)((0,L.pd)(p)),bt=null!==(m=mt.apiKey)&&void 0!==m?m:null,rn=null!==(b=mt.oobCode)&&void 0!==b?b:null,Bn=function $o(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(D=mt.mode)&&void 0!==D?D:null);ae(bt&&rn&&Bn,"argument-error"),this.apiKey=bt,this.operation=Bn,this.code=rn,this.continueUrl=null!==(A=mt.continueUrl)&&void 0!==A?A:null,this.languageCode=null!==(ce=mt.languageCode)&&void 0!==ce?ce:null,this.tenantId=null!==(xe=mt.tenantId)&&void 0!==xe?xe:null}static parseLink(p){const m=function rd(v){const p=(0,L.zd)((0,L.pd)(v)).link,m=p?(0,L.zd)((0,L.pd)(p)).deep_link_id:null,b=(0,L.zd)((0,L.pd)(v)).deep_link_id;return(b?(0,L.zd)((0,L.pd)(b)).link:null)||b||m||p||v}(p);try{return new Hi(m)}catch{return null}}}let id=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(m,b){return ji._fromEmailAndPassword(m,b)}static credentialWithLink(m,b){const D=Hi.parseLink(b);return ae(D,"argument-error"),ji._fromEmailAndCode(m,D.code,D.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class jo{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class su extends jo{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class xi extends su{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return ae("providerId"in m&&"signInMethod"in m,"argument-error"),Gi._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return ae(p.idToken||p.accessToken,"argument-error"),Gi._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return xi.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return xi.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:b,oauthTokenSecret:D,pendingToken:A,nonce:ce,providerId:xe}=p;if(!b&&!D&&!m&&!A||!xe)return null;try{return new xi(xe)._credential({idToken:m,accessToken:b,nonce:ce,pendingToken:A})}catch{return null}}}let od=(()=>{class v extends su{constructor(){super("facebook.com")}static credential(m){return Gi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch{return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),au=(()=>{class v extends su{constructor(){super("google.com"),this.addScope("profile")}static credential(m,b){return Gi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:b})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:b,oauthAccessToken:D}=m;if(!b&&!D)return null;try{return v.credential(b,D)}catch{return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),mf=(()=>{class v extends su{constructor(){super("github.com")}static credential(m){return Gi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch{return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class Js extends Rn{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return hr(p,this.buildRequest())}_linkToIdToken(p,m){const b=this.buildRequest();return b.idToken=m,hr(p,b)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,hr(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:D,pendingToken:A}=m;return b&&D&&A&&b===D?new Js(b,A):null}static _create(p,m){return new Js(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class uu extends jo{constructor(p){ae(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return uu.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return uu.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=Js.fromJSON(p);return ae(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:b}=p;if(!m||!b)return null;try{return Js._create(b,m)}catch{return null}}}let om=(()=>{class v extends su{constructor(){super("twitter.com")}static credential(m,b){return Gi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:b})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:b,oauthTokenSecret:D}=m;if(!b||!D)return null;try{return v.credential(b,D)}catch{return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function gl(v,p){return _f.apply(this,arguments)}function _f(){return(_f=(0,l.Z)(function*(v,p){return vn(v,"POST","/v1/accounts:signUp",gt(v,p))})).apply(this,arguments)}class zn{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,b,D=!1){return(0,l.Z)(function*(){const A=yield et._fromIdTokenResponse(p,b,D),ce=yf(b);return new zn({user:A,providerId:ce,_tokenResponse:b,operationType:m})})()}static _forOperation(p,m,b){return(0,l.Z)(function*(){yield p._updateTokensIfNecessary(b,!0);const D=yf(b);return new zn({user:p,providerId:D,_tokenResponse:b,operationType:m})})()}}function yf(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function sm(v){return ml.apply(this,arguments)}function ml(){return(ml=(0,l.Z)(function*(v){var p;const m=Vn(v);if(yield m._initializationPromise,null===(p=m.currentUser)||void 0===p?void 0:p.isAnonymous)return new zn({user:m.currentUser,providerId:null,operationType:"signIn"});const b=yield gl(m,{returnSecureToken:!0}),D=yield zn._fromIdTokenResponse(m,"signIn",b,!0);return yield m._updateCurrentUser(D.user),D})).apply(this,arguments)}class _l extends L.ZR{constructor(p,m,b,D){var A;super(m.code,m.message),this.operationType=b,this.user=D,Object.setPrototypeOf(this,_l.prototype),this.customData={appName:p.name,tenantId:null!==(A=p.tenantId)&&void 0!==A?A:void 0,_serverResponse:m.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(p,m,b,D){return new _l(p,m,b,D)}}function yl(v,p,m,b){return("reauthenticate"===p?m._getReauthenticationResolver(v):m._getIdTokenResponse(v)).catch(A=>{throw"auth/multi-factor-auth-required"===A.code?_l._fromErrorAndOperation(v,A,p,b):A})}function vf(v){return new Set(v.map(({providerId:p})=>p).filter(p=>!!p))}function tr(v,p){return ad.apply(this,arguments)}function ad(){return(ad=(0,l.Z)(function*(v,p){const m=(0,L.m9)(v);yield Xs(!0,m,p);const{providerUserInfo:b}=yield ne(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),D=vf(b||[]);return m.providerData=m.providerData.filter(A=>D.has(A.providerId)),D.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function vl(v,p){return nr.apply(this,arguments)}function nr(){return(nr=(0,l.Z)(function*(v,p,m=!1){const b=yield rt(v,p._linkToIdToken(v.auth,yield v.getIdToken()),m);return zn._forOperation(v,"link",b)})).apply(this,arguments)}function Xs(v,p,m){return ea.apply(this,arguments)}function ea(){return(ea=(0,l.Z)(function*(v,p,m){yield On(p);const D=!1===v?"provider-already-linked":"no-such-provider";ae(vf(p.providerData).has(m)===v,p.auth,D)})).apply(this,arguments)}function lu(v,p){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,l.Z)(function*(v,p,m=!1){var b;const{auth:D}=v,A="reauthenticate";try{const ce=yield rt(v,yl(D,A,p,v),m);ae(ce.idToken,D,"internal-error");const xe=Ft(ce.idToken);ae(xe,D,"internal-error");const{sub:mt}=xe;return ae(v.uid===mt,D,"user-mismatch"),zn._forOperation(v,A,ce)}catch(ce){throw"auth/user-not-found"===(null===(b=ce)||void 0===b?void 0:b.code)&&Ae(D,"user-mismatch"),ce}})).apply(this,arguments)}function Cf(v,p){return ta.apply(this,arguments)}function ta(){return(ta=(0,l.Z)(function*(v,p,m=!1){const b="signIn",D=yield yl(v,b,p),A=yield zn._fromIdTokenResponse(v,b,D);return m||(yield v._updateCurrentUser(A.user)),A})).apply(this,arguments)}function Co(v,p){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,l.Z)(function*(v,p){return Cf(Vn(v),p)})).apply(this,arguments)}function cu(v,p){return du.apply(this,arguments)}function du(){return(du=(0,l.Z)(function*(v,p){const m=(0,L.m9)(v);return yield Xs(!1,m,p.providerId),vl(m,p)})).apply(this,arguments)}function hu(v,p){return wi.apply(this,arguments)}function wi(){return(wi=(0,l.Z)(function*(v,p){return lu((0,L.m9)(v),p)})).apply(this,arguments)}function ud(v,p){return na.apply(this,arguments)}function na(){return(na=(0,l.Z)(function*(v,p){return vn(v,"POST","/v1/accounts:signInWithCustomToken",gt(v,p))})).apply(this,arguments)}function Vt(v,p){return ld.apply(this,arguments)}function ld(){return(ld=(0,l.Z)(function*(v,p){const m=Vn(v),b=yield ud(m,{token:p,returnSecureToken:!0}),D=yield zn._fromIdTokenResponse(m,"signIn",b);return yield m._updateCurrentUser(D.user),D})).apply(this,arguments)}class ra{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?fu._fromServerResponse(p,m):Ae(p,"internal-error")}}class fu extends ra{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new fu(m)}}function pu(v,p,m){var b;ae((null===(b=m.url)||void 0===b?void 0:b.length)>0,v,"invalid-continue-uri"),ae(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(ae(m.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(ae(m.android.packageName.length>0,v,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function cd(v,p,m){return dd.apply(this,arguments)}function dd(){return(dd=(0,l.Z)(function*(v,p,m){const b=(0,L.m9)(v),D={requestType:"PASSWORD_RESET",email:p};m&&pu(b,D,m),yield to(b,D)})).apply(this,arguments)}function am(v,p,m){return Be.apply(this,arguments)}function Be(){return(Be=(0,l.Z)(function*(v,p,m){yield Hn((0,L.m9)(v),{oobCode:p,newPassword:m})})).apply(this,arguments)}function yn(v,p){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,l.Z)(function*(v,p){yield Vr((0,L.m9)(v),{oobCode:p})})).apply(this,arguments)}function fr(v,p){return hd.apply(this,arguments)}function hd(){return(hd=(0,l.Z)(function*(v,p){const m=(0,L.m9)(v),b=yield Hn(m,{oobCode:p}),D=b.requestType;switch(ae(D,m,"internal-error"),D){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ae(b.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ae(b.mfaInfo,m,"internal-error");default:ae(b.email,m,"internal-error")}let A=null;return b.mfaInfo&&(A=ra._fromServerResponse(Vn(m),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:A},operation:D}})).apply(this,arguments)}function bs(v,p){return ui.apply(this,arguments)}function ui(){return(ui=(0,l.Z)(function*(v,p){const{data:m}=yield fr((0,L.m9)(v),p);return m.email})).apply(this,arguments)}function fd(v,p,m){return ia.apply(this,arguments)}function ia(){return(ia=(0,l.Z)(function*(v,p,m){const b=Vn(v),D=yield gl(b,{returnSecureToken:!0,email:p,password:m}),A=yield zn._fromIdTokenResponse(b,"signIn",D);return yield b._updateCurrentUser(A.user),A})).apply(this,arguments)}function d0(v,p,m){return Co((0,L.m9)(v),id.credential(p,m))}function um(v,p,m){return oa.apply(this,arguments)}function oa(){return(oa=(0,l.Z)(function*(v,p,m){const b=(0,L.m9)(v),D={requestType:"EMAIL_SIGNIN",email:p};ae(m.handleCodeInApp,b,"argument-error"),m&&pu(b,D,m),yield iu(b,D)})).apply(this,arguments)}function gu(v,p){const m=Hi.parseLink(p);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}function ei(v,p,m){return zi.apply(this,arguments)}function zi(){return(zi=(0,l.Z)(function*(v,p,m){const b=(0,L.m9)(v),D=id.credentialWithLink(p,m||K());return ae(D._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),Co(b,D)})).apply(this,arguments)}function pd(v,p){return Go.apply(this,arguments)}function Go(){return(Go=(0,l.Z)(function*(v,p){return Kt(v,"POST","/v1/accounts:createAuthUri",gt(v,p))})).apply(this,arguments)}function bo(v,p){return gd.apply(this,arguments)}function gd(){return(gd=(0,l.Z)(function*(v,p){const b={identifier:p,continueUri:_e()?K():"http://localhost"},{signinMethods:D}=yield pd((0,L.m9)(v),b);return D||[]})).apply(this,arguments)}function bf(v,p){return md.apply(this,arguments)}function md(){return(md=(0,l.Z)(function*(v,p){const m=(0,L.m9)(v),D={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};p&&pu(m.auth,D,p);const{email:A}=yield Cr(m.auth,D);A!==v.email&&(yield v.reload())})).apply(this,arguments)}function lm(v,p,m){return mu.apply(this,arguments)}function mu(){return(mu=(0,l.Z)(function*(v,p,m){const b=(0,L.m9)(v),A={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:p};m&&pu(b.auth,A,m);const{email:ce}=yield Ar(b.auth,A);ce!==v.email&&(yield v.reload())})).apply(this,arguments)}function _d(v,p){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,l.Z)(function*(v,p){return Kt(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function yd(v,p){return wf.apply(this,arguments)}function wf(){return(wf=(0,l.Z)(function*(v,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const b=(0,L.m9)(v),A={idToken:yield b.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},ce=yield rt(b,_d(b.auth,A));b.displayName=ce.displayName||null,b.photoURL=ce.photoUrl||null;const xe=b.providerData.find(({providerId:mt})=>"password"===mt);xe&&(xe.displayName=b.displayName,xe.photoURL=b.photoURL),yield b._updateTokensIfNecessary(ce)})).apply(this,arguments)}function Ef(v,p){return Cd((0,L.m9)(v),p,null)}function vd(v,p){return Cd((0,L.m9)(v),null,p)}function Cd(v,p,m){return sa.apply(this,arguments)}function sa(){return(sa=(0,l.Z)(function*(v,p,m){const{auth:b}=v,A={idToken:yield v.getIdToken(),returnSecureToken:!0};p&&(A.email=p),m&&(A.password=m);const ce=yield rt(v,vr(b,A));yield v._updateTokensIfNecessary(ce,!0)})).apply(this,arguments)}class ws{constructor(p,m,b={}){this.isNewUser=p,this.providerId=m,this.profile=b}}class bl extends ws{constructor(p,m,b,D){super(p,m,b),this.username=D}}class h0 extends ws{constructor(p,m){super(p,"facebook.com",m)}}class Tf extends bl{constructor(p,m){super(p,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class rr extends ws{constructor(p,m){super(p,"google.com",m)}}class Ho extends bl{constructor(p,m,b){super(p,"twitter.com",m,b)}}function ir(v){const{user:p,_tokenResponse:m}=v;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function If(v){var p,m;if(!v)return null;const{providerId:b}=v,D=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},A=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!b&&(null==v?void 0:v.idToken)){const ce=null===(m=null===(p=Ft(v.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(ce)return new ws(A,"anonymous"!==ce&&"custom"!==ce?ce:null)}if(!b)return null;switch(b){case"facebook.com":return new h0(A,D);case"github.com":return new Tf(A,D);case"google.com":return new rr(A,D);case"twitter.com":return new Ho(A,D,v.screenName||null);case"custom":case"anonymous":return new ws(A,null);default:return new ws(A,b,D)}}(m)}function f0(v,p,m,b){return(0,L.m9)(v).onAuthStateChanged(p,m,b)}class zo{constructor(p,m,b){this.type=p,this.credential=m,this.auth=b}static _fromIdtoken(p,m){return new zo("enroll",p,m)}static _fromMfaPendingCredential(p){return new zo("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,b;if(null==p?void 0:p.multiFactorSession){if(null===(m=p.multiFactorSession)||void 0===m?void 0:m.pendingCredential)return zo._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(b=p.multiFactorSession)||void 0===b?void 0:b.idToken)return zo._fromIdtoken(p.multiFactorSession.idToken)}return null}}class wd{constructor(p,m,b){this.session=p,this.hints=m,this.signInResolver=b}static _fromError(p,m){const b=Vn(p),D=m.customData._serverResponse,A=(D.mfaInfo||[]).map(xe=>ra._fromServerResponse(b,xe));ae(D.mfaPendingCredential,b,"internal-error");const ce=zo._fromMfaPendingCredential(D.mfaPendingCredential);return new wd(ce,A,function(){var xe=(0,l.Z)(function*(mt){const bt=yield mt._process(b,ce);delete D.mfaInfo,delete D.mfaPendingCredential;const rn=Object.assign(Object.assign({},D),{idToken:bt.idToken,refreshToken:bt.refreshToken});switch(m.operationType){case"signIn":const Bn=yield zn._fromIdTokenResponse(b,m.operationType,rn);return yield b._updateCurrentUser(Bn.user),Bn;case"reauthenticate":return ae(m.user,b,"internal-error"),zn._forOperation(m.user,m.operationType,rn);default:Ae(b,"internal-error")}});return function(mt){return xe.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,l.Z)(function*(){return m.signInResolver(p)})()}}function dm(v,p){var m;const b=(0,L.m9)(v),D=p;return ae(p.customData.operationType,b,"argument-error"),ae(null===(m=D.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,b,"argument-error"),wd._fromError(b,D)}function Es(v,p){return Kt(v,"POST","/v2/accounts/mfaEnrollment:start",gt(v,p))}class Of{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(b=>ra._fromServerResponse(p.auth,b)))})}static _fromUser(p){return new Of(p)}getSession(){var p=this;return(0,l.Z)(function*(){return zo._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,m){var b=this;return(0,l.Z)(function*(){const D=p,A=yield b.getSession(),ce=yield rt(b.user,D._process(b.user.auth,A,m));return yield b.user._updateTokensIfNecessary(ce),b.user.reload()})()}unenroll(p){var m=this;return(0,l.Z)(function*(){var b;const D="string"==typeof p?p:p.uid,A=yield m.user.getIdToken(),ce=yield rt(m.user,function g0(v,p){return Kt(v,"POST","/v2/accounts/mfaEnrollment:withdraw",gt(v,p))}(m.user.auth,{idToken:A,mfaEnrollmentId:D}));m.enrolledFactors=m.enrolledFactors.filter(({uid:xe})=>xe!==D),yield m.user._updateTokensIfNecessary(ce);try{yield m.user.reload()}catch(xe){if("auth/user-token-expired"!==(null===(b=xe)||void 0===b?void 0:b.code))throw xe}})()}}const aa=new WeakMap;function Pf(v){const p=(0,L.m9)(v);return aa.has(p)||aa.set(p,Of._fromUser(p)),aa.get(p)}const ua="__sak";class Af{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(ua,"1"),this.storage.removeItem(ua),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Mt=(()=>{class v extends Af{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,b)=>this.onStorageEvent(m,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function hm(){const v=(0,L.z$)();return F(v)||St(v)}()&&function gn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Ct(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const b of Object.keys(this.listeners)){const D=this.storage.getItem(b),A=this.localCache[b];D!==A&&m(b,A,D)}}onStorageEvent(m,b=!1){if(!m.key)return void this.forAllChangedKeys((xe,mt,bt)=>{this.notifyListeners(xe,bt)});const D=m.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const xe=this.storage.getItem(D);if(m.newValue!==xe)null!==m.newValue?this.storage.setItem(D,m.newValue):this.storage.removeItem(D);else if(this.localCache[D]===m.newValue&&!b)return}const A=()=>{const xe=this.storage.getItem(D);!b&&this.localCache[D]===xe||this.notifyListeners(D,xe)},ce=this.storage.getItem(D);!function ke(){return(0,L.w1)()&&10===document.documentMode}()||ce===m.newValue||m.newValue===m.oldValue?A():setTimeout(A,10)}notifyListeners(m,b){this.localCache[m]=b;const D=this.listeners[m];if(D)for(const A of Array.from(D))A(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,b,D)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:b,newValue:D}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,b){var D=()=>super._set,A=this;return(0,l.Z)(function*(){yield D().call(A,m,b),A.localCache[m]=JSON.stringify(b)})()}_get(m){var b=()=>super._get,D=this;return(0,l.Z)(function*(){const A=yield b().call(D,m);return D.localCache[m]=JSON.stringify(A),A})()}_remove(m){var b=()=>super._remove,D=this;return(0,l.Z)(function*(){yield b().call(D,m),delete D.localCache[m]})()}}return v.type="LOCAL",v})(),li=(()=>{class v extends Af{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,b){}_removeListener(m,b){}}return v.type="SESSION",v})();let ca=(()=>{class v{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const b=this.receivers.find(A=>A.isListeningto(m));if(b)return b;const D=new v(m);return this.receivers.push(D),D}isListeningto(m){return this.eventTarget===m}handleEvent(m){var b=this;return(0,l.Z)(function*(){const D=m,{eventId:A,eventType:ce,data:xe}=D.data,mt=b.handlersMap[ce];if(!(null==mt?void 0:mt.size))return;D.ports[0].postMessage({status:"ack",eventId:A,eventType:ce});const bt=Array.from(mt).map(function(){var Bn=(0,l.Z)(function*(Io){return Io(D.origin,xe)});return function(Io){return Bn.apply(this,arguments)}}()),rn=yield function Dr(v){return Promise.all(v.map(function(){var p=(0,l.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(b){return{fulfilled:!1,reason:b}}});return function(m){return p.apply(this,arguments)}}()))}(bt);D.ports[0].postMessage({status:"done",eventId:A,eventType:ce,response:rn})})()}_subscribe(m,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(b)}_unsubscribe(m,b){this.handlersMap[m]&&b&&this.handlersMap[m].delete(b),(!b||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function yu(v="",p=10){let m="";for(let b=0;b<p;b++)m+=Math.floor(10*Math.random());return v+m}class da{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,b=50){var D=this;return(0,l.Z)(function*(){const A=typeof MessageChannel<"u"?new MessageChannel:null;if(!A)throw new Error("connection_unavailable");let ce,xe;return new Promise((mt,bt)=>{const rn=yu("",20);A.port1.start();const Bn=setTimeout(()=>{bt(new Error("unsupported_event"))},b);xe={messageChannel:A,onMessage(Io){const Ls=Io;if(Ls.data.eventId===rn)switch(Ls.data.status){case"ack":clearTimeout(Bn),ce=setTimeout(()=>{bt(new Error("timeout"))},3e3);break;case"done":clearTimeout(ce),mt(Ls.data.response);break;default:clearTimeout(Bn),clearTimeout(ce),bt(new Error("invalid_response"))}}},D.handlers.add(xe),A.port1.addEventListener("message",xe.onMessage),D.target.postMessage({eventType:p,eventId:rn,data:m},[A.port2])}).finally(()=>{xe&&D.removeMessageHandler(xe)})})()}}function pr(){return window}function xf(){return typeof pr().WorkerGlobalScope<"u"&&"function"==typeof pr().importScripts}function Lt(){return(Lt=(0,l.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const qo="firebaseLocalStorageDb",qn="firebaseLocalStorage",Cu="fbase_key";class Zo{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Il(v,p){return v.transaction([qn],p?"readwrite":"readonly").objectStore(qn)}function Tl(){const v=indexedDB.open(qo,1);return new Promise((p,m)=>{v.addEventListener("error",()=>{m(v.error)}),v.addEventListener("upgradeneeded",()=>{const b=v.result;try{b.createObjectStore(qn,{keyPath:Cu})}catch(D){m(D)}}),v.addEventListener("success",(0,l.Z)(function*(){const b=v.result;b.objectStoreNames.contains(qn)?p(b):(b.close(),yield function Ed(){const v=indexedDB.deleteDatabase(qo);return new Zo(v).toPromise()}(),p(yield Tl()))}))})}function fa(v,p,m){return Is.apply(this,arguments)}function Is(){return(Is=(0,l.Z)(function*(v,p,m){const b=Il(v,!0).put({[Cu]:p,value:m});return new Zo(b).toPromise()})).apply(this,arguments)}function bu(){return(bu=(0,l.Z)(function*(v,p){const m=Il(v,!1).get(p),b=yield new Zo(m).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function no(v,p){const m=Il(v,!0).delete(p);return new Zo(m).toPromise()}const xr=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,l.Z)(function*(){return m.db||(m.db=yield Tl()),m.db})()}_withRetries(m){var b=this;return(0,l.Z)(function*(){let D=0;for(;;)try{const A=yield b._openDb();return yield m(A)}catch(A){if(D++>3)throw A;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,l.Z)(function*(){return xf()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,l.Z)(function*(){m.receiver=ca._getInstance(function pm(){return xf()?self:null}()),m.receiver._subscribe("keyChanged",function(){var b=(0,l.Z)(function*(D,A){return{keyProcessed:(yield m._poll()).includes(A.key)}});return function(D,A){return b.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var b=(0,l.Z)(function*(D,A){return["keyChanged"]});return function(D,A){return b.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,l.Z)(function*(){var b,D;if(m.activeServiceWorker=yield function ha(){return Lt.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new da(m.activeServiceWorker);const A=yield m.sender._send("ping",{},800);!A||(null===(b=A[0])||void 0===b?void 0:b.fulfilled)&&(null===(D=A[0])||void 0===D?void 0:D.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var b=this;return(0,l.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function fm(){var v;return(null===(v=null==navigator?void 0:navigator.serviceWorker)||void 0===v?void 0:v.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:m},b.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Tl();return yield fa(m,ua,"1"),yield no(m,ua),!0}catch{}return!1})()}_withPendingWrite(m){var b=this;return(0,l.Z)(function*(){b.pendingWrites++;try{yield m()}finally{b.pendingWrites--}})()}_set(m,b){var D=this;return(0,l.Z)(function*(){return D._withPendingWrite((0,l.Z)(function*(){return yield D._withRetries(A=>fa(A,m,b)),D.localCache[m]=b,D.notifyServiceWorker(m)}))})()}_get(m){var b=this;return(0,l.Z)(function*(){const D=yield b._withRetries(A=>function gm(v,p){return bu.apply(this,arguments)}(A,m));return b.localCache[m]=D,D})()}_remove(m){var b=this;return(0,l.Z)(function*(){return b._withPendingWrite((0,l.Z)(function*(){return yield b._withRetries(D=>no(D,m)),delete b.localCache[m],b.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,l.Z)(function*(){const b=yield m._withRetries(ce=>{const xe=Il(ce,!1).getAll();return new Zo(xe).toPromise()});if(!b)return[];if(0!==m.pendingWrites)return[];const D=[],A=new Set;for(const{fbase_key:ce,value:xe}of b)A.add(ce),JSON.stringify(m.localCache[ce])!==JSON.stringify(xe)&&(m.notifyListeners(ce,xe),D.push(ce));for(const ce of Object.keys(m.localCache))m.localCache[ce]&&!A.has(ce)&&(m.notifyListeners(ce,null),D.push(ce));return D})()}notifyListeners(m,b){this.localCache[m]=b;const D=this.listeners[m];if(D)for(const A of Array.from(D))A(b)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function Ts(v,p){return Kt(v,"POST","/v2/accounts/mfaSignIn:start",gt(v,p))}function Ds(){return(Ds=(0,l.Z)(function*(v){return(yield Kt(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ms(v){return new Promise((p,m)=>{const b=document.createElement("script");b.setAttribute("src",v),b.onload=p,b.onerror=D=>{const A=Fe("internal-error");A.customData=D,m(A)},b.type="text/javascript",b.charset="UTF-8",function ro(){var v,p;return null!==(p=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==p?p:document}().appendChild(b)})}function Zi(v){return`__${v}${Math.floor(1e6*Math.random())}`}const Un=1e12;class Wo{constructor(p){this.auth=p,this.counter=Un,this._widgets=new Map}render(p,m){const b=this.counter;return this._widgets.set(b,new ma(p,this.auth.name,m||{})),this.counter++,b}reset(p){var m;const b=p||Un;null===(m=this._widgets.get(b))||void 0===m||m.delete(),this._widgets.delete(b)}getResponse(p){var m;return(null===(m=this._widgets.get(p||Un))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,l.Z)(function*(){var b;return null===(b=m._widgets.get(p||Un))||void 0===b||b.execute(),""})()}}class ma{constructor(p,m,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const D="string"==typeof p?document.getElementById(p):p;ae(D,"argument-error",{appName:m}),this.container=D,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Zn(v){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<v;b++)p.push(m.charAt(Math.floor(Math.random()*m.length)));return p.join("")}(50);const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Dl=Zi("rcb"),m0=new Ye(3e4,6e4);class _0{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(p=pr().grecaptcha)||void 0===p?void 0:p.render)}load(p,m=""){return ae(function _a(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(m),p,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(pr().grecaptcha):new Promise((b,D)=>{const A=pr().setTimeout(()=>{D(Fe(p,"network-request-failed"))},m0.get());pr()[Dl]=()=>{pr().clearTimeout(A),delete pr()[Dl];const xe=pr().grecaptcha;if(!xe)return void D(Fe(p,"internal-error"));const mt=xe.render;xe.render=(bt,rn)=>{const Bn=mt(bt,rn);return this.counter++,Bn},this.hostLanguage=m,b(xe)},Ms(`https://www.google.com/recaptcha/api.js??${(0,L.xO)({onload:Dl,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(A),D(Fe(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var m;return!!(null===(m=pr().grecaptcha)||void 0===m?void 0:m.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Si{load(p){return(0,l.Z)(function*(){return new Wo(p)})()}clearedOneInstance(){}}const _m="recaptcha",Ii={theme:"light",type:"image"};class Nf{constructor(p,m=Object.assign({},Ii),b){this.parameters=m,this.type=_m,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Vn(b),this.isInvisible="invisible"===this.parameters.size,ae(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const D="string"==typeof p?document.getElementById(p):p;ae(D,this.auth,"argument-error"),this.container=D,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Si:new _0,this.validateStartingState()}verify(){var p=this;return(0,l.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),b=p.getAssertedRecaptcha();return b.getResponse(m)||new Promise(A=>{const ce=xe=>{!xe||(p.tokenChangeListeners.delete(ce),A(xe))};p.tokenChangeListeners.add(ce),p.isInvisible&&b.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){ae(!this.parameters.sitekey,this.auth,"argument-error"),ae(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ae(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(b=>b(m)),"function"==typeof p)p(m);else if("string"==typeof p){const b=pr()[p];"function"==typeof b&&b(m)}}}assertNotDestroyed(){ae(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,l.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const b=document.createElement("div");m.appendChild(b),m=b}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,l.Z)(function*(){ae(_e()&&!xf(),p.auth,"internal-error"),yield function Kn(){let v=null;return new Promise(p=>{"complete"!==document.readyState?(v=()=>p(),window.addEventListener("load",v)):p()}).catch(p=>{throw v&&window.removeEventListener("load",v),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function gr(v){return Ds.apply(this,arguments)}(p.auth);ae(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return ae(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ya{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=kn._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function wu(v,p,m){return kf.apply(this,arguments)}function kf(){return(kf=(0,l.Z)(function*(v,p,m){const b=Vn(v),D=yield Ko(b,p,(0,L.m9)(m));return new ya(D,A=>Co(b,A))})).apply(this,arguments)}function ym(v,p,m){return ci.apply(this,arguments)}function ci(){return(ci=(0,l.Z)(function*(v,p,m){const b=(0,L.m9)(v);yield Xs(!1,b,"phone");const D=yield Ko(b.auth,p,(0,L.m9)(m));return new ya(D,A=>cu(b,A))})).apply(this,arguments)}function oo(v,p,m){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,l.Z)(function*(v,p,m){const b=(0,L.m9)(v),D=yield Ko(b.auth,p,(0,L.m9)(m));return new ya(D,A=>hu(b,A))})).apply(this,arguments)}function Ko(v,p,m){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,l.Z)(function*(v,p,m){var b;const D=yield m.verify();try{let A;if(ae("string"==typeof D,v,"argument-error"),ae(m.type===_m,v,"argument-error"),A="string"==typeof p?{phoneNumber:p}:p,"session"in A){const ce=A.session;if("phoneNumber"in A)return ae("enroll"===ce.type,v,"internal-error"),(yield Es(v,{idToken:ce.credential,phoneEnrollmentInfo:{phoneNumber:A.phoneNumber,recaptchaToken:D}})).phoneSessionInfo.sessionInfo;{ae("signin"===ce.type,v,"internal-error");const xe=(null===(b=A.multiFactorHint)||void 0===b?void 0:b.uid)||A.multiFactorUid;return ae(xe,v,"missing-multi-factor-info"),(yield Ts(v,{mfaPendingCredential:ce.credential,mfaEnrollmentId:xe,phoneSignInInfo:{recaptchaToken:D}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ce}=yield gf(v,{phoneNumber:A.phoneNumber,recaptchaToken:D});return ce}}finally{m._reset()}})).apply(this,arguments)}function Ff(v,p){return Id.apply(this,arguments)}function Id(){return(Id=(0,l.Z)(function*(v,p){yield vl((0,L.m9)(v),p)})).apply(this,arguments)}let vm=(()=>{class v{constructor(m){this.providerId=v.PROVIDER_ID,this.auth=Vn(m)}verifyPhoneNumber(m,b){return Ko(this.auth,m,(0,L.m9)(b))}static credential(m,b){return kn._fromVerification(m,b)}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:b,temporaryProof:D}=m;return b&&D?kn._fromTokenResponse(b,D):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function Os(v,p){return p?U(p):(ae(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class Td extends Rn{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return hr(p,this._buildIdpRequest())}_linkToIdToken(p,m){return hr(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return hr(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function ln(v){return Cf(v.auth,new Td(v),v.bypassAuthState)}function Ti(v){const{auth:p,user:m}=v;return ae(m,p,"internal-error"),lu(m,new Td(v),v.bypassAuthState)}function Qo(v){return wo.apply(this,arguments)}function wo(){return(wo=(0,l.Z)(function*(v){const{auth:p,user:m}=v;return ae(m,p,"internal-error"),vl(m,new Td(v),v.bypassAuthState)})).apply(this,arguments)}class Dd{constructor(p,m,b,D,A=!1){this.auth=p,this.resolver=b,this.user=D,this.bypassAuthState=A,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,l.Z)(function*(b,D){p.pendingPromise={resolve:b,reject:D};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(A){p.reject(A)}});return function(b,D){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,l.Z)(function*(){const{urlResponse:b,sessionId:D,postBody:A,tenantId:ce,error:xe,type:mt}=p;if(xe)return void m.reject(xe);const bt={auth:m.auth,requestUri:b,sessionId:D,tenantId:ce||void 0,postBody:A||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(mt)(bt))}catch(rn){m.reject(rn)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return ln;case"linkViaPopup":case"linkViaRedirect":return Qo;case"reauthViaPopup":case"reauthViaRedirect":return Ti;default:Ae(this.auth,"internal-error")}}resolve(p){Q(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){Q(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Lf=new Ye(2e3,1e4);function Cm(v,p,m){return Md.apply(this,arguments)}function Md(){return(Md=(0,l.Z)(function*(v,p,m){const b=Vn(v);Ve(v,p,jo);const D=Os(b,m);return new Pl(b,"signInViaPopup",p,D).executeNotNull()})).apply(this,arguments)}function so(v,p,m){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,l.Z)(function*(v,p,m){const b=(0,L.m9)(v);Ve(b.auth,p,jo);const D=Os(b.auth,m);return new Pl(b.auth,"reauthViaPopup",p,D,b).executeNotNull()})).apply(this,arguments)}function Vf(v,p,m){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,l.Z)(function*(v,p,m){const b=(0,L.m9)(v);Ve(b.auth,p,jo);const D=Os(b.auth,m);return new Pl(b.auth,"linkViaPopup",p,D,b).executeNotNull()})).apply(this,arguments)}let Pl=(()=>{class v extends Dd{constructor(m,b,D,A,ce){super(m,b,A,ce),this.provider=D,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var m=this;return(0,l.Z)(function*(){const b=yield m.execute();return ae(b,m.auth,"internal-error"),b})()}onExecution(){var m=this;return(0,l.Z)(function*(){Q(1===m.filter.length,"Popup operations only handle one event");const b=yu();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],b),m.authWindow.associatedEvent=b,m.resolver._originValidation(m.auth).catch(D=>{m.reject(D)}),m.resolver._isIframeWebStorageSupported(m.auth,D=>{D||m.reject(Fe(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Fe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const m=()=>{var b,D;this.pollId=(null===(D=null===(b=this.authWindow)||void 0===b?void 0:b.window)||void 0===D?void 0:D.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Fe(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,Lf.get())};m()}}return v.currentPopupAction=null,v})();const Di=new Map;class Iu extends Dd{constructor(p,m,b=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,b),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,l.Z)(function*(){let b=Di.get(m.auth._key());if(!b){try{const A=(yield function Od(v,p){return Ps.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;b=()=>Promise.resolve(A)}catch(D){b=()=>Promise.reject(D)}Di.set(m.auth._key(),b)}return m.bypassAuthState||Di.set(m.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,b=this;return(0,l.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(b,p);if("unknown"!==p.type){if(p.eventId){const D=yield b.auth._redirectUserForId(p.eventId);if(D)return b.user=D,m().call(b,p);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function Ps(){return(Ps=(0,l.Z)(function*(v,p){const m=As(p),b=xd(v);if(!(yield b._isAvailable()))return!1;const D="true"===(yield b._get(m));return yield b._remove(m),D})).apply(this,arguments)}function Al(v,p){return Pd.apply(this,arguments)}function Pd(){return(Pd=(0,l.Z)(function*(v,p){return xd(v)._set(As(p),"true")})).apply(this,arguments)}function Uf(){Di.clear()}function Ad(v,p){Di.set(v._key(),p)}function xd(v){return U(v._redirectPersistence)}function As(v){return un("pendingRedirect",v.config.apiKey,v.name)}function Tu(v,p,m){return function xs(v,p,m){return Rt.apply(this,arguments)}(v,p,m)}function Rt(){return(Rt=(0,l.Z)(function*(v,p,m){const b=Vn(v);Ve(v,p,jo);const D=Os(b,m);return yield Al(D,b),D._openRedirect(b,p,"signInViaRedirect")})).apply(this,arguments)}function va(v,p,m){return function y0(v,p,m){return Wi.apply(this,arguments)}(v,p,m)}function Wi(){return(Wi=(0,l.Z)(function*(v,p,m){const b=(0,L.m9)(v);Ve(b.auth,p,jo);const D=Os(b.auth,m);yield Al(D,b.auth);const A=yield uo(b);return D._openRedirect(b.auth,p,"reauthViaRedirect",A)})).apply(this,arguments)}function Du(v,p,m){return function Bf(v,p,m){return xl.apply(this,arguments)}(v,p,m)}function xl(){return(xl=(0,l.Z)(function*(v,p,m){const b=(0,L.m9)(v);Ve(b.auth,p,jo);const D=Os(b.auth,m);yield Xs(!1,b,p.providerId),yield Al(D,b.auth);const A=yield uo(b);return D._openRedirect(b.auth,p,"linkViaRedirect",A)})).apply(this,arguments)}function bm(v,p){return ao.apply(this,arguments)}function ao(){return(ao=(0,l.Z)(function*(v,p){return yield Vn(v)._initializationPromise,Mi(v,p,!1)})).apply(this,arguments)}function Mi(v,p){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,l.Z)(function*(v,p,m=!1){const b=Vn(v),D=Os(b,p),ce=yield new Iu(b,D,m).execute();return ce&&!m&&(delete ce.user._redirectEventId,yield b._persistUserIfCurrent(ce.user),yield b._setRedirectUser(null,p)),ce})).apply(this,arguments)}function uo(v){return Sd.apply(this,arguments)}function Sd(){return(Sd=(0,l.Z)(function*(v){const p=yu(`${v.uid}:::`);return v._redirectEventId=p,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),p})).apply(this,arguments)}class Ss{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(p,b)&&(m=!0,this.sendToConsumer(p,b),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function wm(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Rl(v);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var b;if(p.error&&!Rl(p)){const D=(null===(b=p.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";m.onError(Fe(this.auth,D))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const b=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&b}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ca(p))}saveEventToCache(p){this.cachedEventUids.add(Ca(p)),this.lastProcessedEventTime=Date.now()}}function Ca(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(p=>p).join("-")}function Rl({type:v,error:p}){return"unknown"===v&&"auth/no-auth-event"===(null==p?void 0:p.code)}function $f(v){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,l.Z)(function*(v,p={}){return Kt(v,"GET","/v1/projects",p)})).apply(this,arguments)}const Xo=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Em=/^https?/;function Nl(){return(Nl=(0,l.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:p}=yield $f(v);for(const m of p)try{if(Im(m))return}catch{}Ae(v,"unauthorized-domain")})).apply(this,arguments)}function Im(v){const p=K(),{protocol:m,hostname:b}=new URL(p);if(v.startsWith("chrome-extension://")){const ce=new URL(v);return""===ce.hostname&&""===b?"chrome-extension:"===m&&v.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&ce.hostname===b}if(!Em.test(m))return!1;if(Xo.test(v))return b===v;const D=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+D+"|"+D+")$","i").test(b)}const C0=new Ye(3e4,6e4);function Rd(){const v=pr().___jsl;if(null==v?void 0:v.H)for(const p of Object.keys(v.H))if(v.H[p].r=v.H[p].r||[],v.H[p].L=v.H[p].L||[],v.H[p].r=[...v.H[p].L],v.CP)for(let m=0;m<v.CP.length;m++)v.CP[m]=null}let ba=null;function Ri(v){return ba=ba||function Nd(v){return new Promise((p,m)=>{var b,D,A;function ce(){Rd(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Rd(),m(Fe(v,"network-request-failed"))},timeout:C0.get()})}if(null===(D=null===(b=pr().gapi)||void 0===b?void 0:b.iframes)||void 0===D?void 0:D.Iframe)p(gapi.iframes.getContext());else{if(!(null===(A=pr().gapi)||void 0===A?void 0:A.load)){const xe=Zi("iframefcb");return pr()[xe]=()=>{gapi.load?ce():m(Fe(v,"network-request-failed"))},Ms(`https://apis.google.com/js/api.js?onload=${xe}`).catch(mt=>m(mt))}ce()}}).catch(p=>{throw ba=null,p})}(v),ba}const es=new Ye(5e3,15e3),Tm={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wa=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ou(v){const p=v.config;ae(p.authDomain,v,"auth-domain-config-required");const m=p.emulator?pt(p,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,b={apiKey:p.apiKey,appName:v.name,v:x.SDK_VERSION},D=wa.get(v.config.apiHost);D&&(b.eid=D);const A=v._getFrameworks();return A.length&&(b.fw=A.join(",")),`${m}?${(0,L.xO)(b).slice(1)}`}function Ns(){return Ns=(0,l.Z)(function*(v){const p=yield Ri(v),m=pr().gapi;return ae(m,v,"internal-error"),p.open({where:document.body,url:Ou(v),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Tm,dontclear:!0},b=>new Promise(function(){var D=(0,l.Z)(function*(A,ce){yield b.restyle({setHideOnLeave:!1});const xe=Fe(v,"network-request-failed"),mt=pr().setTimeout(()=>{ce(xe)},es.get());function bt(){pr().clearTimeout(mt),A(b)}b.ping(bt).then(bt,()=>{ce(xe)})});return function(A,ce){return D.apply(this,arguments)}}()))}),Ns.apply(this,arguments)}const Fd={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Gf{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ks(v,p,m,b,D,A){ae(v.config.authDomain,v,"auth-domain-config-required"),ae(v.config.apiKey,v,"invalid-api-key");const ce={apiKey:v.config.apiKey,appName:v.name,authType:m,redirectUrl:b,v:x.SDK_VERSION,eventId:D};if(p instanceof jo){p.setDefaultLanguage(v.languageCode),ce.providerId=p.providerId||"",(0,L.xb)(p.getCustomParameters())||(ce.customParameters=JSON.stringify(p.getCustomParameters()));for(const[mt,bt]of Object.entries(A||{}))ce[mt]=bt}if(p instanceof su){const mt=p.getScopes().filter(bt=>""!==bt);mt.length>0&&(ce.scopes=mt.join(","))}v.tenantId&&(ce.tid=v.tenantId);const xe=ce;for(const mt of Object.keys(xe))void 0===xe[mt]&&delete xe[mt];return`${function Au({config:v}){return v.emulator?pt(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,L.xO)(xe).slice(1)}`}const xu="webStorageSupport",Ud=class Hf{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=li,this._completeRedirectFn=Mi,this._overrideRedirectResult=Ad}_openPopup(p,m,b,D){var A=this;return(0,l.Z)(function*(){var ce;Q(null===(ce=A.eventManagers[p._key()])||void 0===ce?void 0:ce.manager,"_initialize() not called before _openPopup()");const xe=ks(p,m,b,K(),D);return function Pu(v,p,m,b=500,D=600){const A=Math.max((window.screen.availHeight-D)/2,0).toString(),ce=Math.max((window.screen.availWidth-b)/2,0).toString();let xe="";const mt=Object.assign(Object.assign({},Fd),{width:b.toString(),height:D.toString(),top:A,left:ce}),bt=(0,L.z$)().toLowerCase();m&&(xe=ie(bt)?"_blank":m),S(bt)&&(p=p||"http://localhost",mt.scrollbars="yes");const rn=Object.entries(mt).reduce((Io,[Ls,To])=>`${Io}${Ls}=${To},`,"");if(function _n(v=(0,L.z$)()){var p;return St(v)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(bt)&&"_self"!==xe)return function Dm(v,p){const m=document.createElement("a");m.href=v,m.target=p;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(b)}(p||"",xe),new Gf(null);const Bn=window.open(p||"",xe,rn);ae(Bn,v,"popup-blocked");try{Bn.focus()}catch{}return new Gf(Bn)}(p,xe,yu())})()}_openRedirect(p,m,b,D){var A=this;return(0,l.Z)(function*(){return yield A._originValidation(p),function vu(v){pr().location.href=v}(ks(p,m,b,K(),D)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:D,promise:A}=this.eventManagers[m];return D?Promise.resolve(D):(Q(A,"If manager is not set, promise should be"),A)}const b=this.initAndGetManager(p);return this.eventManagers[m]={promise:b},b.catch(()=>{delete this.eventManagers[m]}),b}initAndGetManager(p){var m=this;return(0,l.Z)(function*(){const b=yield function kd(v){return Ns.apply(this,arguments)}(p),D=new Ss(p);return b.register("authEvent",A=>(ae(null==A?void 0:A.authEvent,p,"invalid-auth-event"),{status:D.onEvent(A.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:D},m.iframes[p._key()]=b,D})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(xu,{type:xu},D=>{var A;const ce=null===(A=null==D?void 0:D[0])||void 0===A?void 0:A[xu];void 0!==ce&&m(!!ce),Ae(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function v0(v){return Nl.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return Ct()||F()||St()}};class Ia extends class Mm{constructor(p){this.factorId=p}_process(p,m,b){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,b);case"signin":return this._finalizeSignIn(p,m.credential);default:return ge("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Ia(p)}_finalizeEnroll(p,m,b){return function wl(v,p){return Kt(v,"POST","/v2/accounts/mfaEnrollment:finalize",gt(v,p))}(p,{idToken:m,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function Rf(v,p){return Kt(v,"POST","/v2/accounts/mfaSignIn:finalize",gt(v,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Om=(()=>{class v{constructor(){}static assertion(m){return Ia._fromCredential(m)}}return v.FACTOR_ID="phone",v})();var zf="@firebase/auth";class Zf{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,l.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(b=>{var D;p((null===(D=b)||void 0===D?void 0:D.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);!m||(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Fs(v=(0,x.getApp)()){const p=(0,x._getProvider)(v,"auth");return p.isInitialized()?p.getImmediate():function G(v,p){const m=(0,x._getProvider)(v,"auth");if(m.isInitialized()){const D=m.getImmediate(),A=m.getOptions();if((0,L.vZ)(A,p??{}))return D;Ae(D,"already-initialized")}return m.initialize({options:p})}(v,{popupRedirectResolver:Ud,persistence:[xr,Mt,li]})}!function Pm(v){(0,x._registerComponent)(new be.wA("auth",(p,{options:m})=>{const b=p.getProvider("app").getImmediate(),D=p.getProvider("heartbeat"),{apiKey:A,authDomain:ce}=b.options;return((xe,mt)=>{ae(A&&!A.includes(":"),"invalid-api-key",{appName:xe.name}),ae(!(null==ce?void 0:ce.includes(":")),"argument-error",{appName:xe.name});const bt={apiKey:A,authDomain:ce,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Lr(v)},rn=new Xn(xe,mt,bt);return function te(v,p){const m=(null==p?void 0:p.persistence)||[],b=(Array.isArray(m)?m:[m]).map(U);(null==p?void 0:p.errorMap)&&v._updateErrorMap(p.errorMap),v._initializeWithPersistence(b,null==p?void 0:p.popupRedirectResolver)}(rn,m),rn})(b,D)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,b)=>{p.getProvider("auth-internal").initialize()})),(0,x._registerComponent)(new be.wA("auth-internal",p=>{const m=Vn(p.getProvider("auth").getImmediate());return new Zf(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,x.registerVersion)(zf,"0.20.7",function Bd(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,x.registerVersion)(zf,"0.20.7","esm2017")}("Browser")},2090:(vt,De,P)=>{P.d(De,{$s:()=>On,BH:()=>Ue,G6:()=>ae,L:()=>de,LL:()=>K,Sg:()=>Re,UG:()=>je,US:()=>be,ZB:()=>Y,ZR:()=>te,b$:()=>Ae,eu:()=>Q,hl:()=>ge,jU:()=>le,m9:()=>xt,ne:()=>st,pd:()=>Mn,r3:()=>gt,ru:()=>Ee,tV:()=>me,uI:()=>Ge,vZ:()=>ur,w1:()=>ut,xO:()=>lr,xb:()=>fn,z$:()=>Ke,zI:()=>R,zd:()=>xn});const re=function(H){const Z=[];let $=0;for(let J=0;J<H.length;J++){let W=H.charCodeAt(J);W<128?Z[$++]=W:W<2048?(Z[$++]=W>>6|192,Z[$++]=63&W|128):55296==(64512&W)&&J+1<H.length&&56320==(64512&H.charCodeAt(J+1))?(W=65536+((1023&W)<<10)+(1023&H.charCodeAt(++J)),Z[$++]=W>>18|240,Z[$++]=W>>12&63|128,Z[$++]=W>>6&63|128,Z[$++]=63&W|128):(Z[$++]=W>>12|224,Z[$++]=W>>6&63|128,Z[$++]=63&W|128)}return Z},be={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(H,Z){if(!Array.isArray(H))throw Error("encodeByteArray takes an array as a parameter");this.init_();const $=Z?this.byteToCharMapWebSafe_:this.byteToCharMap_,J=[];for(let W=0;W<H.length;W+=3){const Te=H[W],et=W+1<H.length,It=et?H[W+1]:0,sn=W+2<H.length,un=sn?H[W+2]:0;let S=(15&It)<<2|un>>6,F=63&un;sn||(F=64,et||(S=64)),J.push($[Te>>2],$[(3&Te)<<4|It>>4],$[S],$[F])}return J.join("")},encodeString(H,Z){return this.HAS_NATIVE_SUPPORT&&!Z?btoa(H):this.encodeByteArray(re(H),Z)},decodeString(H,Z){return this.HAS_NATIVE_SUPPORT&&!Z?atob(H):function(H){const Z=[];let $=0,J=0;for(;$<H.length;){const W=H[$++];if(W<128)Z[J++]=String.fromCharCode(W);else if(W>191&&W<224){const Te=H[$++];Z[J++]=String.fromCharCode((31&W)<<6|63&Te)}else if(W>239&&W<365){const sn=((7&W)<<18|(63&H[$++])<<12|(63&H[$++])<<6|63&H[$++])-65536;Z[J++]=String.fromCharCode(55296+(sn>>10)),Z[J++]=String.fromCharCode(56320+(1023&sn))}else{const Te=H[$++],et=H[$++];Z[J++]=String.fromCharCode((15&W)<<12|(63&Te)<<6|63&et)}}return Z.join("")}(this.decodeStringToByteArray(H,Z))},decodeStringToByteArray(H,Z){this.init_();const $=Z?this.charToByteMapWebSafe_:this.charToByteMap_,J=[];for(let W=0;W<H.length;){const Te=$[H.charAt(W++)],It=W<H.length?$[H.charAt(W)]:0;++W;const un=W<H.length?$[H.charAt(W)]:64;++W;const N=W<H.length?$[H.charAt(W)]:64;if(++W,null==Te||null==It||null==un||null==N)throw Error();J.push(Te<<2|It>>4),64!==un&&(J.push(It<<4&240|un>>2),64!==N&&J.push(un<<6&192|N))}return J},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let H=0;H<this.ENCODED_VALS.length;H++)this.byteToCharMap_[H]=this.ENCODED_VALS.charAt(H),this.charToByteMap_[this.byteToCharMap_[H]]=H,this.byteToCharMapWebSafe_[H]=this.ENCODED_VALS_WEBSAFE.charAt(H),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[H]]=H,H>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(H)]=H,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(H)]=H)}}},de=function(H){return function(H){const Z=re(H);return be.encodeByteArray(Z,!0)}(H).replace(/\./g,"")},me=function(H){try{return be.decodeString(H,!0)}catch(Z){console.error("base64Decode failed: ",Z)}return null};function Y(H,Z){if(!(Z instanceof Object))return Z;switch(Z.constructor){case Date:return new Date(Z.getTime());case Object:void 0===H&&(H={});break;case Array:H=[];break;default:return Z}for(const $ in Z)!Z.hasOwnProperty($)||!oe($)||(H[$]=Y(H[$],Z[$]));return H}function oe(H){return"__proto__"!==H}class Ue{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Z,$)=>{this.resolve=Z,this.reject=$})}wrapCallback(Z){return($,J)=>{$?this.reject($):this.resolve(J),"function"==typeof Z&&(this.promise.catch(()=>{}),1===Z.length?Z($):Z($,J))}}}function Re(H,Z){if(H.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const J=Z||"demo-project",W=H.iat||0,Te=H.sub||H.user_id;if(!Te)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const et=Object.assign({iss:`https://securetoken.google.com/${J}`,aud:J,iat:W,exp:W+3600,auth_time:W,sub:Te,user_id:Te,firebase:{sign_in_provider:"custom",identities:{}}},H);return[de(JSON.stringify({alg:"none",type:"JWT"})),de(JSON.stringify(et)),""].join(".")}function Ke(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ge(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ke())}function je(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function le(){return"object"==typeof self&&self.self===self}function Ee(){const H="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof H&&void 0!==H.id}function Ae(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ut(){const H=Ke();return H.indexOf("MSIE ")>=0||H.indexOf("Trident/")>=0}function ae(){return!je()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ge(){return"object"==typeof indexedDB}function Q(){return new Promise((H,Z)=>{try{let $=!0;const J="validate-browser-context-for-indexeddb-analytics-module",W=self.indexedDB.open(J);W.onsuccess=()=>{W.result.close(),$||self.indexedDB.deleteDatabase(J),H(!0)},W.onupgradeneeded=()=>{$=!1},W.onerror=()=>{var Te;Z((null===(Te=W.error)||void 0===Te?void 0:Te.message)||"")}}catch($){Z($)}})}function R(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class te extends Error{constructor(Z,$,J){super($),this.code=Z,this.customData=J,this.name="FirebaseError",Object.setPrototypeOf(this,te.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,K.prototype.create)}}class K{constructor(Z,$,J){this.service=Z,this.serviceName=$,this.errors=J}create(Z,...$){const J=$[0]||{},W=`${this.service}/${Z}`,Te=this.errors[Z],et=Te?function _e(H,Z){return H.replace(Qe,($,J)=>{const W=Z[J];return null!=W?String(W):`<${J}?>`})}(Te,J):"Error";return new te(W,`${this.serviceName}: ${et} (${W}).`,J)}}const Qe=/\{\$([^}]+)}/g;function gt(H,Z){return Object.prototype.hasOwnProperty.call(H,Z)}function fn(H){for(const Z in H)if(Object.prototype.hasOwnProperty.call(H,Z))return!1;return!0}function ur(H,Z){if(H===Z)return!0;const $=Object.keys(H),J=Object.keys(Z);for(const W of $){if(!J.includes(W))return!1;const Te=H[W],et=Z[W];if(vn(Te)&&vn(et)){if(!ur(Te,et))return!1}else if(Te!==et)return!1}for(const W of J)if(!$.includes(W))return!1;return!0}function vn(H){return null!==H&&"object"==typeof H}function lr(H){const Z=[];for(const[$,J]of Object.entries(H))Array.isArray(J)?J.forEach(W=>{Z.push(encodeURIComponent($)+"="+encodeURIComponent(W))}):Z.push(encodeURIComponent($)+"="+encodeURIComponent(J));return Z.length?"&"+Z.join("&"):""}function xn(H){const Z={};return H.replace(/^\?/,"").split("&").forEach(J=>{if(J){const[W,Te]=J.split("=");Z[decodeURIComponent(W)]=decodeURIComponent(Te)}}),Z}function Mn(H){const Z=H.indexOf("?");if(!Z)return"";const $=H.indexOf("#",Z);return H.substring(Z,$>0?$:void 0)}function st(H,Z){const $=new ne(H,Z);return $.subscribe.bind($)}class ne{constructor(Z,$){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=$,this.task.then(()=>{Z(this)}).catch(J=>{this.error(J)})}next(Z){this.forEachObserver($=>{$.next(Z)})}error(Z){this.forEachObserver($=>{$.error(Z)}),this.close(Z)}complete(){this.forEachObserver(Z=>{Z.complete()}),this.close()}subscribe(Z,$,J){let W;if(void 0===Z&&void 0===$&&void 0===J)throw new Error("Missing Observer.");W=function Je(H,Z){if("object"!=typeof H||null===H)return!1;for(const $ of Z)if($ in H&&"function"==typeof H[$])return!0;return!1}(Z,["next","error","complete"])?Z:{next:Z,error:$,complete:J},void 0===W.next&&(W.next=at),void 0===W.error&&(W.error=at),void 0===W.complete&&(W.complete=at);const Te=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?W.error(this.finalError):W.complete()}catch{}}),this.observers.push(W),Te}unsubscribeOne(Z){void 0===this.observers||void 0===this.observers[Z]||(delete this.observers[Z],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Z){if(!this.finalized)for(let $=0;$<this.observers.length;$++)this.sendOne($,Z)}sendOne(Z,$){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Z])try{$(this.observers[Z])}catch(J){typeof console<"u"&&console.error&&console.error(J)}})}close(Z){this.finalized||(this.finalized=!0,void 0!==Z&&(this.finalError=Z),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function at(){}function On(H,Z=1e3,$=2){const J=Z*Math.pow($,H),W=Math.round(.5*J*(Math.random()-.5)*2);return Math.min(144e5,J+W)}function xt(H){return H&&H._delegate?H._delegate:H}},2343:(vt,De,P)=>{var l=P(4650);let L=null;function x(){return L}const fe=new l.OlP("DocumentToken");let de=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function me(){return(0,l.LFG)(Y)}()},providedIn:"platform"}),n})();const q=new l.OlP("Location Initialized");let Y=(()=>{class n extends de{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return x().getBaseHref(this._doc)}onPopState(t){const r=x().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=x().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){oe()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){oe()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(fe))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Ue(){return new Y((0,l.LFG)(fe))}()},providedIn:"platform"}),n})();function oe(){return!!window.history.pushState}function Re(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ke(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ge(n){return n&&"?"!==n[0]?"?"+n:n}let je=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function le(n){const e=(0,l.LFG)(fe).location;return new Ae((0,l.LFG)(de),e&&e.origin||"")}()},providedIn:"root"}),n})();const Ee=new l.OlP("appBaseHref");let Ae=(()=>{class n extends je{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Re(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Ge(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,u){const d=this.prepareExternalUrl(i+Ge(u));this._platformLocation.pushState(t,r,d)}replaceState(t,r,i,u){const d=this.prepareExternalUrl(i+Ge(u));this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(de),l.LFG(Ee,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Fe=(()=>{class n extends je{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Re(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,u){let d=this.prepareExternalUrl(i+Ge(u));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(t,r,d)}replaceState(t,r,i,u){let d=this.prepareExternalUrl(i+Ge(u));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(de),l.LFG(Ee,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),ut=(()=>{class n{constructor(t,r){this._subject=new l.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Ke(ae(i)),this._platformStrategy.onPopState(u=>{this._subject.emit({url:this.path(!0),pop:!0,state:u.state,type:u.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ge(r))}normalize(t){return n.stripTrailingSlash(function Ze(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,ae(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ge(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ge(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){this._platformStrategy.historyGo?.(t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Ge,n.joinWithSlash=Re,n.stripTrailingSlash=Ke,n.\u0275fac=function(t){return new(t||n)(l.LFG(je),l.LFG(de))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Ve(){return new ut((0,l.LFG)(je),(0,l.LFG)(de))}()},providedIn:"root"}),n})();function ae(n){return n.replace(/\/index.html$/,"")}const ge={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var Q=(()=>((Q=Q||{})[Q.Decimal=0]="Decimal",Q[Q.Percent=1]="Percent",Q[Q.Currency=2]="Currency",Q[Q.Scientific=3]="Scientific",Q))(),R=(()=>((R=R||{})[R.Zero=0]="Zero",R[R.One=1]="One",R[R.Two=2]="Two",R[R.Few=3]="Few",R[R.Many=4]="Many",R[R.Other=5]="Other",R))(),K=(()=>((K=K||{})[K.Decimal=0]="Decimal",K[K.Group=1]="Group",K[K.List=2]="List",K[K.PercentSign=3]="PercentSign",K[K.PlusSign=4]="PlusSign",K[K.MinusSign=5]="MinusSign",K[K.Exponential=6]="Exponential",K[K.SuperscriptingExponent=7]="SuperscriptingExponent",K[K.PerMille=8]="PerMille",K[K.Infinity=9]="Infinity",K[K.NaN=10]="NaN",K[K.TimeSeparator=11]="TimeSeparator",K[K.CurrencyDecimal=12]="CurrencyDecimal",K[K.CurrencyGroup=13]="CurrencyGroup",K))();function fn(n,e){const t=(0,l.cg1)(n),r=t[l.wAp.NumberSymbols][e];if(typeof r>"u"){if(e===K.CurrencyDecimal)return t[l.wAp.NumberSymbols][K.Decimal];if(e===K.CurrencyGroup)return t[l.wAp.NumberSymbols][K.Group]}return r}const xn=l.kL8;const ot=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Xn(n,e,t,r,i){const d=function Ce(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(";"),i=r[0],u=r[1],d=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],g=d[0],y=d[1]||"";t.posPre=g.substr(0,g.indexOf("#"));for(let T=0;T<y.length;T++){const O=y.charAt(T);"0"===O?t.minFrac=t.maxFrac=T+1:"#"===O?t.maxFrac=T+1:t.posSuf+=O}const w=g.split(",");if(t.gSize=w[1]?w[1].length:0,t.lgSize=w[2]||w[1]?(w[2]||w[1]).length:0,u){const T=i.length-t.posPre.length-t.posSuf.length,O=u.indexOf("#");t.negPre=u.substr(0,O).replace(/'/g,""),t.negSuf=u.substr(O+T).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function Jn(n,e){return(0,l.cg1)(n)[l.wAp.NumberFormats][e]}(e,Q.Currency),fn(e,K.MinusSign));return d.minFrac=function Bt(n){let e;const t=ge[n];return t&&(e=t[2]),"number"==typeof e?e:2}(r),d.maxFrac=d.minFrac,function Pi(n,e,t,r,i,u,d=!1){let g="",y=!1;if(isFinite(n)){let w=function qe(n){let r,i,u,d,g,e=Math.abs(n)+"",t=0;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(u=e.search(/e/i))>0?(i<0&&(i=u),i+=+e.slice(u+1),e=e.substring(0,u)):i<0&&(i=e.length),u=0;"0"===e.charAt(u);u++);if(u===(g=e.length))r=[0],i=1;else{for(g--;"0"===e.charAt(g);)g--;for(i-=u,r=[],d=0;u<=g;u++,d++)r[d]=Number(e.charAt(u))}return i>22&&(r=r.splice(0,21),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}(n);d&&(w=function He(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(w));let T=e.minInt,O=e.minFrac,V=e.maxFrac;if(u){const Nt=u.match(ot);if(null===Nt)throw new Error(`${u} is not a valid digit info`);const Pt=Nt[1],wt=Nt[3],Ht=Nt[5];null!=Pt&&(T=mn(Pt)),null!=wt&&(O=mn(wt)),null!=Ht?V=mn(Ht):null!=wt&&O>V&&(V=O)}!function Sn(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen;const u=Math.min(Math.max(e,i),t);let d=u+n.integerLen,g=r[d];if(d>0){r.splice(Math.max(n.integerLen,d));for(let O=d;O<r.length;O++)r[O]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,d=u+1),r[0]=0;for(let O=1;O<d;O++)r[O]=0}if(g>=5)if(d-1<0){for(let O=0;O>d;O--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[d-1]++;for(;i<Math.max(0,u);i++)r.push(0);let y=0!==u;const w=e+n.integerLen,T=r.reduceRight(function(O,V,B,X){return X[B]=(V+=O)<10?V:V-10,y&&(0===X[B]&&B>=w?X.pop():y=!1),V>=10?1:0},0);T&&(r.unshift(T),n.integerLen++)}(w,O,V);let B=w.digits,X=w.integerLen;const Se=w.exponent;let Ne=[];for(y=B.every(Nt=>!Nt);X<T;X++)B.unshift(0);for(;X<0;X++)B.unshift(0);X>0?Ne=B.splice(X,B.length):(Ne=B,B=[0]);const ft=[];for(B.length>=e.lgSize&&ft.unshift(B.splice(-e.lgSize,B.length).join(""));B.length>e.gSize;)ft.unshift(B.splice(-e.gSize,B.length).join(""));B.length&&ft.unshift(B.join("")),g=ft.join(fn(t,r)),Ne.length&&(g+=fn(t,i)+Ne.join("")),Se&&(g+=fn(t,K.Exponential)+"+"+Se)}else g=fn(t,K.Infinity);return g=n<0&&!y?e.negPre+g+e.negSuf:e.posPre+g+e.posSuf,g}(n,d,e,K.CurrencyGroup,K.CurrencyDecimal,i).replace("\xa4",t).replace("\xa4","").trim()}function mn(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}class Rn{}let Nn=(()=>{class n extends Rn{constructor(t){super(),this.locale=t}getPluralCategory(t,r){switch(xn(r||this.locale)(t)){case R.Zero:return"zero";case R.One:return"one";case R.Two:return"two";case R.Few:return"few";case R.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.soG))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function bi(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(u)}return null}let Vr=(()=>{class n{constructor(t,r,i,u){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=u,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,l.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,l.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.ZZ4),l.Y36(l.aQg),l.Y36(l.SBq),l.Y36(l.Qsj))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class ru{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let $i=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch{throw new Error(`Cannot find a differ supporting object '${t}' of type '${function vo(n){return n.name||typeof n}(t)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=[];t.forEachOperation((i,u,d)=>{if(null==i.previousIndex){const g=this._viewContainer.createEmbeddedView(this._template,new ru(null,this._ngForOf,-1,-1),null===d?void 0:d),y=new Ai(i,g);r.push(y)}else if(null==d)this._viewContainer.remove(null===u?void 0:u);else if(null!==u){const g=this._viewContainer.get(u);this._viewContainer.move(g,d);const y=new Ai(i,g);r.push(y)}});for(let i=0;i<r.length;i++)this._perViewChange(r[i].view,r[i].record);for(let i=0,u=this._viewContainer.length;i<u;i++){const d=this._viewContainer.get(i);d.context.index=i,d.context.count=u,d.context.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{this._viewContainer.get(i.currentIndex).context.$implicit=i.item})}_perViewChange(t,r){t.context.$implicit=r.item}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class Ai{constructor(e,t){this.record=e,this.view=t}}let Cr=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new _s,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){to("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){to("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class _s{constructor(){this.$implicit=null,this.ngIf=null}}function to(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,l.AaK)(e)}'.`)}let br=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,u]=t.split(".");null!=(r=null!=r&&u?`${r}${u}`:r)?this._renderer.setStyle(this._ngEl.nativeElement,i,r):this._renderer.removeStyle(this._ngEl.nativeElement,i)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.aQg),l.Y36(l.Qsj))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})();let xi=(()=>{class n{constructor(t,r="USD"){this._locale=t,this._defaultCurrencyCode=r}transform(t,r=this._defaultCurrencyCode,i="symbol",u,d){if(!function od(n){return!(null==n||""===n||n!=n)}(t))return null;d=d||this._locale,"boolean"==typeof i&&(i=i?"symbol":"code");let g=r||this._defaultCurrencyCode;"code"!==i&&(g="symbol"===i||"symbol-narrow"===i?function at(n,e,t="en"){const r=function lr(n){return(0,l.cg1)(n)[l.wAp.Currencies]}(t)[n]||ge[n]||[],i=r[1];return"narrow"===e&&"string"==typeof i?i:r[0]||n}(g,"symbol"===i?"wide":"narrow",d):i);try{return Xn(function au(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),d,g,r,u)}catch(y){throw function hr(n,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${(0,l.AaK)(n)}'`)}(n,y.message)}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.soG,16),l.Y36(l.EJc,16))},n.\u0275pipe=l.Yjl({name:"currency",type:n,pure:!0}),n})();let Js=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[{provide:Rn,useClass:Nn}]}),n})();function zn(n){return"server"===n}let _l=(()=>{class n{}return n.\u0275prov=(0,l.Yz7)({token:n,providedIn:"root",factory:()=>new yl((0,l.LFG)(fe),window)}),n})();class yl{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function tr(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const u=i.shadowRoot;if(u){const d=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(d)return d}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],i-u[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=vf(this.window.history)||vf(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function vf(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class vl{}class Xs extends class nr extends class be{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function we(n){L||(L=n)}(new Xs)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function lu(){return ea=ea||document.querySelector("base"),ea?ea.getAttribute("href"):null}();return null==t?null:function Cf(n){Ur=Ur||document.createElement("a"),Ur.setAttribute("href",n);const e=Ur.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){ea=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return bi(document.cookie,e)}}let Ur,ea=null;const ta=new l.OlP("TRANSITION_ID"),Xr=[{provide:l.ip1,useFactory:function Co(n,e,t){return()=>{t.get(l.CZH).donePromise.then(()=>{const r=x(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<i.length;u++)r.remove(i[u])})}},deps:[ta,fe,l.zs3],multi:!0}];class cu{static init(){(0,l.VLi)(new cu)}addToWindow(e){l.dqk.getAngularTestability=(r,i=!0)=>{const u=e.findTestabilityInTree(r,i);if(null==u)throw new Error("Could not find testability for element.");return u},l.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(r=>{const i=l.dqk.getAllAngularTestabilities();let u=i.length,d=!1;const g=function(y){d=d||y,u--,0==u&&r(d)};i.forEach(function(y){y.whenStable(g)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?x().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}}let du=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const hu=new l.OlP("EventManagerPlugins");let wi=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let u=0;u<i.length;u++){const d=i[u];if(d.supports(t))return this._eventNameToPlugin.set(t,d),d}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(hu),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class ud{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=x().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let na=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Vt=(()=>{class n extends na{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(u=>{const d=this._doc.createElement("style");d.textContent=u,i.push(r.appendChild(d))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(ld),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(ld))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(fe))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function ld(n){x().remove(n)}const ra={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},fu=/%COMP%/g;function Cs(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Cs(n,i,t):(i=i.replace(fu,n),t.push(i))}return t}function fr(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let bs=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new ui(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case l.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new d0(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case l.ifc.ShadowDom:return new um(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Cs(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(wi),l.LFG(Vt),l.LFG(l.AFp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class ui{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(ra[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const u=ra[i];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=ra[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(l.JOm.DashCase|l.JOm.Important)?e.style.setProperty(t,r,i&l.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&l.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,fr(r)):this.eventManager.addEventListener(e,t,fr(r))}}class d0 extends ui{constructor(e,t,r,i){super(e),this.component=r;const u=Cs(i+"-"+r.id,r.styles,[]);t.addStyles(u),this.contentAttr=function Be(n){return"_ngcontent-%COMP%".replace(fu,n)}(i+"-"+r.id),this.hostAttr=function yn(n){return"_nghost-%COMP%".replace(fu,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class um extends ui{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=Cs(i.id,i.styles,[]);for(let d=0;d<u.length;d++){const g=document.createElement("style");g.textContent=u[d],this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let oa=(()=>{class n extends ud{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(fe))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const gu=["alt","control","meta","shift"],zi={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},pd={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Go={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let bo=(()=>{class n extends ud{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const u=n.parseEventName(r),d=n.eventCallback(u.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>x().onAndCancel(t,u.domEventName,d))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const u=n._normalizeKey(r.pop());let d="";if(gu.forEach(y=>{const w=r.indexOf(y);w>-1&&(r.splice(w,1),d+=y+".")}),d+=u,0!=r.length||0===u.length)return null;const g={};return g.domEventName=i,g.fullKey=d,g}static getEventFullKey(t){let r="",i=function gd(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&pd.hasOwnProperty(e)&&(e=pd[e]))}return zi[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),gu.forEach(u=>{u!=i&&Go[u](t)&&(r+=u+".")}),r+=i,r}static eventCallback(t,r,i){return u=>{n.getEventFullKey(u)===t&&i.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(fe))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const _d=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:"browser"},{provide:l.g9A,useValue:function bf(){Xs.makeCurrent(),cu.init()},multi:!0},{provide:fe,useFactory:function lm(){return(0,l.RDi)(document),document},deps:[]}]),Cl=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function md(){return new l.qLn},deps:[]},{provide:hu,useClass:oa,multi:!0,deps:[fe,l.R0b,l.Lbi]},{provide:hu,useClass:bo,multi:!0,deps:[fe]},{provide:bs,useClass:bs,deps:[wi,Vt,l.AFp]},{provide:l.FYo,useExisting:bs},{provide:na,useExisting:Vt},{provide:Vt,useClass:Vt,deps:[fe]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b]},{provide:wi,useClass:wi,deps:[hu,l.R0b]},{provide:vl,useClass:du,deps:[]}];let yd=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:l.AFp,useValue:t.appId},{provide:ta,useExisting:l.AFp},Xr]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(n,12))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:Cl,imports:[Js,l.hGG]}),n})(),sa=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(fe))},n.\u0275prov=l.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Cd(){return new sa((0,l.LFG)(fe))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let ua=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):l.LFG(hm),r},providedIn:"root"}),n})(),hm=(()=>{class n extends ua{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case l.q3G.NONE:return r;case l.q3G.HTML:return(0,l.qzn)(r,"HTML")?(0,l.z3N)(r):(0,l.EiD)(this._doc,String(r)).toString();case l.q3G.STYLE:return(0,l.qzn)(r,"Style")?(0,l.z3N)(r):r;case l.q3G.SCRIPT:if((0,l.qzn)(r,"Script"))return(0,l.z3N)(r);throw new Error("unsafe value used in a script context");case l.q3G.URL:return(0,l.yhl)(r),(0,l.qzn)(r,"URL")?(0,l.z3N)(r):(0,l.mCW)(String(r));case l.q3G.RESOURCE_URL:if((0,l.qzn)(r,"ResourceURL"))return(0,l.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,l.JVY)(t)}bypassSecurityTrustStyle(t){return(0,l.L6k)(t)}bypassSecurityTrustScript(t){return(0,l.eBb)(t)}bypassSecurityTrustUrl(t){return(0,l.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,l.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(fe))},n.\u0275prov=l.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Af(n){return new hm(n.get(fe))}(l.LFG(l.zs3)),r},providedIn:"root"}),n})();var Pn=P(8996),la=P(3269);function Mt(...n){const e=(0,la.yG)(n);return(0,Pn.D)(n,e)}var qi=P(7579);class li extends qi.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var Dr=P(8306);const{isArray:ca}=Array,{getPrototypeOf:yu,prototype:da,keys:pr}=Object;function vu(n){if(1===n.length){const e=n[0];if(ca(e))return{args:e,keys:null};if(function xf(n){return n&&"object"==typeof n&&yu(n)===da}(e)){const t=pr(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var ha=P(4671),Lt=P(4004);const{isArray:fm}=Array;function qo(n){return(0,Lt.U)(e=>function pm(n,e){return fm(e)?n(...e):n(e)}(n,e))}function El(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var qn=P(5403),Cu=P(9672);function Ed(n,e,t){n?(0,Cu.f)(t,n,e):e()}const fa=(0,P(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Is=P(8189);function bu(...n){return function gm(){return(0,Is.J)(1)}()((0,Pn.D)(n,(0,la.yG)(n)))}var no=P(8421);function pa(n){return new Dr.y(e=>{(0,no.Xf)(n()).subscribe(e)})}var ga=P(515),Sf=P(727),xr=P(4482);function Ts(){return(0,xr.e)((n,e)=>{let t=null;n._refCount++;const r=new qn.Q(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,u=t;t=null,i&&(!u||i===u)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Rf extends Dr.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,xr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Sf.w0;const t=this.getSubject();e.add(this.source.subscribe(new qn.Q(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Sf.w0.EMPTY)}return e}refCount(){return Ts()(this)}}function gr(n,e){return(0,xr.e)((t,r)=>{let i=null,u=0,d=!1;const g=()=>d&&!i&&r.complete();t.subscribe(new qn.Q(r,y=>{null==i||i.unsubscribe();let w=0;const T=u++;(0,no.Xf)(n(y,T)).subscribe(i=new qn.Q(r,O=>r.next(e?e(y,O,T,w++):O),()=>{i=null,g()}))},()=>{d=!0,g()}))})}var Ds=P(5698);function ro(...n){const e=(0,la.yG)(n);return(0,xr.e)((t,r)=>{(e?bu(n,t,e):bu(n,t)).subscribe(r)})}function Ms(n,e,t,r,i){return(u,d)=>{let g=t,y=e,w=0;u.subscribe(new qn.Q(d,T=>{const O=w++;y=g?n(y,T,O):(g=!0,T),r&&d.next(y)},i&&(()=>{g&&d.next(y),d.complete()})))}}function Zi(n,e){return(0,xr.e)(Ms(n,e,arguments.length>=2,!0))}function Ei(n,e){return(0,xr.e)((t,r)=>{let i=0;t.subscribe(new qn.Q(r,u=>n.call(e,u,i++)&&r.next(u)))})}function io(n){return(0,xr.e)((e,t)=>{let u,r=null,i=!1;r=e.subscribe(new qn.Q(t,void 0,void 0,d=>{u=(0,no.Xf)(n(d,io(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,u.subscribe(t))})}var Un=P(5577),Wo=P(576);function ma(n,e){return(0,Wo.m)(e)?(0,Un.z)(n,e,1):(0,Un.z)(n,1)}function Zn(n){return n<=0?()=>ga.E:(0,xr.e)((e,t)=>{let r=[];e.subscribe(new qn.Q(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Dl(n=m0){return(0,xr.e)((e,t)=>{let r=!1;e.subscribe(new qn.Q(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function m0(){return new fa}function mm(n){return(0,xr.e)((e,t)=>{let r=!1;e.subscribe(new qn.Q(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function _a(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ei((i,u)=>n(i,u,r)):ha.y,(0,Ds.q)(1),t?mm(e):Dl(()=>new fa))}var Si=P(8505);class Ii{constructor(e,t){this.id=e,this.url=t}}class Nf extends Ii{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Kn extends Ii{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ya extends Ii{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class wu extends Ii{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class kf extends Ii{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ym extends Ii{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ci extends Ii{constructor(e,t,r,i,u){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=u}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class oo extends Ii{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ml extends Ii{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ko{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Yo{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ff{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Id{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vm{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Os{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Td{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ln="primary";class Ti{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Qo(n){return new Ti(n)}const wo="ngNavigationCancelingError";function Dd(n){const e=Error("NavigationCancelingError: "+n);return e[wo]=!0,e}function Cm(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let u=0;u<r.length;u++){const d=r[u],g=n[u];if(d.startsWith(":"))i[d.substring(1)]=g;else if(d!==g.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function so(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let u=0;u<t.length;u++)if(i=t[u],!Ol(n[i],e[i]))return!1;return!0}function Ol(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,u)=>r[u]===i)}return n===e}function Vf(n){return Array.prototype.concat.apply([],n)}function Eu(n){return n.length>0?n[n.length-1]:null}function wr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Di(n){return(0,l.CqO)(n)?n:(0,l.QGY)(n)?(0,Pn.D)(Promise.resolve(n)):Mt(n)}const Od={exact:function Uf(n,e,t){if(!Wi(n.segments,e.segments)||!Tu(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Uf(n.children[r],e.children[r],t))return!1;return!0},subset:xd},Ps={exact:function Pd(n,e){return so(n,e)},subset:function Ad(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Ol(n[t],e[t]))},ignored:()=>!0};function Al(n,e,t){return Od[t.paths](n.root,e.root,t.matrixParams)&&Ps[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function xd(n,e,t){return As(n,e,e.segments,t)}function As(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Wi(i,t)||e.hasChildren()||!Tu(i,t,r))}if(n.segments.length===t.length){if(!Wi(n.segments,t)||!Tu(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!xd(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(Wi(n.segments,i)&&Tu(n.segments,i,r)&&n.children[ln])&&As(n.children[ln],e,u,r)}}function Tu(n,e,t){return e.every((r,i)=>Ps[t](n[i].parameters,r.parameters))}class xs{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Qo(this.queryParams)),this._queryParamMap}toString(){return bm.serialize(this)}}class Rt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,wr(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ao(this)}}class va{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Qo(this.parameters)),this._parameterMap}toString(){return Rl(this)}}function Wi(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class Bf{}class xl{parse(e){const t=new C0(e);return new xs(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Mi(e.root,!0)}`,r=function $f(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${uo(t)}=${uo(i)}`).join("&"):`${uo(t)}=${uo(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Sd(n){return encodeURI(n)}(e.fragment)}`:""}`}}const bm=new xl;function ao(n){return n.segments.map(e=>Rl(e)).join("/")}function Mi(n,e){if(!n.hasChildren())return ao(n);if(e){const t=n.children[ln]?Mi(n.children[ln],!1):"",r=[];return wr(n.children,(i,u)=>{u!==ln&&r.push(`${u}:${Mi(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Du(n,e){let t=[];return wr(n.children,(r,i)=>{i===ln&&(t=t.concat(e(r,i)))}),wr(n.children,(r,i)=>{i!==ln&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===ln?[Mi(n.children[ln],!1)]:[`${i}:${Mi(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[ln]?`${ao(n)}/${t[0]}`:`${ao(n)}/(${t.join("//")})`}}function Mu(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function uo(n){return Mu(n).replace(/%3B/gi,";")}function Sl(n){return Mu(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ss(n){return decodeURIComponent(n)}function Ca(n){return Ss(n.replace(/\+/g,"%20"))}function Rl(n){return`${Sl(n.path)}${function wm(n){return Object.keys(n).map(e=>`;${Sl(e)}=${Sl(n[e])}`).join("")}(n.parameters)}`}const Jo=/^[^\/()?;=#]+/;function Xo(n){const e=n.match(Jo);return e?e[0]:""}const Em=/^[^=?&#]+/,Nl=/^[^&#]+/;class C0{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Rt([],{}):new Rt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ln]=new Rt(e,t)),r}parseSegment(){const e=Xo(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new va(Ss(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Xo(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Xo(this.remaining);i&&(r=i,this.capture(r))}e[Ss(t)]=Ss(r)}parseQueryParam(e){const t=function v0(n){const e=n.match(Em);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const d=function Im(n){const e=n.match(Nl);return e?e[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const i=Ca(t),u=Ca(r);if(e.hasOwnProperty(i)){let d=e[i];Array.isArray(d)||(d=[d],e[i]=d),d.push(u)}else e[i]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Xo(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let u;r.indexOf(":")>-1?(u=r.substr(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=ln);const d=this.parseChildren();t[u]=1===Object.keys(d).length?d[ln]:new Rt([],d),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Rd{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Nd(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Nd(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=ba(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return ba(e,this._root).map(t=>t.value)}}function Nd(n,e){if(n===e.value)return e;for(const t of e.children){const r=Nd(n,t);if(r)return r}return null}function ba(n,e){if(n===e.value)return[e];for(const t of e.children){const r=ba(n,t);if(r.length)return r.unshift(e),r}return[]}class Ri{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function es(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Rs extends Rd{constructor(e,t){super(e),this.snapshot=t,kl(this,e)}toString(){return this.snapshot.toString()}}function jf(n,e){const t=function Tm(n,e){const d=new Ns([],{},{},"",{},ln,e,null,n.root,-1,{});return new Fd("",new Ri(d,[]))}(n,e),r=new li([new va("",{})]),i=new li({}),u=new li({}),d=new li({}),g=new li(""),y=new wa(r,i,d,g,u,ln,e,t.root);return y.snapshot=t.root,new Rs(new Ri(y,[]),t)}class wa{constructor(e,t,r,i,u,d,g,y){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=u,this.outlet=d,this.component=g,this._futureSnapshot=y}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Lt.U)(e=>Qo(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Lt.U)(e=>Qo(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ou(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],u=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(u.component)break;r--}}return function kd(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...e.resolve,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Ns{constructor(e,t,r,i,u,d,g,y,w,T,O){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=u,this.outlet=d,this.component=g,this.routeConfig=y,this._urlSegment=w,this._lastPathIndex=T,this._resolve=O}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Qo(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Qo(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Fd extends Rd{constructor(e,t){super(t),this.url=e,kl(this,t)}toString(){return ts(this._root)}}function kl(n,e){e.value._routerState=n,e.children.forEach(t=>kl(n,t))}function ts(n){const e=n.children.length>0?` { ${n.children.map(ts).join(", ")} } `:"";return`${n.value}${e}`}function Ld(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,so(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),so(e.params,t.params)||n.params.next(t.params),function Md(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!so(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),so(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Vd(n,e){const t=so(n.params,e.params)&&function y0(n,e){return Wi(n,e)&&n.every((t,r)=>so(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Vd(n.parent,e.parent))}function Pu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function Dm(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Pu(n,r,i);return Pu(n,r)})}(n,e,t);return new Ri(r,i)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const d=u.route;return d.value._futureSnapshot=e.value,d.children=e.children.map(g=>Pu(n,g)),d}}const r=function Eo(n){return new wa(new li(n.url),new li(n.params),new li(n.queryParams),new li(n.fragment),new li(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(u=>Pu(n,u));return new Ri(r,i)}}function ks(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Au(n){return"object"==typeof n&&null!=n&&n.outlets}function xu(n,e,t,r,i){let u={};return r&&wr(r,(d,g)=>{u[g]=Array.isArray(d)?d.map(y=>`${y}`):`${d}`}),new xs(t.root===n?e:Hf(t.root,n,e),u,i)}function Hf(n,e,t){const r={};return wr(n.children,(i,u)=>{r[u]=i===e?t:Hf(i,e,t)}),new Rt(n.segments,r)}class Ud{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&ks(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(Au);if(i&&i!==Eu(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ia{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Zf(n,e,t){if(n||(n=new Rt([],{})),0===n.segments.length&&n.hasChildren())return Bd(n,e,t);const r=function Pm(n,e,t){let r=0,i=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return u;const d=n.segments[i],g=t[r];if(Au(g))break;const y=`${g}`,w=r<t.length-1?t[r+1]:null;if(i>0&&void 0===y)break;if(y&&w&&"object"==typeof w&&void 0===w.outlets){if(!m(y,w,d))return u;r+=2}else{if(!m(y,{},d))return u;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new Rt(n.segments.slice(0,r.pathIndex),{});return u.children[ln]=new Rt(n.segments.slice(r.pathIndex),n.children),Bd(u,0,i)}return r.match&&0===i.length?new Rt(n.segments,{}):r.match&&!n.hasChildren()?Fs(n,e,t):r.match?Bd(n,0,i):Fs(n,e,t)}function Bd(n,e,t){if(0===t.length)return new Rt(n.segments,{});{const r=function qf(n){return Au(n[0])?n[0].outlets:{[ln]:n}}(t),i={};return wr(r,(u,d)=>{"string"==typeof u&&(u=[u]),null!==u&&(i[d]=Zf(n.children[d],e,u))}),wr(n.children,(u,d)=>{void 0===r[d]&&(i[d]=u)}),new Rt(n.segments,i)}}function Fs(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const u=t[i];if(Au(u)){const y=v(u.outlets);return new Rt(r,y)}if(0===i&&ks(t[0])){r.push(new va(n.segments[e].path,p(t[0]))),i++;continue}const d=Au(u)?u.outlets[ln]:`${u}`,g=i<t.length-1?t[i+1]:null;d&&g&&ks(g)?(r.push(new va(d,p(g))),i+=2):(r.push(new va(d,{})),i++)}return new Rt(r,{})}function v(n){const e={};return wr(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Fs(new Rt([],{}),0,t))}),e}function p(n){const e={};return wr(n,(t,r)=>e[r]=`${t}`),e}function m(n,e,t){return n==t.path&&so(e,t.parameters)}class D{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Ld(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=es(t);e.children.forEach(u=>{const d=u.value.outlet;this.deactivateRoutes(u,i[d],r),delete i[d]}),wr(i,(u,d)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const i=e.value,u=t?t.value:null;if(i===u)if(i.component){const d=r.getContext(i.outlet);d&&this.deactivateChildRoutes(e,t,d.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,u=es(e);for(const d of Object.keys(u))this.deactivateRouteAndItsChildren(u[d],i);if(r&&r.outlet){const d=r.outlet.detach(),g=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:d,route:e,contexts:g})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,u=es(e);for(const d of Object.keys(u))this.deactivateRouteAndItsChildren(u[d],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=es(t);e.children.forEach(u=>{this.activateRoutes(u,i[u.value.outlet],r),this.forwardEvent(new Os(u.value.snapshot))}),e.children.length&&this.forwardEvent(new Id(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,u=t?t.value:null;if(Ld(i),i===u)if(i.component){const d=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,d.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const d=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const g=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),d.children.onOutletReAttached(g.contexts),d.attachRef=g.componentRef,d.route=g.route.value,d.outlet&&d.outlet.attach(g.componentRef,g.route.value),Ld(g.route.value),this.activateChildRoutes(e,null,d.children)}else{const g=function A(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),y=g?g.module.componentFactoryResolver:null;d.attachRef=null,d.route=i,d.resolver=y,d.outlet&&d.outlet.activateWith(i,y),this.activateChildRoutes(e,null,d.children)}}else this.activateChildRoutes(e,null,r)}}class ce{constructor(e,t){this.routes=e,this.module=t}}function xe(n){return"function"==typeof n}function bt(n){return n instanceof xs}const To=Symbol("INITIAL_VALUE");function Ta(){return gr(n=>function Zo(...n){const e=(0,la.yG)(n),t=(0,la.jO)(n),{args:r,keys:i}=vu(n);if(0===r.length)return(0,Pn.D)([],e);const u=new Dr.y(function Il(n,e,t=ha.y){return r=>{Ed(e,()=>{const{length:i}=n,u=new Array(i);let d=i,g=i;for(let y=0;y<i;y++)Ed(e,()=>{const w=(0,Pn.D)(n[y],e);let T=!1;w.subscribe(new qn.Q(r,O=>{u[y]=O,T||(T=!0,g--),g||r.next(t(u.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,e,i?d=>El(i,d):ha.y));return t?u.pipe(qo(t)):u}(n.map(e=>e.pipe((0,Ds.q)(1),ro(To)))).pipe(Zi((e,t)=>{let r=!1;return t.reduce((i,u,d)=>i!==To?i:(u===To&&(r=!0),r||!1!==u&&d!==t.length-1&&!bt(u)?i:u),e)},To),Ei(e=>e!==To),(0,Lt.U)(e=>bt(e)?e:!0===e),(0,Ds.q)(1)))}class $d{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Da,this.attachRef=null}}class Da{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new $d,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let Ma=(()=>{class n{constructor(t,r,i,u,d){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=d,this.activated=null,this._activatedRoute=null,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.name=u||ln,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const d=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),g=this.parentContexts.getOrCreateContext(this.name).children,y=new Fl(t,g,this.location.injector);this.activated=this.location.createComponent(d,this.location.length,y),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Da),l.Y36(l.s_b),l.Y36(l._Vd),l.$8M("name"),l.Y36(l.sBO))},n.\u0275dir=l.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class Fl{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===wa?this.route:e===Da?this.childContexts:this.parent.get(e,t)}}let Vs=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&l._UZ(0,"router-outlet")},directives:[Ma],encapsulation:2}),n})();function Ll(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];Su(r,Wf(e,r))}}function Su(n,e){n.children&&Ll(n.children,e)}function Wf(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function Yn(n){const e=n.children&&n.children.map(Yn),t=e?{...n,children:e}:{...n};return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ln&&(t.component=Vs),t}function di(n){return n.outlet||ln}function Kf(n,e){const t=n.filter(r=>di(r)===e);return t.push(...n.filter(r=>di(r)!==e)),t}const Yf={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Vl(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Yf}:{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Cm)(t,n,e);if(!i)return{...Yf};const u={};wr(i.posParams,(g,y)=>{u[y]=g.path});const d=i.consumed.length>0?{...u,...i.consumed[i.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:d,positionalParamSegments:i.posParams??{}}}function Qf(n,e,t,r,i="corrected"){if(t.length>0&&function NE(n,e,t){return t.some(r=>Am(n,e,r)&&di(r)!==ln)}(n,t,r)){const d=new Rt(e,function RE(n,e,t,r){const i={};i[ln]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&di(u)!==ln){const d=new Rt([],{});d._sourceSegment=n,d._segmentIndexShift=e.length,i[di(u)]=d}return i}(n,e,r,new Rt(t,n.children)));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:[]}}if(0===t.length&&function kE(n,e,t){return t.some(r=>Am(n,e,r))}(n,t,r)){const d=new Rt(n.segments,function SE(n,e,t,r,i,u){const d={};for(const g of r)if(Am(n,t,g)&&!i[di(g)]){const y=new Rt([],{});y._sourceSegment=n,y._segmentIndexShift="legacy"===u?n.segments.length:e.length,d[di(g)]=y}return{...i,...d}}(n,e,t,r,n.children,i));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:t}}const u=new Rt(n.segments,n.children);return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}function Am(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function FE(n,e,t,r){return!!(di(n)===r||r!==ln&&Am(e,t,n))&&("**"===n.path||Vl(e,n,t).matched)}function Ul(n,e,t){return 0===e.length&&!n.children[t]}class Br{constructor(e){this.segmentGroup=e||null}}class Jf{constructor(e){this.urlTree=e}}function jd(n){return new Dr.y(e=>e.error(new Br(n)))}function xm(n){return new Dr.y(e=>e.error(new Jf(n)))}function hi(n){return new Dr.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class LE{constructor(e,t,r,i,u){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=u,this.allowRedirects=!0,this.ngModule=e.get(l.h0i)}apply(){const e=Qf(this.urlTree.root,[],[],this.config).segmentGroup,t=new Rt(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,ln).pipe((0,Lt.U)(u=>this.createUrlTree(Xf(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(io(u=>{if(u instanceof Jf)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof Br?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,ln).pipe((0,Lt.U)(i=>this.createUrlTree(Xf(i),e.queryParams,e.fragment))).pipe(io(i=>{throw i instanceof Br?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new Rt([],{[ln]:e}):e;return new xs(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Lt.U)(u=>new Rt([],u))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const u of Object.keys(r.children))"primary"===u?i.unshift(u):i.push(u);return(0,Pn.D)(i).pipe(ma(u=>{const d=r.children[u],g=Kf(t,u);return this.expandSegmentGroup(e,g,d,u).pipe((0,Lt.U)(y=>({segment:y,outlet:u})))}),Zi((u,d)=>(u[d.outlet]=d.segment,u),{}),function _0(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ei((i,u)=>n(i,u,r)):ha.y,Zn(1),t?mm(e):Dl(()=>new fa))}())}expandSegment(e,t,r,i,u,d){return(0,Pn.D)(r).pipe(ma(g=>this.expandSegmentAgainstRoute(e,t,r,g,i,u,d).pipe(io(w=>{if(w instanceof Br)return Mt(null);throw w}))),_a(g=>!!g),io((g,y)=>{if(g instanceof fa||"EmptyError"===g.name){if(Ul(t,i,u))return Mt(new Rt([],{}));throw new Br(t)}throw g}))}expandSegmentAgainstRoute(e,t,r,i,u,d,g){return FE(i,t,u,d)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,u,d):g&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,u,d):jd(t):jd(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,u,d){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,d):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,u,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?xm(u):this.lineralizeSegments(r,u).pipe((0,Un.z)(d=>{const g=new Rt(d,{});return this.expandSegment(e,g,t,d,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,u,d){const{matched:g,consumedSegments:y,lastChild:w,positionalParamSegments:T}=Vl(t,i,u);if(!g)return jd(t);const O=this.applyRedirectCommands(y,i.redirectTo,T);return i.redirectTo.startsWith("/")?xm(O):this.lineralizeSegments(i,O).pipe((0,Un.z)(V=>this.expandSegment(e,t,r,V.concat(u.slice(w)),d,!1)))}matchSegmentAgainstRoute(e,t,r,i,u){if("**"===r.path)return r.loadChildren?(r._loadedConfig?Mt(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,Lt.U)(V=>(r._loadedConfig=V,new Rt(i,{})))):Mt(new Rt(i,{}));const{matched:d,consumedSegments:g,lastChild:y}=Vl(t,r,i);if(!d)return jd(t);const w=i.slice(y);return this.getChildConfig(e,r,i).pipe((0,Un.z)(O=>{const V=O.module,B=O.routes,{segmentGroup:X,slicedSegments:Se}=Qf(t,g,w,B),Ne=new Rt(X.segments,X.children);if(0===Se.length&&Ne.hasChildren())return this.expandChildren(V,B,Ne).pipe((0,Lt.U)(wt=>new Rt(g,wt)));if(0===B.length&&0===Se.length)return Mt(new Rt(g,{}));const ft=di(r)===u;return this.expandSegment(V,Ne,B,Se,ft?ln:u,!0).pipe((0,Lt.U)(Pt=>new Rt(g.concat(Pt.segments),Pt.children)))}))}getChildConfig(e,t,r){return t.children?Mt(new ce(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?Mt(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,Un.z)(i=>i?this.configLoader.load(e.injector,t).pipe((0,Lt.U)(u=>(t._loadedConfig=u,u))):function Gd(n){return new Dr.y(e=>e.error(Dd(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`)))}(t))):Mt(new ce([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?Mt(i.map(d=>{const g=e.get(d);let y;if(function rn(n){return n&&xe(n.canLoad)}(g))y=g.canLoad(t,r);else{if(!xe(g))throw new Error("Invalid CanLoad guard");y=g(t,r)}return Di(y)})).pipe(Ta(),(0,Si.b)(d=>{if(!bt(d))return;const g=Dd(`Redirecting to "${this.urlSerializer.serialize(d)}"`);throw g.url=d,g}),(0,Lt.U)(d=>!0===d)):Mt(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Mt(r);if(i.numberOfChildren>1||!i.children[ln])return hi(e.redirectTo);i=i.children[ln]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const u=this.createSegmentGroup(e,t.root,r,i);return new xs(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return wr(e,(i,u)=>{if("string"==typeof i&&i.startsWith(":")){const g=i.substring(1);r[u]=t[g]}else r[u]=i}),r}createSegmentGroup(e,t,r,i){const u=this.createSegments(e,t.segments,r,i);let d={};return wr(t.children,(g,y)=>{d[y]=this.createSegmentGroup(e,g,r,i)}),new Rt(u,d)}createSegments(e,t,r,i){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,i):this.findOrReturn(u,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function Xf(n){const e={};for(const r of Object.keys(n.children)){const u=Xf(n.children[r]);(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function VE(n){if(1===n.numberOfChildren&&n.children[ln]){const e=n.children[ln];return new Rt(n.segments.concat(e.segments),e.children)}return n}(new Rt(n.segments,e))}class Rm{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class ep{constructor(e,t){this.component=e,this.route=t}}function b0(n,e,t){const r=n._root;return Ru(r,e?e._root:null,t,[r.value])}function tp(n,e,t){const r=function $E(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function Ru(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const u=es(e);return n.children.forEach(d=>{(function jE(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,d=e?e.value:null,g=t?t.getContext(n.value.outlet):null;if(d&&u.routeConfig===d.routeConfig){const y=function GE(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Wi(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Wi(n.url,e.url)||!so(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Vd(n,e)||!so(n.queryParams,e.queryParams);default:return!Vd(n,e)}}(d,u,u.routeConfig.runGuardsAndResolvers);y?i.canActivateChecks.push(new Rm(r)):(u.data=d.data,u._resolvedData=d._resolvedData),Ru(n,e,u.component?g?g.children:null:t,r,i),y&&g&&g.outlet&&g.outlet.isActivated&&i.canDeactivateChecks.push(new ep(g.outlet.component,d))}else d&&np(e,g,i),i.canActivateChecks.push(new Rm(r)),Ru(n,null,u.component?g?g.children:null:t,r,i)})(d,u[d.value.outlet],t,r.concat([d.value]),i),delete u[d.value.outlet]}),wr(u,(d,g)=>np(d,t.getContext(g),i)),i}function np(n,e,t){const r=es(n),i=n.value;wr(r,(u,d)=>{np(u,i.component?e?e.children.getContext(d):null:e,t)}),t.canDeactivateChecks.push(new ep(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class YE{}function km(n){return new Dr.y(e=>e.error(n))}class JE{constructor(e,t,r,i,u,d){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=d}recognize(){const e=Qf(this.urlTree.root,[],[],this.config.filter(d=>void 0===d.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,ln);if(null===t)return null;const r=new Ns([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ln,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Ri(r,t),u=new Fd(this.url,i);return this.inheritParamsAndData(u._root),u}inheritParamsAndData(e){const t=e.value,r=Ou(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const u of Object.keys(t.children)){const d=t.children[u],g=Kf(e,u),y=this.processSegmentGroup(g,d,u);if(null===y)return null;r.push(...y)}const i=E0(r);return function XE(n){n.sort((e,t)=>e.value.outlet===ln?-1:t.value.outlet===ln?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const u of e){const d=this.processSegmentAgainstRoute(u,t,r,i);if(null!==d)return d}return Ul(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!FE(e,t,r,i))return null;let u,d=[],g=[];if("**"===e.path){const B=r.length>0?Eu(r).parameters:{};u=new Ns(r,B,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Do(e),di(e),e.component,e,I0(t),Nu(t)+r.length,tI(e))}else{const B=Vl(t,e,r);if(!B.matched)return null;d=B.consumedSegments,g=r.slice(B.lastChild),u=new Ns(d,B.parameters,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Do(e),di(e),e.component,e,I0(t),Nu(t)+d.length,tI(e))}const y=function eI(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:w,slicedSegments:T}=Qf(t,d,g,y.filter(B=>void 0===B.redirectTo),this.relativeLinkResolution);if(0===T.length&&w.hasChildren()){const B=this.processChildren(y,w);return null===B?null:[new Ri(u,B)]}if(0===y.length&&0===T.length)return[new Ri(u,[])];const O=di(e)===i,V=this.processSegment(y,w,T,O?ln:i);return null===V?null:[new Ri(u,V)]}}function w0(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function E0(n){const e=[],t=new Set;for(const r of n){if(!w0(r)){e.push(r);continue}const i=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=E0(r.children);e.push(new Ri(r.value,i))}return e.filter(r=>!t.has(r))}function I0(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Nu(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function Do(n){return n.data||{}}function tI(n){return n.resolve||{}}function zd(n){return gr(e=>{const t=n(e);return t?(0,Pn.D)(t).pipe((0,Lt.U)(()=>e)):Mt(e)})}class qd extends class D0{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const rp=new l.OlP("ROUTES");class Lm{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe((0,Lt.U)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t);const d=u.create(e);return new ce(Vf(d.injector.get(rp,void 0,l.XFs.Self|l.XFs.Optional)).map(Yn),d)}),io(u=>{throw t._loader$=void 0,u}));return t._loader$=new Rf(i,()=>new qi.x).pipe(Ts()),t._loader$}loadModuleFactory(e){return Di(e()).pipe((0,Un.z)(t=>t instanceof l.YKP?Mt(t):(0,Pn.D)(this.compiler.compileModuleAsync(t))))}}class Um{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function M0(n){throw n}function ZO(n,e,t){return e.parse("/")}function ku(n,e){return Mt(null)}const Bm={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},O0={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Er=(()=>{class n{constructor(t,r,i,u,d,g,y){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=u,this.config=y,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new qi.x,this.errorHandler=M0,this.malformedUriErrorHandler=ZO,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:ku,afterPreactivation:ku},this.urlHandlingStrategy=new Um,this.routeReuseStrategy=new qd,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=d.get(l.h0i),this.console=d.get(l.c2e);const O=d.get(l.R0b);this.isNgZoneEnabled=O instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(y),this.currentUrlTree=function Iu(){return new xs(new Rt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Lm(d,g,V=>this.triggerEvent(new Ko(V)),V=>this.triggerEvent(new Yo(V))),this.routerState=jf(this.currentUrlTree,this.rootComponentType),this.transitions=new li({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Ei(i=>0!==i.id),(0,Lt.U)(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),gr(i=>{let u=!1,d=!1;return Mt(i).pipe((0,Si.b)(g=>{this.currentNavigation={id:g.id,initialUrl:g.currentRawUrl,extractedUrl:g.extractedUrl,trigger:g.source,extras:g.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),gr(g=>{const y=this.browserUrlTree.toString(),w=!this.navigated||g.extractedUrl.toString()!==y||y!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||w)&&this.urlHandlingStrategy.shouldProcessUrl(g.rawUrl))return ip(g.source)&&(this.browserUrlTree=g.extractedUrl),Mt(g).pipe(gr(O=>{const V=this.transitions.getValue();return r.next(new Nf(O.id,this.serializeUrl(O.extractedUrl),O.source,O.restoredState)),V!==this.transitions.getValue()?ga.E:Promise.resolve(O)}),function UE(n,e,t,r){return gr(i=>function Sm(n,e,t,r,i){return new LE(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,Lt.U)(u=>({...i,urlAfterRedirects:u}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Si.b)(O=>{this.currentNavigation={...this.currentNavigation,finalUrl:O.urlAfterRedirects}}),function zO(n,e,t,r,i){return(0,Un.z)(u=>function QE(n,e,t,r,i="emptyOnly",u="legacy"){try{const d=new JE(n,e,t,r,i,u).recognize();return null===d?km(new YE):Mt(d)}catch(d){return km(d)}}(n,e,u.urlAfterRedirects,t(u.urlAfterRedirects),r,i).pipe((0,Lt.U)(d=>({...u,targetSnapshot:d}))))}(this.rootComponentType,this.config,O=>this.serializeUrl(O),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Si.b)(O=>{if("eager"===this.urlUpdateStrategy){if(!O.extras.skipLocationChange){const B=this.urlHandlingStrategy.merge(O.urlAfterRedirects,O.rawUrl);this.setBrowserUrl(B,O)}this.browserUrlTree=O.urlAfterRedirects}const V=new kf(O.id,this.serializeUrl(O.extractedUrl),this.serializeUrl(O.urlAfterRedirects),O.targetSnapshot);r.next(V)}));if(w&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:V,extractedUrl:B,source:X,restoredState:Se,extras:Ne}=g,ft=new Nf(V,this.serializeUrl(B),X,Se);r.next(ft);const Nt=jf(B,this.rootComponentType).snapshot;return Mt({...g,targetSnapshot:Nt,urlAfterRedirects:B,extras:{...Ne,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=g.rawUrl,g.resolve(null),ga.E}),zd(g=>{const{targetSnapshot:y,id:w,extractedUrl:T,rawUrl:O,extras:{skipLocationChange:V,replaceUrl:B}}=g;return this.hooks.beforePreactivation(y,{navigationId:w,appliedUrlTree:T,rawUrlTree:O,skipLocationChange:!!V,replaceUrl:!!B})}),(0,Si.b)(g=>{const y=new ym(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(y)}),(0,Lt.U)(g=>({...g,guards:b0(g.targetSnapshot,g.currentSnapshot,this.rootContexts)})),function Nm(n,e){return(0,Un.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:u,canDeactivateChecks:d}}=t;return 0===d.length&&0===u.length?Mt({...t,guardsResult:!0}):function HE(n,e,t,r){return(0,Pn.D)(n).pipe((0,Un.z)(i=>function KE(n,e,t,r,i){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return u&&0!==u.length?Mt(u.map(g=>{const y=tp(g,e,i);let w;if(function Ls(n){return n&&xe(n.canDeactivate)}(y))w=Di(y.canDeactivate(n,e,t,r));else{if(!xe(y))throw new Error("Invalid CanDeactivate guard");w=Di(y(n,e,t,r))}return w.pipe(_a())})).pipe(Ta()):Mt(!0)}(i.component,i.route,t,e,r)),_a(i=>!0!==i,!0))}(d,r,i,n).pipe((0,Un.z)(g=>g&&function mt(n){return"boolean"==typeof n}(g)?function zE(n,e,t,r){return(0,Pn.D)(e).pipe(ma(i=>bu(function qE(n,e){return null!==n&&e&&e(new Ff(n)),Mt(!0)}(i.route.parent,r),function Hd(n,e){return null!==n&&e&&e(new vm(n)),Mt(!0)}(i.route,r),function WE(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(d=>function BE(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(d)).filter(d=>null!==d).map(d=>pa(()=>Mt(d.guards.map(y=>{const w=tp(y,d.node,t);let T;if(function Io(n){return n&&xe(n.canActivateChild)}(w))T=Di(w.canActivateChild(r,n));else{if(!xe(w))throw new Error("Invalid CanActivateChild guard");T=Di(w(r,n))}return T.pipe(_a())})).pipe(Ta())));return Mt(u).pipe(Ta())}(n,i.path,t),function ZE(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Mt(!0);const i=r.map(u=>pa(()=>{const d=tp(u,e,t);let g;if(function Bn(n){return n&&xe(n.canActivate)}(d))g=Di(d.canActivate(e,n));else{if(!xe(d))throw new Error("Invalid CanActivate guard");g=Di(d(e,n))}return g.pipe(_a())}));return Mt(i).pipe(Ta())}(n,i.route,t))),_a(i=>!0!==i,!0))}(r,u,n,e):Mt(g)),(0,Lt.U)(g=>({...t,guardsResult:g})))})}(this.ngModule.injector,g=>this.triggerEvent(g)),(0,Si.b)(g=>{if(bt(g.guardsResult)){const w=Dd(`Redirecting to "${this.serializeUrl(g.guardsResult)}"`);throw w.url=g.guardsResult,w}const y=new ci(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot,!!g.guardsResult);this.triggerEvent(y)}),Ei(g=>!!g.guardsResult||(this.restoreHistory(g),this.cancelNavigationTransition(g,""),!1)),zd(g=>{if(g.guards.canActivateChecks.length)return Mt(g).pipe((0,Si.b)(y=>{const w=new oo(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(w)}),gr(y=>{let w=!1;return Mt(y).pipe(function T0(n,e){return(0,Un.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Mt(t);let u=0;return(0,Pn.D)(i).pipe(ma(d=>function qO(n,e,t,r){return function ns(n,e,t,r){const i=Object.keys(n);if(0===i.length)return Mt({});const u={};return(0,Pn.D)(i).pipe((0,Un.z)(d=>function Fm(n,e,t,r){const i=tp(n,e,r);return Di(i.resolve?i.resolve(e,t):i(e,t))}(n[d],e,t,r).pipe((0,Si.b)(g=>{u[d]=g}))),Zn(1),(0,Un.z)(()=>Object.keys(u).length===i.length?Mt(u):ga.E))}(n._resolve,n,e,r).pipe((0,Lt.U)(u=>(n._resolvedData=u,n.data={...n.data,...Ou(n,t).resolve},null)))}(d.route,r,n,e)),(0,Si.b)(()=>u++),Zn(1),(0,Un.z)(d=>u===i.length?Mt(t):ga.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Si.b)({next:()=>w=!0,complete:()=>{w||(this.restoreHistory(y),this.cancelNavigationTransition(y,"At least one route resolver didn't emit any value."))}}))}),(0,Si.b)(y=>{const w=new Ml(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(w)}))}),zd(g=>{const{targetSnapshot:y,id:w,extractedUrl:T,rawUrl:O,extras:{skipLocationChange:V,replaceUrl:B}}=g;return this.hooks.afterPreactivation(y,{navigationId:w,appliedUrlTree:T,rawUrlTree:O,skipLocationChange:!!V,replaceUrl:!!B})}),(0,Lt.U)(g=>{const y=function Gf(n,e,t){const r=Pu(n,e._root,t?t._root:void 0);return new Rs(r,e)}(this.routeReuseStrategy,g.targetSnapshot,g.currentRouterState);return{...g,targetRouterState:y}}),(0,Si.b)(g=>{this.currentUrlTree=g.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(g.urlAfterRedirects,g.rawUrl),this.routerState=g.targetRouterState,"deferred"===this.urlUpdateStrategy&&(g.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,g),this.browserUrlTree=g.urlAfterRedirects)}),((n,e,t)=>(0,Lt.U)(r=>(new D(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,g=>this.triggerEvent(g)),(0,Si.b)({next(){u=!0},complete(){u=!0}}),function _m(n){return(0,xr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{u||d||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),io(g=>{if(d=!0,function Lf(n){return n&&n[wo]}(g)){const y=bt(g.url);y||(this.navigated=!0,this.restoreHistory(i,!0));const w=new ya(i.id,this.serializeUrl(i.extractedUrl),g.message);r.next(w),y?setTimeout(()=>{const T=this.urlHandlingStrategy.merge(g.url,this.rawUrlTree),O={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ip(i.source)};this.scheduleNavigation(T,"imperative",null,O,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const y=new wu(i.id,this.serializeUrl(i.extractedUrl),g);r.next(y);try{i.resolve(this.errorHandler(g))}catch(w){i.reject(w)}}return ga.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},u=t.state?.navigationId?t.state:null;if(u){const g={...u};delete g.navigationId,delete g.\u0275routerPageId,0!==Object.keys(g).length&&(i.state=g)}const d=this.parseUrl(t.url);this.scheduleNavigation(d,r,u,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Ll(t),this.config=t.map(Yn),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:u,fragment:d,queryParamsHandling:g,preserveFragment:y}=r,w=i||this.routerState.root,T=y?this.currentUrlTree.fragment:d;let O=null;switch(g){case"merge":O={...this.currentUrlTree.queryParams,...u};break;case"preserve":O=this.currentUrlTree.queryParams;break;default:O=u||null}return null!==O&&(O=this.removeEmptyProps(O)),function Ea(n,e,t,r,i){if(0===t.length)return xu(e.root,e.root,e,r,i);const u=function Mm(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Ud(!0,0,n);let e=0,t=!1;const r=n.reduce((i,u,d)=>{if("object"==typeof u&&null!=u){if(u.outlets){const g={};return wr(u.outlets,(y,w)=>{g[w]="string"==typeof y?y.split("/"):y}),[...i,{outlets:g}]}if(u.segmentPath)return[...i,u.segmentPath]}return"string"!=typeof u?[...i,u]:0===d?(u.split("/").forEach((g,y)=>{0==y&&"."===g||(0==y&&""===g?t=!0:".."===g?e++:""!=g&&i.push(g))}),i):[...i,u]},[]);return new Ud(t,e,r)}(t);if(u.toRoot())return xu(e.root,new Rt([],{}),e,r,i);const d=function Om(n,e,t){if(n.isAbsolute)return new Ia(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const u=t.snapshot._urlSegment;return new Ia(u,u===e.root,0)}const r=ks(n.commands[0])?0:1;return function zf(n,e,t){let r=n,i=e,u=t;for(;u>i;){if(u-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Ia(r,!1,i-u)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(u,e,n),g=d.processChildren?Bd(d.segmentGroup,d.index,u.commands):Zf(d.segmentGroup,d.index,u.commands);return xu(d.segmentGroup,g,e,r,i)}(w,this.currentUrlTree,t,O,T??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=bt(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(u,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function $m(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...Bm}:!1===r?{...O0}:r,bt(t))return Al(this.currentUrlTree,t,i);const u=this.parseUrl(t);return Al(this.currentUrlTree,u,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const u=t[i];return null!=u&&(r[i]=u),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Kn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,u,d){if(this.disposed)return Promise.resolve(!1);const g=this.transitions.value,y=ip(r)&&g&&!ip(g.source),w=g.rawUrl.toString()===t.toString();if(y&&w&&g.id===this.currentNavigation?.id)return Promise.resolve(!0);let V,B,X;d?(V=d.resolve,B=d.reject,X=d.promise):X=new Promise((ft,Nt)=>{V=ft,B=Nt});const Se=++this.navigationId;let Ne;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),Ne=i&&i.\u0275routerPageId?i.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):Ne=0,this.setTransition({id:Se,targetPageId:Ne,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:u,resolve:V,reject:B,promise:X,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),X.catch(ft=>Promise.reject(ft))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),u={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",u):this.location.go(i,"",u)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new ya(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function ip(n){return"imperative"!==n}let Us=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new qi.x,this.subscription=t.events.subscribe(u=>{u instanceof Kn&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,u,d){if(0!==t||r||i||u||d||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const g={skipLocationChange:Bl(this.skipLocationChange),replaceUrl:Bl(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,g),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Bl(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Er),l.Y36(wa),l.Y36(je))},n.\u0275dir=l.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&l.NdJ("click",function(u){return r.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&t&&l.uIk("target",r.target)("href",r.href,l.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[l.TTD]}),n})();function Bl(n){return""===n||!!n}class Gm{}class zm{preload(e,t){return Mt(null)}}let op=(()=>{class n{constructor(t,r,i,u){this.router=t,this.injector=i,this.preloadingStrategy=u,this.loader=new Lm(i,r,y=>t.triggerEvent(new Ko(y)),y=>t.triggerEvent(new Yo(y)))}setUpPreloading(){this.subscription=this.router.events.pipe(Ei(t=>t instanceof Kn),ma(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(l.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const u of r)if(u.loadChildren&&!u.canLoad&&u._loadedConfig){const d=u._loadedConfig;i.push(this.processRoutes(d.module,d.routes))}else u.loadChildren&&!u.canLoad?i.push(this.preloadConfig(t,u)):u.children&&i.push(this.processRoutes(t,u.children));return(0,Pn.D)(i).pipe((0,Is.J)(),(0,Lt.U)(u=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?Mt(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,Un.z)(u=>(r._loadedConfig=u,this.processRoutes(u.module,u.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Er),l.LFG(l.Sil),l.LFG(l.zs3),l.LFG(Gm))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),qm=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Nf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Kn&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Td&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Td(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Oa=new l.OlP("ROUTER_CONFIGURATION"),Zm=new l.OlP("ROUTER_FORROOT_GUARD"),Fu=[ut,{provide:Bf,useClass:xl},{provide:Er,useFactory:function A0(n,e,t,r,i,u,d={},g,y){const w=new Er(null,n,e,t,r,i,Vf(u));return g&&(w.urlHandlingStrategy=g),y&&(w.routeReuseStrategy=y),function x0(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(d,w),d.enableTracing&&w.events.subscribe(T=>{console.group?.(`Router Event: ${T.constructor.name}`),console.log(T.toString()),console.log(T),console.groupEnd?.()}),w},deps:[Bf,Da,ut,l.zs3,l.Sil,rp,Oa,[class Vm{},new l.FiY],[class nI{},new l.FiY]]},Da,{provide:wa,useFactory:function Ym(n){return n.routerState.root},deps:[Er]},op,zm,class Hm{preload(e,t){return t().pipe(io(()=>Mt(null)))}},{provide:Oa,useValue:{enableTracing:!1}}];function P0(){return new l.PXZ("Router",Er)}let Wm=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[Fu,Km(t),{provide:Zm,useFactory:sI,deps:[[Er,new l.FiY,new l.tp0]]},{provide:Oa,useValue:r||{}},{provide:je,useFactory:sp,deps:[de,[new l.tBr(Ee),new l.FiY],Oa]},{provide:qm,useFactory:oI,deps:[Er,_l,Oa]},{provide:Gm,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:zm},{provide:l.PXZ,multi:!0,useFactory:P0},[ap,{provide:l.ip1,multi:!0,useFactory:up,deps:[ap]},{provide:Qm,useFactory:lp,deps:[ap]},{provide:l.tb,multi:!0,useExisting:Qm}]]}}static forChild(t){return{ngModule:n,providers:[Km(t)]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Zm,8),l.LFG(Er,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();function oI(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new qm(n,e,t)}function sp(n,e,t={}){return t.useHash?new Fe(n,e):new Ae(n,e)}function sI(n){return"guarded"}function Km(n){return[{provide:l.deG,multi:!0,useValue:n},{provide:rp,multi:!0,useValue:n}]}let ap=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new qi.x}appInitializer(){return this.injector.get(q,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(g=>r=g),u=this.injector.get(Er),d=this.injector.get(Oa);return"disabled"===d.initialNavigation?(u.setUpLocationChangeListener(),r(!0)):"enabled"===d.initialNavigation||"enabledBlocking"===d.initialNavigation?(u.hooks.afterPreactivation=()=>this.initNavigation?Mt(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),u.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(Oa),i=this.injector.get(op),u=this.injector.get(qm),d=this.injector.get(Er),g=this.injector.get(l.z2F);t===g.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&d.initialNavigation(),i.setUpPreloading(),u.init(),d.resetRootComponentType(g.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.zs3))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function up(n){return n.appInitializer.bind(n)}function lp(n){return n.bootstrapListener.bind(n)}const Qm=new l.OlP("Router Initializer");let $l=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n}),n})(),Lu=(()=>{class n extends $l{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const Mo=new l.OlP("NgValueAccessor"),R0={provide:Mo,useExisting:(0,l.Gpc)(()=>Vu),multi:!0},N0=new l.OlP("CompositionEventMode");let Vu=(()=>{class n extends $l{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function e_(){const n=x()?x().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(N0,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&l.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[l._Bn([R0]),l.qOj]}),n})();function Bs(n){return null==n||0===n.length}function k0(n){return null!=n&&"number"==typeof n.length}const ti=new l.OlP("NgValidators"),Pa=new l.OlP("NgAsyncValidators"),lI=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class dn{static min(e){return function F0(n){return e=>{if(Bs(e.value)||Bs(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function t_(n){return e=>{if(Bs(e.value)||Bs(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return L0(e)}static requiredTrue(e){return function V0(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function U0(n){return Bs(n.value)||lI.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function B0(n){return e=>Bs(e.value)||!k0(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function n_(n){return e=>k0(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function $0(n){if(!n)return Zd;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Bs(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return lo(e)}static composeAsync(e){return H0(e)}}function L0(n){return Bs(n.value)?{required:!0}:null}function Zd(n){return null}function j0(n){return null!=n}function nn(n){const e=(0,l.QGY)(n)?(0,Pn.D)(n):n;return(0,l.CqO)(e),e}function r_(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function i_(n,e){return e.map(t=>t(n))}function Wd(n){return n.map(e=>function G0(n){return!n.validate}(e)?e:t=>e.validate(t))}function lo(n){if(!n)return null;const e=n.filter(j0);return 0==e.length?null:function(t){return r_(i_(t,e))}}function cp(n){return null!=n?lo(Wd(n)):null}function H0(n){if(!n)return null;const e=n.filter(j0);return 0==e.length?null:function(t){return function Xm(...n){const e=(0,la.jO)(n),{args:t,keys:r}=vu(n),i=new Dr.y(u=>{const{length:d}=t;if(!d)return void u.complete();const g=new Array(d);let y=d,w=d;for(let T=0;T<d;T++){let O=!1;(0,no.Xf)(t[T]).subscribe(new qn.Q(u,V=>{O||(O=!0,w--),g[T]=V},()=>y--,void 0,()=>{(!y||!O)&&(w||u.next(r?El(r,g):g),u.complete())}))}});return e?i.pipe(qo(e)):i}(i_(t,e).map(nn)).pipe((0,Lt.U)(r_))}}function Kd(n){return null!=n?H0(Wd(n)):null}function rs(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function dp(n){return n._rawValidators}function o_(n){return n._rawAsyncValidators}function Yd(n){return n?Array.isArray(n)?n:[n]:[]}function s_(n,e){return Array.isArray(n)?n.includes(e):n===e}function a_(n,e){const t=Yd(e);return Yd(n).forEach(i=>{s_(t,i)||t.push(i)}),t}function cI(n,e){return Yd(e).filter(t=>!s_(n,t))}class Qd{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=cp(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Kd(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class zr extends Qd{get formDirective(){return null}get path(){return null}}class is extends Qd{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class hp{constructor(e){this._cd=e}is(e){return"submitted"===e?!!this._cd?.submitted:!!this._cd?.control?.[e]}}let jl=(()=>{class n extends hp{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(is,2))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&l.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[l.qOj]}),n})(),Gl=(()=>{class n extends hp{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(zr,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&l.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[l.qOj]}),n})();function pp(n,e){K0(n,e),e.valueAccessor.writeValue(n.value),function JO(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&gp(n,e)})}(n,e),function pI(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Aa(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&gp(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function QO(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function c_(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),h_(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function d_(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function K0(n,e){const t=dp(n);null!==e.validator?n.setValidators(rs(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=o_(n);null!==e.asyncValidator?n.setAsyncValidators(rs(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();d_(e._rawValidators,i),d_(e._rawAsyncValidators,i)}function h_(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=dp(n);if(Array.isArray(i)&&i.length>0){const u=i.filter(d=>d!==e.validator);u.length!==i.length&&(t=!0,n.setValidators(u))}}if(null!==e.asyncValidator){const i=o_(n);if(Array.isArray(i)&&i.length>0){const u=i.filter(d=>d!==e.asyncValidator);u.length!==i.length&&(t=!0,n.setAsyncValidators(u))}}}const r=()=>{};return d_(e._rawValidators,r),d_(e._rawAsyncValidators,r),t}function gp(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Hl(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const zl="VALID",mp="INVALID",ql="PENDING",$s="DISABLED";function Jd(n){return(v_(n)?n.validators:n)||null}function Uu(n){return Array.isArray(n)?cp(n):n||null}function Bu(n,e){return(v_(e)?e.asyncValidators:n)||null}function $u(n){return Array.isArray(n)?Kd(n):n||null}function v_(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class _p{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Uu(this._rawValidators),this._composedAsyncValidatorFn=$u(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===zl}get invalid(){return this.status===mp}get pending(){return this.status==ql}get disabled(){return this.status===$s}get enabled(){return this.status!==$s}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Uu(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=$u(e)}addValidators(e){this.setValidators(a_(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(a_(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(cI(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(cI(e,this._rawAsyncValidators))}hasValidator(e){return s_(this._rawValidators,e)}hasAsyncValidator(e){return s_(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ql,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=$s,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=zl,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===zl||this.status===ql)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?$s:zl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ql,this._hasOwnPendingAsyncValidator=!0;const t=nn(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function Zl(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=r instanceof Gu?r.controls.hasOwnProperty(i)?r.controls[i]:null:r instanceof Xd&&r.at(i)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?$s:this.errors?mp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ql)?ql:this._anyControlsHaveStatus(mp)?mp:zl}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){v_(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class ju extends _p{constructor(e=null,t,r){super(Jd(t),Bu(r,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Hl(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Hl(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class Gu extends _p{constructor(e,t,r){super(Jd(t),Bu(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(r=>{this._throwIfControlMissing(r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t instanceof ju?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,u)=>{r=t(r,i,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control with name: '${r}'.`)})}}class Xd extends _p{constructor(e,t,r){super(Jd(t),Bu(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((r,i)=>{this._throwIfControlMissing(i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof ju?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control at index: ${r}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}let Wl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),tC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const I_=new l.OlP("NgModelWithFormControlWarning"),oC={provide:zr,useExisting:(0,l.Gpc)(()=>Ra)};let Ra=(()=>{class n extends zr{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(h_(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return pp(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){c_(t.control||null,t,!1),Hl(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function __(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(c_(r||null,t),i instanceof ju&&(pp(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function f_(n,e){K0(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function p_(n,e){return h_(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){K0(this.form,this),this._oldForm&&h_(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(ti,10),l.Y36(Pa,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&l.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([oC]),l.qOj,l.TTD]}),n})();const D_={provide:is,useExisting:(0,l.Gpc)(()=>Hu)};let Hu=(()=>{class n extends is{constructor(t,r,i,u,d){super(),this._ngModelWarningConfig=d,this._added=!1,this.update=new l.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function y_(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(u=>{u.constructor===Vu?t=u:function xa(n){return Object.getPrototypeOf(n.constructor)===Lu}(u)?r=u:i=u}),i||r||t||null}(0,u)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function m_(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function l_(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(l.Y36(zr,13),l.Y36(ti,10),l.Y36(Pa,10),l.Y36(Mo,10),l.Y36(I_,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l._Bn([D_]),l.qOj,l.TTD]}),n})();const rP={provide:ti,useExisting:(0,l.Gpc)(()=>zu),multi:!0};let zu=(()=>{class n{constructor(){this._required=!1}get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&"false"!=`${t}`,this._onChange&&this._onChange()}validate(t){return this.required?L0(t):null}registerOnValidatorChange(t){this._onChange=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&l.uIk("required",r.required?"":null)},inputs:{required:"required"},features:[l._Bn([rP])]}),n})(),Ql=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[tC]]}),n})(),SI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Ql]}),n})(),Ep=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:I_,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Ql]}),n})(),Jl=(()=>{class n{group(t,r=null){const i=this._reduceControls(t);let g,u=null,d=null;return null!=r&&(function mC(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(r)?(u=null!=r.validators?r.validators:null,d=null!=r.asyncValidators?r.asyncValidators:null,g=null!=r.updateOn?r.updateOn:void 0):(u=null!=r.validator?r.validator:null,d=null!=r.asyncValidator?r.asyncValidator:null)),new Gu(i,{asyncValidators:d,updateOn:g,validators:u})}control(t,r,i){return new ju(t,r,i)}array(t,r,i){const u=t.map(d=>this._createControl(d));return new Xd(u,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof ju||t instanceof Gu||t instanceof Xd?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:Ep}),n})();var x_=P(7143),Qt=P(2090),Sr=P(9681),Na=P(1877),ka=P(4859);class qu{}class S_{}class fi{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),u=i.toLowerCase(),d=t.slice(r+1).trim();this.maybeSetNormalizedName(i,u),this.headers.has(u)?this.headers.get(u).push(d):this.headers.set(u,[d])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof fi?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new fi;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof fi?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const u=e.value;if(u){let d=this.headers.get(t);if(!d)return;d=d.filter(g=>-1===u.indexOf(g)),0===d.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,d)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class NI{encodeKey(e){return _C(e)}encodeValue(e){return _C(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const kI=/%(\d[a-f0-9])/gi,FI={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function _C(n){return encodeURIComponent(n).replace(kI,(e,t)=>FI[t]??e)}function yC(n){return`${n}`}class $r{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new NI,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Xl(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const u=i.indexOf("="),[d,g]=-1==u?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,u)),e.decodeValue(i.slice(u+1))],y=t.get(d)||[];y.push(g),t.set(d,y)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t];this.map.set(t,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(u=>{t.push({param:r,value:u,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new $r({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(yC(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(yC(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class CC{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}keys(){return this.map.keys()}}function R_(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function N_(n){return typeof Blob<"u"&&n instanceof Blob}function wC(n){return typeof FormData<"u"&&n instanceof FormData}class eh{constructor(e,t,r,i){let u;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function bC(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,u=i):u=r,u&&(this.reportProgress=!!u.reportProgress,this.withCredentials=!!u.withCredentials,u.responseType&&(this.responseType=u.responseType),u.headers&&(this.headers=u.headers),u.context&&(this.context=u.context),u.params&&(this.params=u.params)),this.headers||(this.headers=new fi),this.context||(this.context=new CC),this.params){const d=this.params.toString();if(0===d.length)this.urlWithParams=t;else{const g=t.indexOf("?");this.urlWithParams=t+(-1===g?"?":g<t.length-1?"&":"")+d}}else this.params=new $r,this.urlWithParams=t}serializeBody(){return null===this.body?null:R_(this.body)||N_(this.body)||wC(this.body)||function LI(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof $r?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||wC(this.body)?null:N_(this.body)?this.body.type||null:R_(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof $r?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,u=void 0!==e.body?e.body:this.body,d=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,g=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let y=e.headers||this.headers,w=e.params||this.params;const T=e.context??this.context;return void 0!==e.setHeaders&&(y=Object.keys(e.setHeaders).reduce((O,V)=>O.set(V,e.setHeaders[V]),y)),e.setParams&&(w=Object.keys(e.setParams).reduce((O,V)=>O.set(V,e.setParams[V]),w)),new eh(t,r,u,{params:w,headers:y,context:T,reportProgress:g,responseType:i,withCredentials:d})}}var Rr=(()=>((Rr=Rr||{})[Rr.Sent=0]="Sent",Rr[Rr.UploadProgress=1]="UploadProgress",Rr[Rr.ResponseHeader=2]="ResponseHeader",Rr[Rr.DownloadProgress=3]="DownloadProgress",Rr[Rr.Response=4]="Response",Rr[Rr.User=5]="User",Rr))();class Ip{constructor(e,t=200,r="OK"){this.headers=e.headers||new fi,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class EC extends Ip{constructor(e={}){super(e),this.type=Rr.ResponseHeader}clone(e={}){return new EC({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class th extends Ip{constructor(e={}){super(e),this.type=Rr.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new th({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class IC extends Ip{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function k_(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let F_=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let u;if(t instanceof eh)u=t;else{let y,w;y=i.headers instanceof fi?i.headers:new fi(i.headers),i.params&&(w=i.params instanceof $r?i.params:new $r({fromObject:i.params})),u=new eh(t,r,void 0!==i.body?i.body:null,{headers:y,context:i.context,params:w,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const d=Mt(u).pipe(ma(y=>this.handler.handle(y)));if(t instanceof eh||"events"===i.observe)return d;const g=d.pipe(Ei(y=>y instanceof th));switch(i.observe||"body"){case"body":switch(u.responseType){case"arraybuffer":return g.pipe((0,Lt.U)(y=>{if(null!==y.body&&!(y.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return y.body}));case"blob":return g.pipe((0,Lt.U)(y=>{if(null!==y.body&&!(y.body instanceof Blob))throw new Error("Response is not a Blob.");return y.body}));case"text":return g.pipe((0,Lt.U)(y=>{if(null!==y.body&&"string"!=typeof y.body)throw new Error("Response is not a string.");return y.body}));default:return g.pipe((0,Lt.U)(y=>y.body))}case"response":return g;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new $r).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,k_(i,r))}post(t,r,i={}){return this.request("POST",t,k_(i,r))}put(t,r,i={}){return this.request("PUT",t,k_(i,r))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(qu))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class VI{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const Tp=new l.OlP("HTTP_INTERCEPTORS");let UI=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const TC=/^\)\]\}',?\n/;let MC=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Dr.y(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((B,X)=>i.setRequestHeader(B,X.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const B=t.detectContentTypeHeader();null!==B&&i.setRequestHeader("Content-Type",B)}if(t.responseType){const B=t.responseType.toLowerCase();i.responseType="json"!==B?B:"text"}const u=t.serializeBody();let d=null;const g=()=>{if(null!==d)return d;const B=1223===i.status?204:i.status,X=i.statusText||"OK",Se=new fi(i.getAllResponseHeaders()),Ne=function DC(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return d=new EC({headers:Se,status:B,statusText:X,url:Ne}),d},y=()=>{let{headers:B,status:X,statusText:Se,url:Ne}=g(),ft=null;204!==X&&(ft=typeof i.response>"u"?i.responseText:i.response),0===X&&(X=ft?200:0);let Nt=X>=200&&X<300;if("json"===t.responseType&&"string"==typeof ft){const Pt=ft;ft=ft.replace(TC,"");try{ft=""!==ft?JSON.parse(ft):null}catch(wt){ft=Pt,Nt&&(Nt=!1,ft={error:wt,text:ft})}}Nt?(r.next(new th({body:ft,headers:B,status:X,statusText:Se,url:Ne||void 0})),r.complete()):r.error(new IC({error:ft,headers:B,status:X,statusText:Se,url:Ne||void 0}))},w=B=>{const{url:X}=g(),Se=new IC({error:B,status:i.status||0,statusText:i.statusText||"Unknown Error",url:X||void 0});r.error(Se)};let T=!1;const O=B=>{T||(r.next(g()),T=!0);let X={type:Rr.DownloadProgress,loaded:B.loaded};B.lengthComputable&&(X.total=B.total),"text"===t.responseType&&!!i.responseText&&(X.partialText=i.responseText),r.next(X)},V=B=>{let X={type:Rr.UploadProgress,loaded:B.loaded};B.lengthComputable&&(X.total=B.total),r.next(X)};return i.addEventListener("load",y),i.addEventListener("error",w),i.addEventListener("timeout",w),i.addEventListener("abort",w),t.reportProgress&&(i.addEventListener("progress",O),null!==u&&i.upload&&i.upload.addEventListener("progress",V)),i.send(u),r.next({type:Rr.Sent}),()=>{i.removeEventListener("error",w),i.removeEventListener("abort",w),i.removeEventListener("load",y),i.removeEventListener("timeout",w),t.reportProgress&&(i.removeEventListener("progress",O),null!==u&&i.upload&&i.upload.removeEventListener("progress",V)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(vl))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const OC=new l.OlP("XSRF_COOKIE_NAME"),Dp=new l.OlP("XSRF_HEADER_NAME");class Mp{}let GI=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=bi(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(fe),l.LFG(l.Lbi),l.LFG(OC))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),nh=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const i=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(t);const u=this.tokenService.getToken();return null!==u&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,u)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Mp),l.LFG(Dp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),HI=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(Tp,[]);this.chain=r.reduceRight((i,u)=>new VI(i,u),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(S_),l.LFG(l.zs3))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),zI=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:nh,useClass:UI}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:OC,useValue:t.cookieName}:[],t.headerName?{provide:Dp,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[nh,{provide:Tp,useExisting:nh,multi:!0},{provide:Mp,useClass:GI},{provide:OC,useValue:"XSRF-TOKEN"},{provide:Dp,useValue:"X-XSRF-TOKEN"}]}),n})(),qI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[F_,{provide:qu,useClass:HI},MC,{provide:S_,useExisting:MC}],imports:[[zI.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();const co_firebase={apiKey:"AIzaSyAgu6As4DlgyYLaYlWu8Q_ETSdqyR0VAwI",authDomain:"plataformacursos-fd550.firebaseapp.com",projectId:"plataformacursos-fd550",storageBucket:"plataformacursos-fd550.appspot.com",messagingSenderId:"554812126132",appId:"1:554812126132:web:e6b3ac6afa3bb94c4e38e1",measurementId:"G-Z9B8WT522H"},co_BASE_API="https://us-central1-plataformacursos-fd550.cloudfunctions.net/app";var ZI=P(6451),Fa=P(5363),WI=P(6063);class KI extends qi.x{constructor(e=1/0,t=1/0,r=WI.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:u,_windowTime:d}=this;t||(r.push(e),!i&&r.push(u.now()+d)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,u=i.slice();for(let d=0;d<u.length&&!e.closed;d+=r?1:2)e.next(u[d]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,u=(i?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!i){const d=t.now();let g=0;for(let y=1;y<r.length&&r[y]<=d;y+=2)g=y;g&&r.splice(0,g+1)}}}var V_=P(3099);function Po(n,e,t){var r,i;let u,d=!1;return n&&"object"==typeof n?(u=null!==(r=n.bufferSize)&&void 0!==r?r:1/0,e=null!==(i=n.windowTime)&&void 0!==i?i:1/0,d=!!n.refCount,t=n.scheduler):u=n??1/0,(0,V_.B)({connector:()=>new KI(u,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:d})}function ec(n,e){return(0,Wo.m)(e)?gr(()=>n,e):gr(()=>n)}var qr=P(9468),ht=P(5119),Zr=P(2011),Qn=P(5867);class ho{constructor(e){return e}}class fo{constructor(){return(0,Qn.C6)()}}const La=new l.OlP("angularfire2._apps"),nc={provide:ho,useFactory:function tc(n){return n&&1===n.length?n[0]:new ho((0,Qn.Mq)())},deps:[[new l.FiY,La]]},rc={provide:fo,deps:[[new l.FiY,La]]};function ic(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new ho(r)}}let oc=(()=>{class n{constructor(t){(0,Qn.KN)("angularfire",ht.q4.full,"core"),(0,Qn.KN)("angularfire",ht.q4.full,"app"),(0,Qn.KN)("angular",l.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.Lbi))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[nc,rc]}),n})();function sc(n,...e){return{ngModule:oc,providers:[{provide:La,useFactory:ic(n),multi:!0,deps:[l.R0b,l.zs3,ht.HU,...e]}]}}const PC=(0,ht.u3)(Qn.ZF,!0);var ve=P(5861);const U_=new Map,nT={activated:!1,tokenObservers:[]},AC={initialized:!1,enabled:!1};function Wr(n){return U_.get(n)||nT}function Ao(n,e){U_.set(n,e)}function ih(){return AC}class sT{constructor(e,t,r,i,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=i,i>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ve.Z)(function*(){t.stop();try{t.pending=new Qt.BH,yield function aP(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Qt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const ni=new Qt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function SC(n){if(!Wr(n).activated)throw ni.create("use-before-activation",{appName:n.name})}function NC(n,e){return G_.apply(this,arguments)}function G_(){return(G_=(0,ve.Z)(function*({url:n,body:e},t){var r,i;const u={"Content-Type":"application/json"},d=t.getImmediate({optional:!0});if(d){const B=yield d.getHeartbeatsHeader();B&&(u["X-Firebase-Client"]=B)}const g={method:"POST",body:JSON.stringify(e),headers:u};let y,w;try{y=yield fetch(n,g)}catch(B){throw ni.create("fetch-network-error",{originalErrorMessage:null===(r=B)||void 0===r?void 0:r.message})}if(200!==y.status)throw ni.create("fetch-status-error",{httpStatus:y.status});try{w=yield y.json()}catch(B){throw ni.create("fetch-parse-error",{originalErrorMessage:null===(i=B)||void 0===i?void 0:i.message})}const T=w.ttl.match(/^([\d.]+)(s)$/);if(!T||!T[2]||isNaN(Number(T[1])))throw ni.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${w.ttl}`});const O=1e3*Number(T[1]),V=Date.now();return{token:w.token,expireTimeMillis:V+O,issuedAtTimeMillis:V}})).apply(this,arguments)}function uT(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const lc="firebase-app-check-store";let oh=null;function sh(){return oh||(oh=new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=i=>{n(i.target.result)},r.onerror=i=>{var u;e(ni.create("storage-open",{originalErrorMessage:null===(u=i.target.error)||void 0===u?void 0:u.message}))},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(lc,{keyPath:"compositeKey"})}}catch(r){e(ni.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}}),oh)}function H_(){return(H_=(0,ve.Z)(function*(n,e){const r=(yield sh()).transaction(lc,"readwrite"),u=r.objectStore(lc).put({compositeKey:n,value:e});return new Promise((d,g)=>{u.onsuccess=y=>{d()},r.onerror=y=>{var w;g(ni.create("storage-set",{originalErrorMessage:null===(w=y.target.error)||void 0===w?void 0:w.message}))}})})).apply(this,arguments)}const cc=new Na.Yd("@firebase/app-check");function fT(n,e){return(0,Qt.hl)()?function LC(n,e){return function VC(n,e){return H_.apply(this,arguments)}(function BC(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{cc.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function pT(){return ih().enabled}function dc(){return Pp.apply(this,arguments)}function Pp(){return(Pp=(0,ve.Z)(function*(){const n=ih();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const W_={error:"UNKNOWN_ERROR"};function gT(n){return Qt.US.encodeString(JSON.stringify(n),!1)}function hc(n){return uh.apply(this,arguments)}function uh(){return(uh=(0,ve.Z)(function*(n,e=!1){const t=n.app;SC(t);const r=Wr(t);let u,i=r.token;if(!i){const y=yield r.cachedTokenPromise;y&&xp(y)&&(i=y)}if(!e&&i&&xp(i))return{token:i.token};let g,d=!1;if(pT()){r.exchangeTokenPromise||(r.exchangeTokenPromise=NC(uT(t,yield dc()),n.heartbeatServiceProvider).then(w=>(r.exchangeTokenPromise=void 0,w)),d=!0);const y=yield r.exchangeTokenPromise;return yield fT(t,y),Ao(t,Object.assign(Object.assign({},r),{token:y})),{token:y.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(y=>(r.exchangeTokenPromise=void 0,y)),d=!0),i=yield r.exchangeTokenPromise}catch(y){"appCheck/throttled"===y.code?cc.warn(y.message):cc.error(y),u=y}return i?(g={token:i.token},Ao(t,Object.assign(Object.assign({},r),{token:i})),yield fT(t,i)):g=zC(u),d&&K_(t,g),g})).apply(this,arguments)}function jC(n,e){const t=Wr(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Ao(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function GC(n){const{app:e}=n,t=Wr(e);let r=t.tokenRefresher;r||(r=function HC(n){const{app:e}=n;return new sT((0,ve.Z)(function*(){let r;if(r=Wr(e).token?yield hc(n,!0):yield hc(n),r.error)throw r.error}),()=>!0,()=>{const t=Wr(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),Ao(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function K_(n,e){const t=Wr(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function xp(n){return n.expireTimeMillis-Date.now()>0}function zC(n){return{token:gT(W_),error:n}}class Y_{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Wr(this.app);for(const t of e)jC(this.app,t.next);return Promise.resolve()}}const Nr="app-check-internal";!function tb(){(0,Sr._registerComponent)(new ka.wA("app-check",n=>function qC(n,e){return new Y_(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Nr).initialize()})),(0,Sr._registerComponent)(new ka.wA(Nr,n=>function ZC(n){return{getToken:e=>hc(n,e),addTokenListener:e=>function Ap(n,e,t,r){const{app:i}=n,u=Wr(i),d={next:t,error:r,type:e};if(Ao(i,Object.assign(Object.assign({},u),{tokenObservers:[...u.tokenObservers,d]})),u.token&&xp(u.token)){const g=u.token;Promise.resolve().then(()=>{t({token:g.token}),GC(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>GC(n))}(n,"INTERNAL",e),removeTokenListener:e=>jC(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Sr.registerVersion)("@firebase/app-check","0.5.12")}();class js{constructor(){return(0,ht.vb)("app-check")}}typeof window<"u"&&window;var xo=P(127);const po=new l.OlP("angularfire2.auth.use-emulator"),uy=new l.OlP("angularfire2.auth.settings"),ly=new l.OlP("angularfire2.auth.tenant-id"),ob=new l.OlP("angularfire2.auth.langugage-code"),sb=new l.OlP("angularfire2.auth.use-device-language"),ab=new l.OlP("angularfire.auth.persistence"),ub=(n,e,t,r,i,u,d,g)=>(0,Zr.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const y=e.runOutsideAngular(()=>n.auth());if(t&&y.useEmulator(...t),r&&(y.tenantId=r),y.languageCode=i,u&&y.useDeviceLanguage(),d)for(const[w,T]of Object.entries(d))y.settings[w]=T;return g&&y.setPersistence(g),y},[t,r,i,u,d,g]);let ch=(()=>{class n{constructor(t,r,i,u,d,g,y,w,T,O,V,B){const X=new qi.x,Se=Mt(void 0).pipe((0,Fa.Q)(d.outsideAngular),gr(()=>u.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,5881)))),(0,Lt.U)(()=>(0,Zr.on)(t,u,r)),(0,Lt.U)(Ne=>ub(Ne,u,g,w,T,O,y,V)),Po({bufferSize:1,refCount:!1}));if(zn(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Mt(null);else{Se.pipe(_a()).subscribe();const ft=Se.pipe(gr(wt=>wt.getRedirectResult().then(Ht=>Ht,()=>null)),ht.iC,Po({bufferSize:1,refCount:!1})),Nt=Se.pipe(gr(wt=>new Dr.y(Ht=>({unsubscribe:u.runOutsideAngular(()=>wt.onAuthStateChanged(on=>Ht.next(on),on=>Ht.error(on),()=>Ht.complete()))})))),Pt=Se.pipe(gr(wt=>new Dr.y(Ht=>({unsubscribe:u.runOutsideAngular(()=>wt.onIdTokenChanged(on=>Ht.next(on),on=>Ht.error(on),()=>Ht.complete()))}))));this.authState=ft.pipe(ec(Nt),(0,qr.R)(d.outsideAngular),(0,Fa.Q)(d.insideAngular)),this.user=ft.pipe(ec(Pt),(0,qr.R)(d.outsideAngular),(0,Fa.Q)(d.insideAngular)),this.idToken=this.user.pipe(gr(wt=>wt?(0,Pn.D)(wt.getIdToken()):Mt(null))),this.idTokenResult=this.user.pipe(gr(wt=>wt?(0,Pn.D)(wt.getIdTokenResult()):Mt(null))),this.credential=(0,ZI.T)(ft,X,this.authState.pipe(Ei(wt=>!wt))).pipe((0,Lt.U)(wt=>(null==wt?void 0:wt.user)?wt:null),(0,qr.R)(d.outsideAngular),(0,Fa.Q)(d.insideAngular))}return(0,Zr.pX)(this,Se,u,{spy:{apply:(Ne,ft,Nt)=>{(Ne.startsWith("signIn")||Ne.startsWith("createUser"))&&Nt.then(Pt=>X.next(Pt))}}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Zr.Dh),l.LFG(Zr.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(ht.HU),l.LFG(po,8),l.LFG(uy,8),l.LFG(ly,8),l.LFG(ob,8),l.LFG(sb,8),l.LFG(ab,8),l.LFG(js,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Hs=(()=>{class n{constructor(t,r){this.afa=t,this.http=r,this.module="User",this.url=co_BASE_API,this.language="en-US"}login(t){return this.afa.signInWithEmailAndPassword(t.email,t.password)}logout(){return this.afa.signOut()}register(t){return this.afa.createUserWithEmailAndPassword(t.email,t.password)}resetPassword(t){return this.afa.sendPasswordResetEmail(t)}authState(){return this.afa.authState}getUserUid(){const t=x_.n();return t.currentUser?t.currentUser.uid:"nolog"}updateEmail(t,r){let i=new fi;return i=i.set("content-type","application/json"),this.http.post(this.url+"/update-email",{uid:t,email:r},{headers:i})}updatePassword(t,r){let i=new fi;return i=i.set("content-type","application/json"),this.http.post(this.url+"/update-password",{uid:t,password:r},{headers:i})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ch),l.LFG(F_))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function lb(n,e){1&n&&(l.TgZ(0,"p"),l.SDv(1,13),l.qZA())}function IT(n,e){if(1&n&&(l.TgZ(0,"div",14),l._uU(1),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.hij(" ",t.error.text," ")}}let cb=(()=>{class n{constructor(t,r){this.formBuilder=t,this.auth=r,this.formEmail=t.group({email:["",dn.required]}),this.error={value:!1,text:""},this.sendEmail=!1}ngOnInit(){}send(){this.formEmail.valid&&this.auth.resetPassword(this.formEmail.value.email).then(t=>{this.sendEmail=!0}).catch(t=>{let r=t.code;if("pt-BR"==this.auth.language)switch(r){case"auth/invalid-email":this.errors("Erro: e-mail inv\xe1lido");break;case"auth/user-disabled":this.errors("Erro: usu\xe1rio desativado");break;case"auth/user-not-found":this.errors("Erro: usu\xe1rio n\xe3o encontrado");break;case"auth/wrong-password":this.errors("Erro: senha incorreta");break;default:this.errors("Erro: "+t)}else this.errors("Error: "+r)})}errors(t){this.error.value=!0,this.error.text=t,setTimeout(()=>{this.error.value=!1,this.error.text=""},4e3)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Jl),l.Y36(Hs))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-forgot-password"]],decls:17,vars:4,consts:function(){let e,t,r;return e="FORGOT YOUR PASSWORD?",t="" + "[\ufffd#13\ufffd|\ufffd#15\ufffd]" + " Did you remember your password? " + "\ufffd#14\ufffd" + "Back to login" + "[\ufffd/#14\ufffd|\ufffd/#16\ufffd]" + "" + "[\ufffd/#13\ufffd|\ufffd/#15\ufffd]" + "" + "[\ufffd#13\ufffd|\ufffd#15\ufffd]" + " Don't have an account? " + "\ufffd#16\ufffd" + "Register now" + "[\ufffd/#14\ufffd|\ufffd/#16\ufffd]" + "" + "[\ufffd/#13\ufffd|\ufffd/#15\ufffd]" + "",t=l.Zx4(t),r=" We will send a link to your email to reset your password. ",[[1,"auth"],[3,"formGroup","ngSubmit"],e,["appearance","fill",1,"input"],["placeholder","Email","formControlName","email","type","email","autocomplete","current-email","required",""],[4,"ngIf"],["class","error-message",4,"ngIf"],[1,"buttons"],["type","submit","aria-hidden","false","aria-label","Login",1,"btn",3,"disabled"],[1,"text-alt"],t,["routerLink","../login"],["routerLink","../register"],r,[1,"error-message"]]},template:function(t,r){1&t&&(l.TgZ(0,"section",0),l.TgZ(1,"form",1),l.NdJ("ngSubmit",function(){return r.send()}),l.TgZ(2,"h2"),l.SDv(3,2),l.qZA(),l.TgZ(4,"div",3),l._UZ(5,"input",4),l.qZA(),l.YNc(6,lb,2,0,"p",5),l.YNc(7,IT,2,1,"div",6),l.TgZ(8,"div",7),l.TgZ(9,"button",8),l._uU(10," Continue "),l.qZA(),l.qZA(),l.TgZ(11,"div",9),l.tHW(12,10),l.TgZ(13,"p"),l._UZ(14,"a",11),l.qZA(),l.TgZ(15,"p"),l._UZ(16,"a",12),l.qZA(),l.N_p(),l.qZA(),l.qZA(),l.qZA()),2&t&&(l.xp6(1),l.Q6J("formGroup",r.formEmail),l.xp6(5),l.Q6J("ngIf",1==r.sendEmail),l.xp6(1),l.Q6J("ngIf",1==r.error.value),l.xp6(2),l.Q6J("disabled",r.formEmail.invalid))},directives:[Wl,Gl,Ra,Vu,jl,Hu,zu,Cr,Us],styles:['body[_ngcontent-%COMP%], *[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}body[_ngcontent-%COMP%]{font-weight:400;font-family:Roboto,sans-serif}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{font-weight:500;font-family:Libre Baskerville,serif}p[_ngcontent-%COMP%]{font-weight:400;font-family:Roboto,sans-serif}.btn[_ngcontent-%COMP%]{width:100%;padding:10px 5px;margin:0 auto;border-radius:10px;background-color:#80242b;color:#fff;font-size:12pt;border:0;cursor:pointer;box-shadow:0 0 3px 2px #0000004d;font-weight:500;font-family:Libre Baskerville,serif;transition:all ease-in-out .25s}.btn[_ngcontent-%COMP%]:disabled{opacity:20%;cursor:not-allowed}.btn[_ngcontent-%COMP%]:hover{box-shadow:0 0 2px #0000004d}@keyframes loading-bar{0%{margin-left:0}50%{margin-left:70%}to{margin-left:0%}}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.mobile[_ngcontent-%COMP%]{display:none}@media screen and (max-width: 768px){.mobile[_ngcontent-%COMP%]{display:block}}.desktop[_ngcontent-%COMP%]{display:block}@media screen and (max-width: 768px){.desktop[_ngcontent-%COMP%]{display:none}}.auth[_ngcontent-%COMP%]{min-height:100vh;width:100%;display:flex;justify-content:center;align-items:center}.auth[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{padding:10px 0;width:90%;max-width:300px;margin:auto;text-align:center}.auth[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24pt;padding:20px;font-weight:700;font-family:Libre Baskerville,serif;color:#80242b}.auth[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#80242b}.auth[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{padding:10px}.auth[_ngcontent-%COMP%]   .text-alt[_ngcontent-%COMP%]{text-align:left;padding-left:10px}.auth[_ngcontent-%COMP%]   .text-alt[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#80242b}.input[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background-color:#fff;padding:10px;margin:10px;height:40px;position:relative;border:1px solid #80242b;border-radius:10px}.input[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:10pt;font-weight:700;font-family:Libre Baskerville,serif;padding-right:5px;color:#80242b}.input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;text-align:left;width:80%;border:none;outline:none;color:#80242b}.input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;right:0;margin-right:3px;color:#80242b;background-color:transparent;border:0;display:flex;justify-content:center;align-items:center;outline:none;cursor:pointer;transition:all ease-in-out .25s;padding:5px;border-radius:100px}.input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ededed}.input[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.input[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.input[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{background-color:#80242b;color:#fff}.input[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{background-color:#db9e9e;color:#000;transition:all ease-in-out .25s;cursor:pointer;padding:5px;margin:2px;border-radius:5px;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.input[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{background-color:#80242b;color:#fff}a[_ngcontent-%COMP%]{color:#80242b;padding:0;margin:0;text-decoration:none}.icon-btn[_ngcontent-%COMP%]{margin-right:3px;color:#80242b;background-color:transparent;border:0;display:flex;justify-content:center;align-items:center;outline:none;cursor:pointer;transition:all ease-in-out .25s;padding:5px;border-radius:100px}.icon-btn[_ngcontent-%COMP%]:hover{background-color:#ededed}.content[_ngcontent-%COMP%]{min-height:100vh;width:100%}']}),n})();var dh=P(4986);function Zu(){return(0,xr.e)((n,e)=>{let t,r=!1;n.subscribe(new qn.Q(e,i=>{const u=t;t=i,r&&e.next([u,i]),r=!0}))})}function db(n,e=ha.y){return n=n??hb,(0,xr.e)((t,r)=>{let i,u=!0;t.subscribe(new qn.Q(r,d=>{const g=e(d);(u||!n(i,g))&&(u=!1,i=g,r.next(d))}))})}function hb(n,e){return n===e}P(5881);var Tt,kp=P(3942),Fp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ro={},Lp=Lp||{},Jt=Fp||self;function hh(){}function fh(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function pc(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var cy="closure_uid_"+(1e9*Math.random()>>>0),DT=0;function MT(n,e,t){return n.call.apply(n.bind,arguments)}function OT(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function pi(n,e,t){return(pi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?MT:OT).apply(null,arguments)}function Vp(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function ri(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,u){for(var d=Array(arguments.length-2),g=2;g<arguments.length;g++)d[g-2]=arguments[g];return e.prototype[i].apply(r,d)}}function Va(){this.s=this.s,this.o=this.o}var AT={};Va.prototype.s=!1,Va.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function fb(n){return Object.prototype.hasOwnProperty.call(n,cy)&&n[cy]||(n[cy]=++DT)}(this);delete AT[n]}},Va.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const pb=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function dy(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function gb(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(fh(r)){const i=n.length||0,u=r.length||0;n.length=i+u;for(let d=0;d<u;d++)n[i+d]=r[d]}else n.push(r)}}function gi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}gi.prototype.h=function(){this.defaultPrevented=!0};var xT=function(){if(!Jt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Jt.addEventListener("test",hh,e),Jt.removeEventListener("test",hh,e)}catch{}return n}();function Up(n){return/^[\s\xa0]*$/.test(n)}var mb=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function hy(n,e){return n<e?-1:n>e?1:0}function ph(){var n=Jt.navigator;return n&&(n=n.userAgent)?n:""}function No(n){return-1!=ph().indexOf(n)}function Bp(n){return Bp[" "](n),n}Bp[" "]=hh;var as,n,yb=No("Opera"),Wu=No("Trident")||No("MSIE"),fy=No("Edge"),$p=fy||Wu,py=No("Gecko")&&!(-1!=ph().toLowerCase().indexOf("webkit")&&!No("Edge"))&&!(No("Trident")||No("MSIE"))&&!No("Edge"),vb=-1!=ph().toLowerCase().indexOf("webkit")&&!No("Edge");function gy(){var n=Jt.document;return n?n.documentMode:void 0}e:{var my="",_y=(n=ph(),py?/rv:([^\);]+)(\)|;)/.exec(n):fy?/Edge\/([\d\.]+)/.exec(n):Wu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):vb?/WebKit\/(\S+)/.exec(n):yb?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(_y&&(my=_y?_y[1]:""),Wu){var Ua=gy();if(null!=Ua&&Ua>parseFloat(my)){as=String(Ua);break e}}as=my}var mP={};var bb=Jt.document&&Wu&&(gy()||parseInt(as,10))||void 0;function jp(n,e){if(gi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(py){e:{try{Bp(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Ut[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&jp.X.h.call(this)}}ri(jp,gi);var Ut={2:"touch",3:"pen",4:"mouse"};jp.prototype.h=function(){jp.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var gh="closure_listenable_"+(1e6*Math.random()|0),ST=0;function RT(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=i,this.key=++ST,this.ba=this.ea=!1}function Ku(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function Cy(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function mh(n){const e={};for(const t in n)e[t]=n[t];return e}const _h="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function mr(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let u=0;u<_h.length;u++)t=_h[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function by(n){this.src=n,this.g={},this.h=0}function Gp(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],i=pb(r,e);(u=0<=i)&&Array.prototype.splice.call(r,i,1),u&&(Ku(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function wy(n,e,t,r){for(var i=0;i<n.length;++i){var u=n[i];if(!u.ba&&u.listener==e&&u.capture==!!t&&u.ha==r)return i}return-1}by.prototype.add=function(n,e,t,r,i){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var d=wy(n,e,r,i);return-1<d?(e=n[d],t||(e.ea=!1)):((e=new RT(e,this.src,u,!!r,i)).ea=t,n.push(e)),e};var Ey="closure_lm_"+(1e6*Math.random()|0),Hp={};function Iy(n,e,t,r,i){if(r&&r.once)return Eb(n,e,t,r,i);if(Array.isArray(e)){for(var u=0;u<e.length;u++)Iy(n,e[u],t,r,i);return null}return t=mc(t),n&&n[gh]?n.N(e,t,pc(r)?!!r.capture:!!r,i):Ty(n,e,t,!1,r,i)}function Ty(n,e,t,r,i,u){if(!e)throw Error("Invalid event type");var d=pc(i)?!!i.capture:!!i,g=My(n);if(g||(n[Ey]=g=new by(n)),(t=g.add(e,t,r,d,u)).proxy)return t;if(r=function wb(){const e=NT;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)xT||(i=d),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(gc(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function Eb(n,e,t,r,i){if(Array.isArray(e)){for(var u=0;u<e.length;u++)Eb(n,e[u],t,r,i);return null}return t=mc(t),n&&n[gh]?n.O(e,t,pc(r)?!!r.capture:!!r,i):Ty(n,e,t,!0,r,i)}function Ib(n,e,t,r,i){if(Array.isArray(e))for(var u=0;u<e.length;u++)Ib(n,e[u],t,r,i);else r=pc(r)?!!r.capture:!!r,t=mc(t),n&&n[gh]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=wy(u=n.g[e],t,r,i))&&(Ku(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=My(n))&&(e=n.g[e.toString()],n=-1,e&&(n=wy(e,t,r,i)),(t=-1<n?e[n]:null)&&Dy(t))}function Dy(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[gh])Gp(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(gc(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=My(e))?(Gp(t,n),0==t.h&&(t.src=null,e[Ey]=null)):Ku(n)}}}function gc(n){return n in Hp?Hp[n]:Hp[n]="on"+n}function NT(n,e){if(n.ba)n=!0;else{e=new jp(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&Dy(n),n=t.call(r,e)}return n}function My(n){return(n=n[Ey])instanceof by?n:null}var Oy="__closure_events_fn_"+(1e9*Math.random()>>>0);function mc(n){return"function"==typeof n?n:(n[Oy]||(n[Oy]=function(e){return n.handleEvent(e)}),n[Oy])}function jr(){Va.call(this),this.i=new by(this),this.P=this,this.I=null}function Kr(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new gi(e,n);else if(e instanceof gi)e.target=e.target||n;else{var i=e;mr(e=new gi(r,n),i)}if(i=!0,t)for(var u=t.length-1;0<=u;u--){var d=e.g=t[u];i=yh(d,r,!0,e)&&i}if(i=yh(d=e.g=n,r,!0,e)&&i,i=yh(d,r,!1,e)&&i,t)for(u=0;u<t.length;u++)i=yh(d=e.g=t[u],r,!1,e)&&i}function yh(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,u=0;u<e.length;++u){var d=e[u];if(d&&!d.ba&&d.capture==t){var g=d.listener,y=d.ha||d.src;d.ea&&Gp(n.i,d),i=!1!==g.call(y,r)&&i}}return i&&!r.defaultPrevented}ri(jr,Va),jr.prototype[gh]=!0,jr.prototype.removeEventListener=function(n,e,t,r){Ib(this,n,e,t,r)},jr.prototype.M=function(){if(jr.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Ku(t[r]);delete n.g[e],n.h--}}this.I=null},jr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},jr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Py=Jt.JSON.stringify;function vh(){var n=Sy;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var zp,Tb=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new kT,n=>n.reset());class kT{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function FT(n){Jt.setTimeout(()=>{throw n},0)}function Ay(n,e){zp||function Db(){var n=Jt.Promise.resolve(void 0);zp=function(){n.then(LT)}}(),xy||(zp(),xy=!0),Sy.add(n,e)}var xy=!1,Sy=new class Ch{constructor(){this.h=this.g=null}add(e,t){const r=Tb.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function LT(){for(var n;n=vh();){try{n.h.call(n.g)}catch(t){FT(t)}var e=Tb;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}xy=!1}function qp(n,e){jr.call(this),this.h=n||1,this.g=e||Jt,this.j=pi(this.kb,this),this.l=Date.now()}function Mb(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function Ob(n,e,t){if("function"==typeof n)t&&(n=pi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=pi(n.handleEvent,n)}return 2147483647<Number(e)?-1:Jt.setTimeout(n,e||0)}function VT(n){n.g=Ob(()=>{n.g=null,n.i&&(n.i=!1,VT(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}ri(qp,jr),(Tt=qp.prototype).ca=!1,Tt.R=null,Tt.kb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Kr(this,"tick"),this.ca&&(Mb(this),this.start()))}},Tt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Tt.M=function(){qp.X.M.call(this),Mb(this),delete this.g};class _P extends Va{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:VT(this)}M(){super.M(),this.g&&(Jt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _c(n){Va.call(this),this.h=n,this.g={}}ri(_c,Va);var bh=[];function Pb(n,e,t,r){Array.isArray(t)||(t&&(bh[0]=t.toString()),t=bh);for(var i=0;i<t.length;i++){var u=Iy(e,t[i],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function Ab(n){Cy(n.g,function(e,t){this.g.hasOwnProperty(t)&&Dy(e)},n),n.g={}}function wh(){this.g=!0}function yc(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function $T(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var u=i[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var d=1;d<i.length;d++)i[d]=""}}}return Py(t)}catch{return e}}(n,t)+(r?" "+r:"")})}_c.prototype.M=function(){_c.X.M.call(this),Ab(this)},_c.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},wh.prototype.Aa=function(){this.g=!1},wh.prototype.info=function(){};var Yu={},Ry=null;function Zp(){return Ry=Ry||new jr}function xb(n){gi.call(this,Yu.Oa,n)}function us(n){const e=Zp();Kr(e,new xb(e,n))}function Sb(n,e){gi.call(this,Yu.STAT_EVENT,n),this.stat=e}function mi(n){const e=Zp();Kr(e,new Sb(e,n))}function Rb(n,e){gi.call(this,Yu.Pa,n),this.size=e}function vc(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Jt.setTimeout(function(){n()},e)}Yu.Oa="serverreachability",ri(xb,gi),Yu.STAT_EVENT="statevent",ri(Sb,gi),Yu.Pa="timingevent",ri(Rb,gi);var Wp={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,La:7,TIMEOUT:8,Cb:9},Ny={qb:"complete",Mb:"success",Ma:"error",La:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ky(){}function Nb(){}ky.prototype.h=null;var Ly,Cc={OPEN:"a",pb:"b",Ma:"c",Bb:"d"};function Yp(){gi.call(this,"d")}function Fy(){gi.call(this,"c")}function Qp(){}function Qu(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new _c(this),this.O=Fb,this.T=new qp(n=$p?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new kb}function kb(){this.i=null,this.g="",this.h=!1}ri(Yp,gi),ri(Fy,gi),ri(Qp,ky),Qp.prototype.g=function(){return new XMLHttpRequest},Qp.prototype.i=function(){return{}},Ly=new Qp;var Fb=45e3,Vy={},Jp={};function Uy(n,e,t){n.K=1,n.v=Dh(ko(e)),n.s=t,n.P=!0,Lb(n,null)}function Lb(n,e){n.F=Date.now(),Ih(n),n.A=ko(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),jy(t.i,"t",r),n.C=0,t=n.l.H,n.h=new kb,n.g=Lo(n.l,t?e:null,!n.s),0<n.N&&(n.L=new _P(pi(n.Ka,n,n.g),n.N)),Pb(n.S,n.g,"readystatechange",n.hb),e=n.H?mh(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),us(1),function Eh(n,e,t,r,i,u){n.info(function(){if(n.g)if(u)for(var d="",g=u.split("&"),y=0;y<g.length;y++){var w=g[y].split("=");if(1<w.length){var T=w[0];w=w[1];var O=T.split("_");d=2<=O.length&&"type"==O[1]?d+(T+"=")+w+"&":d+(T+"=redacted&")}}else d=null;else d=u;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+d})}(n.j,n.u,n.A,n.m,n.U,n.s)}function Vb(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function Ub(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=jT(n,t),i==Jp){4==e&&(n.o=4,mi(14),r=!1),yc(n.j,n.m,null,"[Incomplete Response]");break}if(i==Vy){n.o=4,mi(15),yc(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}yc(n.j,n.m,i,null),Th(n,i)}Vb(n)&&i!=Jp&&i!=Vy&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,mi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),lg(e),e.K=!0,mi(11))):(yc(n.j,n.m,t,"[Invalid Chunked Response]"),Ju(n),wc(n))}function jT(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Jp:(t=Number(e.substring(t,r)),isNaN(t)?Vy:(r+=1)+t>e.length?Jp:(e=e.substr(r,t),n.C=r+t,e))}function Ih(n){n.V=Date.now()+n.O,Xp(n,n.O)}function Xp(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=vc(pi(n.fb,n),e)}function bc(n){n.B&&(Jt.clearTimeout(n.B),n.B=null)}function wc(n){0==n.l.G||n.I||Xb(n.l,n)}function Ju(n){bc(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Mb(n.T),Ab(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Th(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Tc(t.h,n)))if(!n.J&&Tc(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(t.u)t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&0==t.A&&!t.v&&(t.v=vc(pi(t.bb,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;cg(t),ug(t)}tv(t),mi(18)}if(1>=ig(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else Fo(t,11)}else if((n.J||t.g==n)&&cg(t),!Up(e))for(i=t.Fa.g.parse(e),e=0;e<i.length;e++){let w=i[e];if(t.T=w[0],w=w[1],2==t.G)if("c"==w[0]){t.I=w[1],t.ka=w[2];const T=w[3];null!=T&&(t.ma=T,t.j.info("VER="+t.ma));const O=w[4];null!=O&&(t.Ca=O,t.j.info("SVER="+t.Ca));const V=w[5];null!=V&&"number"==typeof V&&0<V&&(t.J=r=1.5*V,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const B=n.g;if(B){const X=B.g?B.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(X){var u=r.h;u.g||-1==X.indexOf("spdy")&&-1==X.indexOf("quic")&&-1==X.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(Xu(u,u.h),u.h=null))}if(r.D){const Se=B.g?B.g.getResponseHeader("X-HTTP-Session-Id"):null;Se&&(r.za=Se,or(r.F,r.D,Se))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var d=n;if((r=t).sa=dg(r,r.H?r.ka:null,r.V),d.J){qb(r.h,d);var g=d,y=r.J;y&&g.setTimeout(y),g.B&&(bc(g),Ih(g)),r.g=d}else ev(r);0<t.i.length&&xh(t)}else"stop"!=w[0]&&"close"!=w[0]||Fo(t,7);else 3==t.G&&("stop"==w[0]||"close"==w[0]?"stop"==w[0]?Fo(t,7):Qy(t):"noop"!=w[0]&&t.l&&t.l.wa(w),t.A=0)}us(4)}catch{}}function jb(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(fh(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function $b(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(fh(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function Bb(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(fh(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,u=0;u<i;u++)e.call(void 0,r[u],t&&t[u],n)}(Tt=Qu.prototype).setTimeout=function(n){this.O=n},Tt.hb=function(n){n=n.target;const e=this.L;e&&3==zs(n)?e.l():this.Ka(n)},Tt.Ka=function(n){try{if(n==this.g)e:{const T=zs(this.g);var e=this.g.Ea();const O=this.g.aa();if(!(3>T)&&(3!=T||$p||this.g&&(this.h.h||this.g.fa()||Kb(this.g)))){this.I||4!=T||7==e||us(8==e||0>=O?3:2),bc(this);var t=this.g.aa();this.Y=t;t:if(Vb(this)){var r=Kb(this.g);n="";var i=r.length,u=4==zs(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ju(this),wc(this);var d="";break t}this.h.i=new Jt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.fa();if(this.i=200==t,function UT(n,e,t,r,i,u,d){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+u+" "+d})}(this.j,this.u,this.A,this.m,this.U,T,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var g,y=this.g;if((g=y.g?y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Up(g)){var w=g;break t}}w=null}if(!(t=w)){this.i=!1,this.o=3,mi(12),Ju(this),wc(this);break e}yc(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Th(this,t)}this.P?(Ub(this,T,d),$p&&this.i&&3==T&&(Pb(this.S,this.T,"tick",this.gb),this.T.start())):(yc(this.j,this.m,d,null),Th(this,d)),4==T&&Ju(this),this.i&&!this.I&&(4==T?Xb(this.l,this):(this.i=!1,Ih(this)))}else 400==t&&0<d.indexOf("Unknown SID")?(this.o=3,mi(12)):(this.o=0,mi(13)),Ju(this),wc(this)}}}catch{}},Tt.gb=function(){if(this.g){var n=zs(this.g),e=this.g.fa();this.C<e.length&&(bc(this),Ub(this,n,e),this.i&&4!=n&&Ih(this))}},Tt.cancel=function(){this.I=!0,Ju(this)},Tt.fb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function BT(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(us(3),mi(17)),Ju(this),this.o=2,wc(this)):Xp(this,this.V-n)};var eg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ba(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Ba){this.h=void 0!==e?e:n.h,tg(this,n.j),this.s=n.s,this.g=n.g,ng(this,n.m),this.l=n.l,e=n.i;var t=new ls;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),rg(this,t),this.o=n.o}else n&&(t=String(n).match(eg))?(this.h=!!e,tg(this,t[1]||"",!0),this.s=Mh(t[2]||""),this.g=Mh(t[3]||"",!0),ng(this,t[4]),this.l=Mh(t[5]||"",!0),rg(this,t[6]||"",!0),this.o=Mh(t[7]||"")):(this.h=!!e,this.i=new ls(null,this.h))}function ko(n){return new Ba(n)}function tg(n,e,t){n.j=t?Mh(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function ng(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function rg(n,e,t){e instanceof ls?(n.i=e,function ZT(n,e){e&&!n.j&&(go(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(Gb(this,r),jy(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Ec(e,Oh)),n.i=new ls(e,n.h))}function or(n,e,t){n.i.set(e,t)}function Dh(n){return or(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Mh(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Ec(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,GT),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function GT(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Ba.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Ec(e,$y,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Ec(e,$y,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Ec(t,"/"==t.charAt(0)?HT:yP,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Ec(t,zT)),n.join("")};var $y=/[#\/\?@]/g,yP=/[#\?:]/g,HT=/[#\?]/g,Oh=/[#\?@]/g,zT=/#/g;function ls(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function go(n){n.g||(n.g=new Map,n.h=0,n.i&&function By(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var u=n[t].substring(0,r);i=n[t].substring(r+1)}else u=n[t];e(u,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Gb(n,e){go(n),e=Ic(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function qT(n,e){return go(n),e=Ic(n,e),n.g.has(e)}function jy(n,e,t){Gb(n,e),0<t.length&&(n.i=null,n.g.set(Ic(n,e),dy(t)),n.h+=t.length)}function Ic(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Hb(n){this.l=n||zb,n=Jt.PerformanceNavigationTiming?0<(n=Jt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Jt.g&&Jt.g.Ga&&Jt.g.Ga()&&Jt.g.Ga().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Tt=ls.prototype).add=function(n,e){go(this),this.i=null,n=Ic(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Tt.forEach=function(n,e){go(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},Tt.oa=function(){go(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let u=0;u<i.length;u++)t.push(e[r])}return t},Tt.W=function(n){go(this);let e=[];if("string"==typeof n)qT(this,n)&&(e=e.concat(this.g.get(Ic(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Tt.set=function(n,e){return go(this),this.i=null,qT(this,n=Ic(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Tt.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},Tt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const u=encodeURIComponent(String(r)),d=this.W(r);for(r=0;r<d.length;r++){var i=u;""!==d[r]&&(i+="="+encodeURIComponent(String(d[r]))),n.push(i)}}return this.i=n.join("&")};var zb=10;function Gy(n){return!!n.h||!!n.g&&n.g.size>=n.j}function ig(n){return n.h?1:n.g?n.g.size:0}function Tc(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Xu(n,e){n.g?n.g.add(e):n.h=e}function qb(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Hy(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return dy(n.i)}function og(){}function KT(){this.g=new og}function YT(n,e,t){const r=t||"";try{jb(n,function(i,u){let d=i;pc(i)&&(d=Py(i)),e.push(r+u+"="+encodeURIComponent(d))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Dc(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Ph(n){this.l=n.$b||null,this.j=n.ib||!1}function zy(n,e){jr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=qy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Hb.prototype.cancel=function(){if(this.i=Hy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},og.prototype.stringify=function(n){return Jt.JSON.stringify(n,void 0)},og.prototype.parse=function(n){return Jt.JSON.parse(n,void 0)},ri(Ph,ky),Ph.prototype.g=function(){return new zy(this.l,this.j)},Ph.prototype.i=function(n){return function(){return n}}({}),ri(zy,jr);var qy=0;function Zb(n){n.j.read().then(n.Sa.bind(n)).catch(n.ga.bind(n))}function cs(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Mc(n)}function Mc(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Tt=zy.prototype).open=function(n,e){if(this.readyState!=qy)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Mc(this)},Tt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Jt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ga.bind(this))},Tt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,cs(this)),this.readyState=qy},Tt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Mc(this)),this.g&&(this.readyState=3,Mc(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ga.bind(this));else if(typeof Jt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Zb(this)}else n.text().then(this.Ua.bind(this),this.ga.bind(this))},Tt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?cs(this):Mc(this),3==this.readyState&&Zb(this)}},Tt.Ua=function(n){this.g&&(this.response=this.responseText=n,cs(this))},Tt.Ta=function(n){this.g&&(this.response=n,cs(this))},Tt.ga=function(){this.g&&cs(this)},Tt.setRequestHeader=function(n,e){this.v.append(n,e)},Tt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Tt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(zy.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Oc=Jt.JSON.parse;function Gr(n){jr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Zy,this.K=this.L=!1}ri(Gr,jr);var Zy="",JT=/^https?$/i,vP=["POST","PUT"];function XT(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Wy(n),ag(n)}function Wy(n){n.D||(n.D=!0,Kr(n,"complete"),Kr(n,"error"))}function sg(n){if(n.h&&typeof Lp<"u"&&(!n.C[1]||4!=zs(n)||2!=n.aa()))if(n.v&&4==zs(n))Ob(n.Ha,0,n);else if(Kr(n,"readystatechange"),4==zs(n)){n.h=!1;try{const g=n.aa();e:switch(g){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===g){var i=String(n.H).match(eg)[1]||null;if(!i&&Jt.self&&Jt.self.location){var u=Jt.self.location.protocol;i=u.substr(0,u.length-1)}r=!JT.test(i?i.toLowerCase():"")}t=r}if(t)Kr(n,"complete"),Kr(n,"success");else{n.m=6;try{var d=2<zs(n)?n.g.statusText:""}catch{d=""}n.j=d+" ["+n.aa()+"]",Wy(n)}}finally{ag(n)}}}function ag(n,e){if(n.g){Ky(n);const t=n.g,r=n.C[0]?hh:null;n.g=null,n.C=null,e||Kr(n,"ready");try{t.onreadystatechange=r}catch{}}}function Ky(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Jt.clearTimeout(n.A),n.A=null)}function zs(n){return n.g?n.g.readyState:0}function Kb(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case Zy:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function Yb(n){let e="";return Cy(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function Yy(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=Yb(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):or(n,e,t))}function Ah(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Qb(n){this.Ca=0,this.i=[],this.j=new wh,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.$a=this.U=0,this.Ya=Ah("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Wa=Ah("baseRetryDelayMs",5e3,n),this.ab=Ah("retryDelaySeedMs",1e4,n),this.Za=Ah("forwardChannelMaxRetries",2,n),this.ta=Ah("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Yb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new Hb(n&&n.concurrentRequestLimit),this.Fa=new KT,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Xa=n&&n.Wb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Qy(n){if(Pc(n),3==n.G){var e=n.U++,t=ko(n.F);or(t,"SID",n.I),or(t,"RID",e),or(t,"TYPE","terminate"),Ac(n,t),(e=new Qu(n,n.j,e,void 0)).K=2,e.v=Dh(ko(t)),t=!1,Jt.navigator&&Jt.navigator.sendBeacon&&(t=Jt.navigator.sendBeacon(e.v.toString(),"")),!t&&Jt.Image&&((new Image).src=e.v,t=!0),t||(e.g=Lo(e.l,null),e.g.da(e.v)),e.F=Date.now(),Ih(e)}tw(n)}function ug(n){n.g&&(lg(n),n.g.cancel(),n.g=null)}function Pc(n){ug(n),n.u&&(Jt.clearTimeout(n.u),n.u=null),cg(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Jt.clearTimeout(n.m),n.m=null)}function xh(n){Gy(n.h)||n.m||(n.m=!0,Ay(n.Ja,n),n.C=0)}function Jy(n,e){var t;t=e?e.m:n.U++;const r=ko(n.F);or(r,"SID",n.I),or(r,"RID",t),or(r,"AID",n.T),Ac(n,r),n.o&&n.s&&Yy(r,n.o,n.s),t=new Qu(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=Xy(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),Xu(n.h,t),Uy(t,r,e)}function Ac(n,e){n.ia&&Cy(n.ia,function(t,r){or(e,r,t)}),n.l&&jb({},function(t,r){or(e,r,t)})}function Xy(n,e,t){t=Math.min(n.i.length,t);var r=n.l?pi(n.l.Qa,n.l,n):null;e:{var i=n.i;let u=-1;for(;;){const d=["count="+t];-1==u?0<t?(u=i[0].h,d.push("ofs="+u)):u=0:d.push("ofs="+u);let g=!0;for(let y=0;y<t;y++){let w=i[y].h;const T=i[y].g;if(w-=u,0>w)u=Math.max(0,i[y].h-100),g=!1;else try{YT(T,d,"req"+w+"_")}catch{r&&r(T)}}if(g){r=d.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function ev(n){n.g||n.u||(n.Z=1,Ay(n.Ia,n),n.A=0)}function tv(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=vc(pi(n.Ia,n),ew(n,n.A)),n.A++,0))}function lg(n){null!=n.B&&(Jt.clearTimeout(n.B),n.B=null)}function nv(n){n.g=new Qu(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=ko(n.sa);or(e,"RID","rpc"),or(e,"SID",n.I),or(e,"CI",n.L?"0":"1"),or(e,"AID",n.T),or(e,"TYPE","xmlhttp"),Ac(n,e),n.o&&n.s&&Yy(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=Dh(ko(e)),t.s=null,t.P=!0,Lb(t,n)}function cg(n){null!=n.v&&(Jt.clearTimeout(n.v),n.v=null)}function Xb(n,e){var t=null;if(n.g==e){cg(n),lg(n),n.g=null;var r=2}else{if(!Tc(n.h,e))return;t=e.D,qb(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Kr(r=Zp(),new Rb(r,t,e,i)),xh(n)}else ev(n);else if(3==(i=e.o)||0==i&&0<n.pa||!(1==r&&function Jb(n,e){return!(ig(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Ya?0:n.Za)||(n.m=vc(pi(n.Ja,n,e),ew(n,n.C)),n.C++,0)))}(n,e)||2==r&&tv(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:Fo(n,5);break;case 4:Fo(n,10);break;case 3:Fo(n,6);break;default:Fo(n,2)}}function ew(n,e){let t=n.Wa+Math.floor(Math.random()*n.ab);return n.l||(t*=2),t*e}function Fo(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=pi(n.jb,n);t||(t=new Ba("//www.google.com/images/cleardot.gif"),Jt.location&&"http"==Jt.location.protocol||tg(t,"https"),Dh(t)),function QT(n,e){const t=new wh;if(Jt.Image){const r=new Image;r.onload=Vp(Dc,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Vp(Dc,t,r,"TestLoadImage: error",!1,e),r.onabort=Vp(Dc,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Vp(Dc,t,r,"TestLoadImage: timeout",!1,e),Jt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else mi(2);n.G=0,n.l&&n.l.va(e),tw(n),Pc(n)}function tw(n){if(n.G=0,n.la=[],n.l){const e=Hy(n.h);(0!=e.length||0!=n.i.length)&&(gb(n.la,e),gb(n.la,n.i),n.h.i.length=0,dy(n.i),n.i.length=0),n.l.ua()}}function dg(n,e,t){var r=t instanceof Ba?ko(t):new Ba(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),ng(r,r.m);else{var i=Jt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var u=new Ba(null,void 0);r&&tg(u,r),e&&(u.g=e),i&&ng(u,i),t&&(u.l=t),r=u}return e=n.za,(t=n.D)&&e&&or(r,t,e),or(r,"VER",n.ma),Ac(n,r),r}function Lo(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Gr(t&&n.Da&&!n.ra?new Ph({ib:!0}):n.ra)).L=n.H,e}function nw(){}function xc(){if(Wu&&!(10<=Number(bb)))throw Error("Environmental error: no available transport.")}function ii(n,e){jr.call(this),this.g=new Qb(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Xb)&&!Up(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Up(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Sc(this)}function rw(n){Yp.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function iw(){Fy.call(this),this.status=1}function Sc(n){this.g=n}(Tt=Gr.prototype).da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ly.g(),this.C=function Kp(n){return n.h||(n.h=n.i())}(this.u?this.u:Ly),this.g.onreadystatechange=pi(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(u){return void XT(this,u)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const u of r.keys())t.set(u,r.get(u))}r=Array.from(t.keys()).find(u=>"content-type"==u.toLowerCase()),i=Jt.FormData&&n instanceof Jt.FormData,!(0<=pb(vP,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,d]of t)this.g.setRequestHeader(u,d);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Ky(this),0<this.B&&((this.K=function Wb(n){return Wu&&function yy(){return function _b(n){var e=mP;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=mb(String(as)).split("."),t=mb("9").split("."),r=Math.max(e.length,t.length);for(let d=0;0==n&&d<r;d++){var i=e[d]||"",u=t[d]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==i[0].length&&0==u[0].length)break;n=hy(0==i[1].length?0:parseInt(i[1],10),0==u[1].length?0:parseInt(u[1],10))||hy(0==i[2].length,0==u[2].length)||hy(i[2],u[2]),i=i[3],u=u[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=pi(this.qa,this)):this.A=Ob(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){XT(this,u)}},Tt.qa=function(){typeof Lp<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Kr(this,"timeout"),this.abort(8))},Tt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Kr(this,"complete"),Kr(this,"abort"),ag(this))},Tt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ag(this,!0)),Gr.X.M.call(this)},Tt.Ha=function(){this.s||(this.F||this.v||this.l?sg(this):this.eb())},Tt.eb=function(){sg(this)},Tt.aa=function(){try{return 2<zs(this)?this.g.status:-1}catch{return-1}},Tt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},Tt.Ra=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Oc(e)}},Tt.Ea=function(){return this.m},Tt.Na=function(){return"string"==typeof this.j?this.j:String(this.j)},(Tt=Qb.prototype).ma=8,Tt.G=1,Tt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new Qu(this,this.j,n,void 0);let u=this.s;if(this.S&&(u?(u=mh(u),mr(u,this.S)):u=this.S),null!==this.o||this.N||(i.H=u,u=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Xy(this,i,e),or(t=ko(this.F),"RID",n),or(t,"CVER",22),this.D&&or(t,"X-HTTP-Session-Id",this.D),Ac(this,t),u&&(this.N?e="headers="+encodeURIComponent(String(Yb(u)))+"&"+e:this.o&&Yy(t,this.o,u)),Xu(this.h,i),this.Xa&&or(t,"TYPE","init"),this.O?(or(t,"$req",e),or(t,"SID","null"),i.Z=!0,Uy(i,t,null)):Uy(i,t,e),this.G=2}}else 3==this.G&&(n?Jy(this,n):0==this.i.length||Gy(this.h)||Jy(this))},Tt.Ia=function(){if(this.u=null,nv(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=vc(pi(this.cb,this),n)}},Tt.cb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,mi(10),ug(this),nv(this))},Tt.bb=function(){null!=this.v&&(this.v=null,ug(this),tv(this),mi(19))},Tt.jb=function(n){n?(this.j.info("Successfully pinged google.com"),mi(2)):(this.j.info("Failed to ping google.com"),mi(1))},(Tt=nw.prototype).xa=function(){},Tt.wa=function(){},Tt.va=function(){},Tt.ua=function(){},Tt.Qa=function(){},xc.prototype.g=function(n,e){return new ii(n,e)},ri(ii,jr),ii.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;mi(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=dg(n,null,n.V),xh(n)},ii.prototype.close=function(){Qy(this.g)},ii.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Py(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.$a++,n)),3==e.G&&xh(e)},ii.prototype.M=function(){this.g.l=null,delete this.j,Qy(this.g),delete this.g,ii.X.M.call(this)},ri(rw,Yp),ri(iw,Fy),ri(Sc,nw),Sc.prototype.xa=function(){Kr(this.g,"a")},Sc.prototype.wa=function(n){Kr(this.g,new rw(n))},Sc.prototype.va=function(n){Kr(this.g,new iw(n))},Sc.prototype.ua=function(){Kr(this.g,"b")},xc.prototype.createWebChannel=xc.prototype.g,ii.prototype.send=ii.prototype.u,ii.prototype.open=ii.prototype.m,ii.prototype.close=ii.prototype.close,Wp.NO_ERROR=0,Wp.TIMEOUT=8,Wp.HTTP_ERROR=6,Ny.COMPLETE="complete",Nb.EventType=Cc,Cc.OPEN="a",Cc.CLOSE="b",Cc.ERROR="c",Cc.MESSAGE="d",jr.prototype.listen=jr.prototype.N,Gr.prototype.listenOnce=Gr.prototype.O,Gr.prototype.getLastError=Gr.prototype.Na,Gr.prototype.getLastErrorCode=Gr.prototype.Ea,Gr.prototype.getStatus=Gr.prototype.aa,Gr.prototype.getResponseJson=Gr.prototype.Ra,Gr.prototype.getResponseText=Gr.prototype.fa,Gr.prototype.send=Gr.prototype.da;var hg=Ro.createWebChannelTransport=function(){return new xc},fg=Ro.getStatEventTarget=function(){return Zp()},rv=Ro.ErrorCode=Wp,eD=Ro.EventType=Ny,ow=Ro.Event=Yu,iv=Ro.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},ov=Ro.FetchXmlHttpFactory=Ph,Sh=Ro.WebChannel=Nb,tD=Ro.XhrIo=Gr;const sw="@firebase/firestore";class oi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}oi.UNAUTHENTICATED=new oi(null),oi.GOOGLE_CREDENTIALS=new oi("google-credentials-uid"),oi.FIRST_PARTY=new oi("first-party-uid"),oi.MOCK_USER=new oi("mock-user");let $a="9.10.0";const ds=new Na.Yd("@firebase/firestore");function pg(){return ds.logLevel}function ze(n,...e){if(ds.logLevel<=Na.in.DEBUG){const t=e.map(av);ds.debug(`Firestore (${$a}): ${n}`,...t)}}function Mr(n,...e){if(ds.logLevel<=Na.in.ERROR){const t=e.map(av);ds.error(`Firestore (${$a}): ${n}`,...t)}}function el(n,...e){if(ds.logLevel<=Na.in.WARN){const t=e.map(av);ds.warn(`Firestore (${$a}): ${n}`,...t)}}function av(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Et(n="Unexpected state"){const e=`FIRESTORE (${$a}) INTERNAL ASSERTION FAILED: `+n;throw Mr(e),new Error(e)}function Zt(n,e){n||Et()}function dt(n,e){return n}const ye={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $e extends Qt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Hr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class aw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class uw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(oi.UNAUTHENTICATED))}shutdown(){}}class lw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class nD{constructor(e){this.t=e,this.currentUser=oi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const u=w=>this.i!==i?(i=this.i,t(w)):Promise.resolve();let d=new Hr;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new Hr,e.enqueueRetryable(()=>u(this.currentUser))};const g=()=>{const w=d;e.enqueueRetryable((0,ve.Z)(function*(){yield w.promise,yield u(r.currentUser)}))},y=w=>{ze("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.auth.addAuthTokenListener(this.o),g()};this.t.onInit(w=>y(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?y(w):(ze("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new Hr)}},0),g()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ze("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Zt("string"==typeof r.accessToken),new aw(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Zt(null===e||"string"==typeof e),new oi(e)}}class cw{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i,this.type="FirstParty",this.user=oi.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Zt(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class rD{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i}getToken(){return Promise.resolve(new cw(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(oi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class _i{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Rc{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=u=>{null!=u.error&&ze("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.A;return this.A=u.token,ze("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const i=u=>{ze("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.T.onInit(u=>i(u)),setTimeout(()=>{if(!this.appCheck){const u=this.T.getImmediate({optional:!0});u?i(u):ze("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Zt("string"==typeof t.token),this.A=t.token,new _i(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function iD(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class oD{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=iD(40);for(let u=0;u<i.length;++u)r.length<20&&i[u]<t&&(r+=e.charAt(i[u]%e.length))}return r}}function Wt(n,e){return n<e?-1:n>e?1:0}function Nc(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function gg(n){return n+"\0"}class sr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new $e(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new $e(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new $e(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $e(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return sr.fromMillis(Date.now())}static fromDate(e){return sr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new sr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Wt(this.nanoseconds,e.nanoseconds):Wt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class $t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new $t(e)}static min(){return new $t(new sr(0,0))}static max(){return new $t(new sr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Rh{constructor(e,t,r){void 0===t?t=0:t>e.length&&Et(),void 0===r?r=e.length-t:r>e.length-t&&Et(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Rh.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Rh?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const u=e.get(i),d=t.get(i);if(u<d)return-1;if(u>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class En extends Rh{construct(e,t,r){return new En(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new $e(ye.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new En(t)}static emptyPath(){return new En([])}}const lv=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _r extends Rh{construct(e,t,r){return new _r(e,t,r)}static isValidIdentifier(e){return lv.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_r.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new _r(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const u=()=>{if(0===r.length)throw new $e(ye.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;i<e.length;){const g=e[i];if("\\"===g){if(i+1===e.length)throw new $e(ye.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[i+1];if("\\"!==y&&"."!==y&&"`"!==y)throw new $e(ye.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,i+=2}else"`"===g?(d=!d,i++):"."!==g||d?(r+=g,i++):(u(),i++)}if(u(),d)throw new $e(ye.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _r(t)}static emptyPath(){return new _r([])}}class lt{constructor(e){this.path=e}static fromPath(e){return new lt(En.fromString(e))}static fromName(e){return new lt(En.fromString(e).popFirst(5))}static empty(){return new lt(En.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===En.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return En.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new lt(new En(e.slice()))}}class tl{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function Nh(n){return n.fields.find(e=>2===e.kind)}function kc(n){return n.fields.filter(e=>2!==e.kind)}tl.UNKNOWN_ID=-1;class mg{constructor(e,t){this.fieldPath=e,this.kind=t}}class ja{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new ja(0,Oi.min())}}function cv(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=$t.fromTimestamp(1e9===r?new sr(t+1,0):new sr(t,r));return new Oi(i,lt.empty(),e)}function fw(n){return new Oi(n.readTime,n.key,-1)}class Oi{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Oi($t.min(),lt.empty(),-1)}static max(){return new Oi($t.max(),lt.empty(),-1)}}function kh(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=lt.comparator(n.documentKey,e.documentKey),0!==t?t:Wt(n.largestBatchId,e.largestBatchId))}const sD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ga(n){return _g.apply(this,arguments)}function _g(){return _g=(0,ve.Z)(function*(n){if(n.code!==ye.FAILED_PRECONDITION||n.message!==sD)throw n;ze("LocalStore","Unexpectedly lost primary lease")}),_g.apply(this,arguments)}class pe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Et(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new pe((r,i)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,i)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof pe?t:pe.resolve(t)}catch(t){return pe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):pe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):pe.reject(t)}static resolve(e){return new pe((t,r)=>{t(e)})}static reject(e){return new pe((t,r)=>{r(e)})}static waitFor(e){return new pe((t,r)=>{let i=0,u=0,d=!1;e.forEach(g=>{++i,g.next(()=>{++u,d&&u===i&&t()},y=>r(y))}),d=!0,u===i&&t()})}static or(e){let t=pe.resolve(!1);for(const r of e)t=t.next(i=>i?pe.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,u)=>{r.push(t.call(this,i,u))}),this.waitFor(r)}static mapArray(e,t){return new pe((r,i)=>{const u=e.length,d=new Array(u);let g=0;for(let y=0;y<u;y++){const w=y;t(e[w]).next(T=>{d[w]=T,++g,g===u&&r(d)},T=>i(T))}})}static doWhile(e,t){return new pe((r,i)=>{const u=()=>{!0===e()?t().next(()=>{u()},i):r()};u()})}}class yg{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new Hr,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new Fh(e,t.error)):this.P.resolve()},this.transaction.onerror=r=>{const i=vg(r.target.error);this.P.reject(new Fh(e,i))}}static open(e,t,r,i){try{return new yg(t,e.transaction(i,r))}catch(u){throw new Fh(t,u)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(ze("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new mw(t)}}class mo{constructor(e,t,r){this.name=e,this.version=t,this.S=r,12.2===mo.D((0,Qt.z$)())&&Mr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ze("SimpleDb","Removing database:",e),nl(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,Qt.hl)())return!1;if(mo.N())return!0;const e=(0,Qt.z$)(),t=mo.D(e),r=0<t&&t<10,i=mo.k(e),u=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.M)}static O(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}F(e){var t=this;return(0,ve.Z)(function*(){return t.db||(ze("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=d=>{r(d.target.result)},u.onblocked=()=>{i(new Fh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=d=>{const g=d.target.error;i("VersionError"===g.name?new $e(ye.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===g.name?new $e(ye.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+g):new Fh(e,g))},u.onupgradeneeded=d=>{ze("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.S.$(d.target.result,u.transaction,d.oldVersion,t.version).next(()=>{ze("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var u=this;return(0,ve.Z)(function*(){const d="readonly"===t;let g=0;for(;;){++g;try{u.db=yield u.F(e);const y=yg.open(u.db,e,d?"readonly":"readwrite",r),w=i(y).next(T=>(y.V(),T)).catch(T=>(y.abort(T),pe.reject(T))).toPromise();return w.catch(()=>{}),yield y.v,w}catch(y){const w=y,T="FirebaseError"!==w.name&&g<3;if(ze("SimpleDb","Transaction failed with error:",w.message,"Retrying:",T),u.close(),!T)return Promise.reject(w)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class gw{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return nl(this.U.delete())}}class Fh extends $e{constructor(e,t){super(ye.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Ha(n){return"IndexedDbTransactionError"===n.name}class mw{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(ze("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(ze("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),nl(r)}add(e){return ze("SimpleDb","ADD",this.store.name,e,e),nl(this.store.add(e))}get(e){return nl(this.store.get(e)).next(t=>(void 0===t&&(t=null),ze("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return ze("SimpleDb","DELETE",this.store.name,e),nl(this.store.delete(e))}count(){return ze("SimpleDb","COUNT",this.store.name),nl(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),u=[];return this.H(i,(d,g)=>{u.push(g)}).next(()=>u)}{const i=this.store.getAll(r.range);return new pe((u,d)=>{i.onerror=g=>{d(g.target.error)},i.onsuccess=g=>{u(g.target.result)}})}}J(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new pe((i,u)=>{r.onerror=d=>{u(d.target.error)},r.onsuccess=d=>{i(d.target.result)}})}Y(e,t){ze("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const i=this.cursor(r);return this.H(i,(u,d,g)=>g.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.H(i,t)}tt(e){const t=this.cursor({});return new pe((r,i)=>{t.onerror=u=>{const d=vg(u.target.error);i(d)},t.onsuccess=u=>{const d=u.target.result;d?e(d.primaryKey,d.value).next(g=>{g?d.continue():r()}):r()}})}H(e,t){const r=[];return new pe((i,u)=>{e.onerror=d=>{u(d.target.error)},e.onsuccess=d=>{const g=d.target.result;if(!g)return void i();const y=new gw(g),w=t(g.primaryKey,g.value,y);if(w instanceof pe){const T=w.catch(O=>(y.done(),pe.reject(O)));r.push(T)}y.isDone?i():null===y.G?g.continue():g.continue(y.G)}}).next(()=>pe.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function nl(n){return new pe((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=vg(r.target.error);t(i)}})}let dv=!1;function vg(n){const e=mo.D((0,Qt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new $e("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return dv||(dv=!0,setTimeout(()=>{throw r},0)),r}}return n}class _w{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;ze("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ve.Z)(function*(){t.task=null;try{ze("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(r){Ha(r)?ze("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Ga(r)}yield t.nt(6e4)}))}}class yw{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,ve.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.it(r,e))})()}it(e,t){const r=new Set;let i=t,u=!0;return pe.doWhile(()=>!0===u&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(d=>{if(null!==d&&!r.has(d))return ze("IndexBackiller",`Processing collection: ${d}`),this.rt(e,d,i).next(g=>{i-=g,r.add(d)});u=!1})).next(()=>t-i)}rt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(u=>{const d=u.changes;return this.localStore.indexManager.updateIndexEntries(e,d).next(()=>this.ot(i,u)).next(g=>(ze("IndexBackiller",`Updating offset: ${g}`),this.localStore.indexManager.updateCollectionGroup(e,t,g))).next(()=>d.size)}))}ot(e,t){let r=e;return t.changes.forEach((i,u)=>{const d=fw(u);kh(d,r)>0&&(r=d)}),new Oi(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}class ki{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>t.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function vw(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Fc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function hv(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}ki.at=-1;class Or{constructor(e,t){this.comparator=e,this.root=t||yi.EMPTY}insert(e,t){return new Or(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,yi.BLACK,null,null))}remove(e){return new Or(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fv(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fv(this.root,e,this.comparator,!1)}getReverseIterator(){return new fv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fv(this.root,e,this.comparator,!0)}}class fv{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&i&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class yi{constructor(e,t,r,i,u){this.key=e,this.value=t,this.color=r??yi.RED,this.left=i??yi.EMPTY,this.right=u??yi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,u){return new yi(e??this.key,t??this.value,r??this.color,i??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const u=r(e,i.key);return i=u<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===u?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return yi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return yi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,yi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,yi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Et();const e=this.left.check();if(e!==this.right.check())throw Et();return e+(this.isRed()?0:1)}}yi.EMPTY=null,yi.RED=!0,yi.BLACK=!1,yi.EMPTY=new class{constructor(){this.size=0}get key(){throw Et()}get value(){throw Et()}get color(){throw Et()}get left(){throw Et()}get right(){throw Et()}copy(n,e,t,r,i){return this}insert(n,e,t){return new yi(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class jn{constructor(e){this.comparator=e,this.data=new Or(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new aD(this.data.getIterator())}getIteratorFrom(e){return new aD(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof jn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(i,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new jn(this.comparator);return t.data=e,t}}class aD{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Lh(n){return n.hasNext()?n.getNext():void 0}class _o{constructor(e){this.fields=e,e.sort(_r.comparator)}static empty(){return new _o([])}unionWith(e){let t=new jn(_r.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new _o(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Nc(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Ir{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Ir(t)}static fromUint8Array(e){const t=function(r){let i="";for(let u=0;u<r.length;++u)i+=String.fromCharCode(r[u]);return i}(e);return new Ir(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Wt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ir.EMPTY_BYTE_STRING=new Ir("");const wP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hs(n){if(Zt(!!n),"string"==typeof n){let e=0;const t=wP.exec(n);if(Zt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Gn(n.seconds),nanos:Gn(n.nanos)}}function Gn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function za(n){return"string"==typeof n?Ir.fromBase64String(n):Ir.fromUint8Array(n)}function pv(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Cw(n){const e=n.mapValue.fields.__previous_value__;return pv(e)?Cw(e):e}function rl(n){const e=hs(n.mapValue.fields.__local_write_time__.timestampValue);return new sr(e.seconds,e.nanos)}class bw{constructor(e,t,r,i,u,d,g,y){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.useFetchStreams=y}}class qs{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new qs("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof qs&&e.projectId===this.projectId&&e.database===this.database}}function Lc(n){return null==n}function Cg(n){return 0===n&&1/n==-1/0}function gv(n){return"number"==typeof n&&Number.isInteger(n)&&!Cg(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Vo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Vh={nullValue:"NULL_VALUE"};function Vc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?pv(n)?4:Iw(n)?9007199254740991:10:Et()}function Zs(n,e){if(n===e)return!0;const t=Vc(n);if(t!==Vc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return rl(n).isEqual(rl(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const u=hs(r.timestampValue),d=hs(i.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,za(n.bytesValue).isEqual(za(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Gn(r.geoPointValue.latitude)===Gn(i.geoPointValue.latitude)&&Gn(r.geoPointValue.longitude)===Gn(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Gn(r.integerValue)===Gn(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const u=Gn(r.doubleValue),d=Gn(i.doubleValue);return u===d?Cg(u)===Cg(d):isNaN(u)&&isNaN(d)}return!1}(n,e);case 9:return Nc(n.arrayValue.values||[],e.arrayValue.values||[],Zs);case 10:return function(r,i){const u=r.mapValue.fields||{},d=i.mapValue.fields||{};if(vw(u)!==vw(d))return!1;for(const g in u)if(u.hasOwnProperty(g)&&(void 0===d[g]||!Zs(u[g],d[g])))return!1;return!0}(n,e);default:return Et()}var i}function bg(n,e){return void 0!==(n.values||[]).find(t=>Zs(t,e))}function qa(n,e){if(n===e)return 0;const t=Vc(n),r=Vc(e);if(t!==r)return Wt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Wt(n.booleanValue,e.booleanValue);case 2:return function(i,u){const d=Gn(i.integerValue||i.doubleValue),g=Gn(u.integerValue||u.doubleValue);return d<g?-1:d>g?1:d===g?0:isNaN(d)?isNaN(g)?0:-1:1}(n,e);case 3:return wg(n.timestampValue,e.timestampValue);case 4:return wg(rl(n),rl(e));case 5:return Wt(n.stringValue,e.stringValue);case 6:return function(i,u){const d=za(i),g=za(u);return d.compareTo(g)}(n.bytesValue,e.bytesValue);case 7:return function(i,u){const d=i.split("/"),g=u.split("/");for(let y=0;y<d.length&&y<g.length;y++){const w=Wt(d[y],g[y]);if(0!==w)return w}return Wt(d.length,g.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,u){const d=Wt(Gn(i.latitude),Gn(u.latitude));return 0!==d?d:Wt(Gn(i.longitude),Gn(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,u){const d=i.values||[],g=u.values||[];for(let y=0;y<d.length&&y<g.length;++y){const w=qa(d[y],g[y]);if(w)return w}return Wt(d.length,g.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,u){if(i===Vo.mapValue&&u===Vo.mapValue)return 0;if(i===Vo.mapValue)return 1;if(u===Vo.mapValue)return-1;const d=i.fields||{},g=Object.keys(d),y=u.fields||{},w=Object.keys(y);g.sort(),w.sort();for(let T=0;T<g.length&&T<w.length;++T){const O=Wt(g[T],w[T]);if(0!==O)return O;const V=qa(d[g[T]],y[w[T]]);if(0!==V)return V}return Wt(g.length,w.length)}(n.mapValue,e.mapValue);default:throw Et()}}function wg(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Wt(n,e);const t=hs(n),r=hs(e),i=Wt(t.seconds,r.seconds);return 0!==i?i:Wt(t.nanos,r.nanos)}function Uc(n){return ww(n)}function ww(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=hs(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?za(n.bytesValue).toBase64():"referenceValue"in n?lt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",u=!0;for(const d of r.values||[])u?u=!1:i+=",",i+=ww(d);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let u="{",d=!0;for(const g of i)d?d=!1:u+=",",u+=`${g}:${ww(r.fields[g])}`;return u+"}"}(n.mapValue):Et();var e}function il(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Uh(n){return!!n&&"integerValue"in n}function Bh(n){return!!n&&"arrayValue"in n}function Fi(n){return!!n&&"nullValue"in n}function Ew(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Bc(n){return!!n&&"mapValue"in n}function $h(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Fc(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=$h(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=$h(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Iw(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function mv(n){return"nullValue"in n?Vh:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?il(qs.empty(),lt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Et()}function Tw(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?il(qs.empty(),lt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Vo:Et()}function _v(n,e){const t=qa(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function Dw(n,e){const t=qa(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Yr{constructor(e){this.value=e}static empty(){return new Yr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Bc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=$h(t)}setAll(e){let t=_r.emptyPath(),r={},i=[];e.forEach((d,g)=>{if(!t.isImmediateParentOf(g)){const y=this.getFieldsMap(t);this.applyChanges(y,r,i),r={},i=[],t=g.popLast()}d?r[g.lastSegment()]=$h(d):i.push(g.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,i)}delete(e){const t=this.field(e.popLast());Bc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Zs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Bc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Fc(t,(i,u)=>e[i]=u);for(const i of r)delete e[i]}clone(){return new Yr($h(this.value))}}function yv(n){const e=[];return Fc(n.fields,(t,r)=>{const i=new _r([t]);if(Bc(r)){const u=yv(r.mapValue).fields;if(0===u.length)e.push(i);else for(const d of u)e.push(i.child(d))}else e.push(i)}),new _o(e)}class Wn{constructor(e,t,r,i,u,d){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=u,this.documentState=d}static newInvalidDocument(e){return new Wn(e,0,$t.min(),$t.min(),Yr.empty(),0)}static newFoundDocument(e,t,r){return new Wn(e,1,t,$t.min(),r,0)}static newNoDocument(e,t){return new Wn(e,2,t,$t.min(),Yr.empty(),0)}static newUnknownDocument(e,t){return new Wn(e,3,t,$t.min(),Yr.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$t.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Wn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class uD{constructor(e,t=null,r=[],i=[],u=null,d=null,g=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=u,this.startAt=d,this.endAt=g,this.ht=null}}function Eg(n,e=null,t=[],r=[],i=null,u=null,d=null){return new uD(n,e,t,r,i,u,d)}function si(n){const e=dt(n);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+Uc(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Lc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Uc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Uc(r)).join(",")),e.ht=t}return e.ht}function Ig(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!fD(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!Zs(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!bv(n.startAt,e.startAt)&&bv(n.endAt,e.endAt)}function Tg(n){return lt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function jh(n,e){return n.filters.filter(t=>t instanceof Qr&&t.field.isEqual(e))}function Mw(n,e,t){let r=Vh,i=!0;for(const u of jh(n,e)){let d=Vh,g=!0;switch(u.op){case"<":case"<=":d=mv(u.value);break;case"==":case"in":case">=":d=u.value;break;case">":d=u.value,g=!1;break;case"!=":case"not-in":d=Vh}_v({value:r,inclusive:i},{value:d,inclusive:g})<0&&(r=d,i=g)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const d=t.position[u];_v({value:r,inclusive:i},{value:d,inclusive:t.inclusive})<0&&(r=d,i=t.inclusive);break}return{value:r,inclusive:i}}function Ow(n,e,t){let r=Vo,i=!0;for(const u of jh(n,e)){let d=Vo,g=!0;switch(u.op){case">=":case">":d=Tw(u.value),g=!1;break;case"==":case"in":case"<=":d=u.value;break;case"<":d=u.value,g=!1;break;case"!=":case"not-in":d=Vo}Dw({value:r,inclusive:i},{value:d,inclusive:g})>0&&(r=d,i=g)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const d=t.position[u];Dw({value:r,inclusive:i},{value:d,inclusive:t.inclusive})>0&&(r=d,i=t.inclusive);break}return{value:r,inclusive:i}}class Qr extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new cD(e,t,r):"array-contains"===t?new dD(e,r):"in"===t?new hD(e,r):"not-in"===t?new Aw(e,r):"array-contains-any"===t?new Gh(e,r):new Qr(e,t,r)}static lt(e,t,r){return"in"===t?new EP(e,r):new Pw(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(qa(t,this.value)):null!==t&&Vc(this.value)===Vc(t)&&this.ft(qa(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Et()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class cD extends Qr{constructor(e,t,r){super(e,t,r),this.key=lt.fromName(r.referenceValue)}matches(e){const t=lt.comparator(e.key,this.key);return this.ft(t)}}class EP extends Qr{constructor(e,t){super(e,"in",t),this.keys=vv(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Pw extends Qr{constructor(e,t){super(e,"not-in",t),this.keys=vv(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function vv(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>lt.fromName(r.referenceValue))}class dD extends Qr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Bh(t)&&bg(t.arrayValue,this.value)}}class hD extends Qr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&bg(this.value.arrayValue,t)}}class Aw extends Qr{constructor(e,t){super(e,"not-in",t)}matches(e){if(bg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!bg(this.value.arrayValue,t)}}class Gh extends Qr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Bh(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>bg(this.value.arrayValue,r))}}class fs{constructor(e,t){this.position=e,this.inclusive=t}}class ol{constructor(e,t="asc"){this.field=e,this.dir=t}}function fD(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function Cv(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const u=e[i],d=n.position[i];if(r=u.field.isKeyField()?lt.comparator(lt.fromName(d.referenceValue),t.key):qa(d,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function bv(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Zs(n.position[t],e.position[t]))return!1;return!0}class Ws{constructor(e,t=null,r=[],i=[],u=null,d="F",g=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=u,this.limitType=d,this.startAt=g,this.endAt=y,this._t=null,this.wt=null}}function xw(n,e,t,r,i,u,d,g){return new Ws(n,e,t,r,i,u,d,g)}function Hh(n){return new Ws(n)}function pD(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Dg(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function wv(n){for(const e of n.filters)if(e.dt())return e.field;return null}function Ev(n){return null!==n.collectionGroup}function $c(n){const e=dt(n);if(null===e._t){e._t=[];const t=wv(e),r=Dg(e);if(null!==t&&null===r)t.isKeyField()||e._t.push(new ol(t)),e._t.push(new ol(_r.keyField(),"asc"));else{let i=!1;for(const u of e.explicitOrderBy)e._t.push(u),u.field.isKeyField()&&(i=!0);if(!i){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new ol(_r.keyField(),u))}}}return e._t}function Ki(n){const e=dt(n);if(!e.wt)if("F"===e.limitType)e.wt=Eg(e.path,e.collectionGroup,$c(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of $c(e))t.push(new ol(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new fs(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new fs(e.startAt.position,e.startAt.inclusive):null;e.wt=Eg(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.wt}function Iv(n,e,t){return new Ws(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Mg(n,e){return Ig(Ki(n),Ki(e))&&n.limitType===e.limitType}function gD(n){return`${si(Ki(n))}|lt:${n.limitType}`}function Sw(n){return`Query(target=${function lD(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Uc(r.value)}`;var r}).join(", ")}]`),Lc(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Uc(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Uc(t)).join(",")),`Target(${e})`}(Ki(n))}; limitType=${n.limitType})`}function Tv(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):lt.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,u,d){const g=Cv(i,u,d);return i.inclusive?g<=0:g<0}(t.startAt,$c(t),r)||t.endAt&&!function(i,u,d){const g=Cv(i,u,d);return i.inclusive?g>=0:g>0}(t.endAt,$c(t),r)));var t,r}function zh(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Rw(n){return(e,t)=>{let r=!1;for(const i of $c(n)){const u=mD(i,e,t);if(0!==u)return u;r=r||i.field.isKeyField()}return 0}}function mD(n,e,t){const r=n.field.isKeyField()?lt.comparator(e.key,t.key):function(i,u,d){const g=u.data.field(i),y=d.data.field(i);return null!==g&&null!==y?qa(g,y):Et()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Et()}}function Dv(n,e){if(n.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cg(e)?"-0":e}}function Za(n){return{integerValue:""+n}}function Mv(n,e){return gv(e)?Za(e):Dv(n,e)}class jc{constructor(){this._=void 0}}function Ov(n,e,t){return n instanceof Wa?function(r,i){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(u.fields.__previous_value__=i),{mapValue:u}}(t,e):n instanceof Ka?Pv(n,e):n instanceof Gc?yD(n,e):function(r,i){const u=Og(r,i),d=vD(u)+vD(r.yt);return Uh(u)&&Uh(r.yt)?Za(d):Dv(r.It,d)}(n,e)}function _D(n,e,t){return n instanceof Ka?Pv(n,e):n instanceof Gc?yD(n,e):t}function Og(n,e){return n instanceof qh?Uh(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Wa extends jc{}class Ka extends jc{constructor(e){super(),this.elements=e}}function Pv(n,e){const t=CD(e);for(const r of n.elements)t.some(i=>Zs(i,r))||t.push(r);return{arrayValue:{values:t}}}class Gc extends jc{constructor(e){super(),this.elements=e}}function yD(n,e){let t=CD(e);for(const r of n.elements)t=t.filter(i=>!Zs(i,r));return{arrayValue:{values:t}}}class qh extends jc{constructor(e,t){super(),this.It=e,this.yt=t}}function vD(n){return Gn(n.integerValue||n.doubleValue)}function CD(n){return Bh(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Pg{constructor(e,t){this.field=e,this.transform=t}}class Nw{constructor(e,t){this.version=e,this.transformResults=t}}class ar{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ar}static exists(e){return new ar(void 0,e)}static updateTime(e){return new ar(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ag(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class xg{}function kw(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Ks(n.key,ar.none()):new zc(n.key,n.data,ar.none());{const t=n.data,r=Yr.empty();let i=new jn(_r.comparator);for(let u of e.fields)if(!i.has(u)){let d=t.field(u);null===d&&u.length>1&&(u=u.popLast(),d=t.field(u)),null===d?r.delete(u):r.set(u,d),i=i.add(u)}return new ps(n.key,r,new _o(i.toArray()),ar.none())}}function Fw(n,e,t){n instanceof zc?function(r,i,u){const d=r.value.clone(),g=Uw(r.fieldTransforms,i,u.transformResults);d.setAll(g),i.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):n instanceof ps?function(r,i,u){if(!Ag(r.precondition,i))return void i.convertToUnknownDocument(u.version);const d=Uw(r.fieldTransforms,i,u.transformResults),g=i.data;g.setAll(Zh(r)),g.setAll(d),i.convertToFoundDocument(u.version,g).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Hc(n,e,t,r){return n instanceof zc?function(i,u,d,g){if(!Ag(i.precondition,u))return d;const y=i.value.clone(),w=Av(i.fieldTransforms,g,u);return y.setAll(w),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),null}(n,e,t,r):n instanceof ps?function(i,u,d,g){if(!Ag(i.precondition,u))return d;const y=Av(i.fieldTransforms,g,u),w=u.data;return w.setAll(Zh(i)),w.setAll(y),u.convertToFoundDocument(u.version,w).setHasLocalMutations(),null===d?null:d.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(T=>T.field))}(n,e,t,r):(d=t,Ag(n.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d);var u,d}function Lw(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),u=Og(r.transform,i||null);null!=u&&(null===t&&(t=Yr.empty()),t.set(r.field,u))}return t||null}function Vw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Nc(t,r,(i,u)=>function IP(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Ka&&r instanceof Ka||t instanceof Gc&&r instanceof Gc?Nc(t.elements,r.elements,Zs):t instanceof qh&&r instanceof qh?Zs(t.yt,r.yt):t instanceof Wa&&r instanceof Wa);var t,r}(i,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class zc extends xg{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ps extends xg{constructor(e,t,r,i,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Zh(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Uw(n,e,t){const r=new Map;Zt(n.length===t.length);for(let i=0;i<t.length;i++){const u=n[i],d=u.transform,g=e.data.field(u.field);r.set(u.field,_D(d,g,t[i]))}return r}function Av(n,e,t){const r=new Map;for(const i of n){const u=i.transform,d=t.data.field(i.field);r.set(i.field,Ov(u,d,e))}return r}class Ks extends xg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xv extends xg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class bD{constructor(e){this.count=e}}var kr,In;function wD(n){switch(n){default:return Et();case ye.CANCELLED:case ye.UNKNOWN:case ye.DEADLINE_EXCEEDED:case ye.RESOURCE_EXHAUSTED:case ye.INTERNAL:case ye.UNAVAILABLE:case ye.UNAUTHENTICATED:return!1;case ye.INVALID_ARGUMENT:case ye.NOT_FOUND:case ye.ALREADY_EXISTS:case ye.PERMISSION_DENIED:case ye.FAILED_PRECONDITION:case ye.ABORTED:case ye.OUT_OF_RANGE:case ye.UNIMPLEMENTED:case ye.DATA_LOSS:return!0}}function Bw(n){if(void 0===n)return Mr("GRPC error has no .code"),ye.UNKNOWN;switch(n){case kr.OK:return ye.OK;case kr.CANCELLED:return ye.CANCELLED;case kr.UNKNOWN:return ye.UNKNOWN;case kr.DEADLINE_EXCEEDED:return ye.DEADLINE_EXCEEDED;case kr.RESOURCE_EXHAUSTED:return ye.RESOURCE_EXHAUSTED;case kr.INTERNAL:return ye.INTERNAL;case kr.UNAVAILABLE:return ye.UNAVAILABLE;case kr.UNAUTHENTICATED:return ye.UNAUTHENTICATED;case kr.INVALID_ARGUMENT:return ye.INVALID_ARGUMENT;case kr.NOT_FOUND:return ye.NOT_FOUND;case kr.ALREADY_EXISTS:return ye.ALREADY_EXISTS;case kr.PERMISSION_DENIED:return ye.PERMISSION_DENIED;case kr.FAILED_PRECONDITION:return ye.FAILED_PRECONDITION;case kr.ABORTED:return ye.ABORTED;case kr.OUT_OF_RANGE:return ye.OUT_OF_RANGE;case kr.UNIMPLEMENTED:return ye.UNIMPLEMENTED;case kr.DATA_LOSS:return ye.DATA_LOSS;default:return Et()}}(In=kr||(kr={}))[In.OK=0]="OK",In[In.CANCELLED=1]="CANCELLED",In[In.UNKNOWN=2]="UNKNOWN",In[In.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",In[In.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",In[In.NOT_FOUND=5]="NOT_FOUND",In[In.ALREADY_EXISTS=6]="ALREADY_EXISTS",In[In.PERMISSION_DENIED=7]="PERMISSION_DENIED",In[In.UNAUTHENTICATED=16]="UNAUTHENTICATED",In[In.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",In[In.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",In[In.ABORTED=10]="ABORTED",In[In.OUT_OF_RANGE=11]="OUT_OF_RANGE",In[In.UNIMPLEMENTED=12]="UNIMPLEMENTED",In[In.INTERNAL=13]="INTERNAL",In[In.UNAVAILABLE=14]="UNAVAILABLE",In[In.DATA_LOSS=15]="DATA_LOSS";class Ya{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,u]of r)if(this.equalsFn(i,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<i.length;u++)if(this.equalsFn(i[u][0],e))return void(i[u]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Fc(this.inner,(t,r)=>{for(const[i,u]of r)e(i,u)})}isEmpty(){return hv(this.inner)}size(){return this.innerSize}}const ED=new Or(lt.comparator);function Li(){return ED}const $w=new Or(lt.comparator);function Wh(...n){let e=$w;for(const t of n)e=e.insert(t.key,t);return e}function jw(n){let e=$w;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function gs(){return Sg()}function ID(){return Sg()}function Sg(){return new Ya(n=>n.toString(),(n,e)=>n.isEqual(e))}const TP=new Or(lt.comparator),DP=new jn(lt.comparator);function cn(...n){let e=DP;for(const t of n)e=e.add(t);return e}const TD=new jn(Wt);function Sv(){return TD}class Rg{constructor(e,t,r,i,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,Ng.createSynthesizedTargetChangeForCurrentChange(e,t)),new Rg($t.min(),r,Sv(),Li(),cn())}}class Ng{constructor(e,t,r,i,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Ng(Ir.EMPTY_BYTE_STRING,t,cn(),cn(),cn())}}class Rv{constructor(e,t,r,i){this.Tt=e,this.removedTargetIds=t,this.key=r,this.Et=i}}class o{constructor(e,t){this.targetId=e,this.At=t}}class s{constructor(e,t,r=Ir.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class a{constructor(){this.Rt=0,this.bt=f(),this.Pt=Ir.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=cn(),t=cn(),r=cn();return this.bt.forEach((i,u)=>{switch(u){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Et()}}),new Ng(this.Pt,this.vt,e,t,r)}Nt(){this.Vt=!1,this.bt=f()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Mt(e){this.Vt=!0,this.bt=this.bt.remove(e)}Ot(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class c{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=Li(),this.qt=h(),this.Kt=new jn(Wt)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const r=this.zt(t);switch(e.state){case 0:this.Ht(t)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),r.Ct(e.resumeToken));break;default:Et()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((r,i)=>{this.Ht(i)&&t(i)})}Yt(e){const t=e.targetId,r=e.At.count,i=this.Xt(t);if(i){const u=i.target;if(Tg(u))if(0===r){const d=new lt(u.path);this.jt(t,d,Wn.newNoDocument(d,$t.min()))}else Zt(1===r);else this.Zt(t)!==r&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((u,d)=>{const g=this.Xt(d);if(g){if(u.current&&Tg(g.target)){const y=new lt(g.target.path);null!==this.Ut.get(y)||this.ee(d,y)||this.jt(d,y,Wn.newNoDocument(y,e))}u.Dt&&(t.set(d,u.xt()),u.Nt())}});let r=cn();this.qt.forEach((u,d)=>{let g=!0;d.forEachWhile(y=>{const w=this.Xt(y);return!w||2===w.purpose||(g=!1,!1)}),g&&(r=r.add(u))}),this.Ut.forEach((u,d)=>d.setReadTime(e));const i=new Rg(e,t,this.Kt,this.Ut,r);return this.Ut=Li(),this.qt=h(),this.Kt=new jn(Wt),i}Qt(e,t){if(!this.Ht(e))return;const r=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,r),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,r){if(!this.Ht(e))return;const i=this.zt(e);this.ee(e,t)?i.kt(t,1):i.Mt(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),r&&(this.Ut=this.Ut.insert(t,r))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.zt(e).Ot()}zt(e){let t=this.Lt.get(e);return t||(t=new a,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new jn(Wt),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||ze("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new a),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function h(){return new Or(lt.comparator)}function f(){return new Or(lt.comparator)}const _={asc:"ASCENDING",desc:"DESCENDING"},C={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class E{constructor(e,t){this.databaseId=e,this.gt=t}}function I(n,e){return n.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function M(n,e){return n.gt?e.toBase64():e.toUint8Array()}function k(n,e){return I(n,e.toTimestamp())}function z(n){return Zt(!!n),$t.fromTimestamp(function(e){const t=hs(e);return new sr(t.seconds,t.nanos)}(n))}function ue(n,e){return(t=n,new En(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Ie(n){const e=En.fromString(n);return Zt(MP(e)),e}function We(n,e){return ue(n.databaseId,e.path)}function nt(n,e){const t=Ie(e);if(t.get(1)!==n.databaseId.projectId)throw new $e(ye.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new $e(ye.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new lt(hn(t))}function yt(n,e){return ue(n.databaseId,e)}function Le(n){const e=Ie(n);return 4===e.length?En.emptyPath():hn(e)}function Ot(n){return new En(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function hn(n){return Zt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function An(n,e,t){return{name:We(n,e),fields:t.value.mapValue.fields}}function Vi(n,e,t){const r=nt(n,e.name),i=z(e.updateTime),u=new Yr({mapValue:{fields:e.fields}}),d=Wn.newFoundDocument(r,i,u);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function al(n,e){let t;if(e instanceof zc)t={update:An(n,e.key,e.value)};else if(e instanceof Ks)t={delete:We(n,e.key)};else if(e instanceof ps)t={update:An(n,e.key,e.data),updateMask:s1(e.fieldMask)};else{if(!(e instanceof xv))return Et();t={verify:We(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,u){const d=u.transform;if(d instanceof Wa)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Ka)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Gc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof qh)return{fieldPath:u.field.canonicalString(),increment:d.yt};throw Et()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:k(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:Et()),t;var i}function Kh(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?ar.updateTime(z(i.updateTime)):void 0!==i.exists?ar.exists(i.exists):ar.none():ar.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(u,d){let g=null;"setToServerValue"in d?(Zt("REQUEST_TIME"===d.setToServerValue),g=new Wa):"appendMissingElements"in d?g=new Ka(d.appendMissingElements.values||[]):"removeAllFromArray"in d?g=new Gc(d.removeAllFromArray.values||[]):"increment"in d?g=new qh(u,d.increment):Et();const y=_r.fromServerFormat(d.fieldPath);return new Pg(y,g)}(n,i)):[];var i;if(e.update){const i=nt(n,e.update.name),u=new Yr({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=new _o((e.updateMask.fieldPaths||[]).map(w=>_r.fromServerFormat(w)));return new ps(i,u,d,t,r)}return new zc(i,u,t,r)}if(e.delete){const i=nt(n,e.delete);return new Ks(i,t)}if(e.verify){const i=nt(n,e.verify);return new xv(i,t)}return Et()}function kg(n,e){return{documents:[yt(n,e.path)]}}function Fg(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=yt(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=yt(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(y){if(0===y.length)return;const w=y.map(T=>function(O){if("=="===O.op){if(Ew(O.value))return{unaryFilter:{field:Ug(O.field),op:"IS_NAN"}};if(Fi(O.value))return{unaryFilter:{field:Ug(O.field),op:"IS_NULL"}}}else if("!="===O.op){if(Ew(O.value))return{unaryFilter:{field:Ug(O.field),op:"IS_NOT_NAN"}};if(Fi(O.value))return{unaryFilter:{field:Ug(O.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ug(O.field),op:r1(O.op),value:O.value}}}(T));return 1===w.length?w[0]:{compositeFilter:{op:"AND",filters:w}}}(e.filters);i&&(t.structuredQuery.where=i);const u=function(y){if(0!==y.length)return y.map(w=>{return{field:Ug((T=w).field),direction:n1(T.dir)};var T})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=(w=e.limit,n.gt||Lc(w)?w:{value:w});var w,g,y;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt={before:(g=e.startAt).inclusive,values:g.position}),e.endAt&&(t.structuredQuery.endAt={before:!(y=e.endAt).inclusive,values:y.position}),t}function Lg(n){let e=Le(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Zt(1===r);const T=t.from[0];T.allDescendants?i=T.collectionId:e=e.child(T.collectionId)}let u=[];t.where&&(u=Vg(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(T=>{return new ol(Bg((O=T).field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction));var O}));let g=null;t.limit&&(g=function(T){let O;return O="object"==typeof T?T.value:T,Lc(O)?null:O}(t.limit));let y=null;var T;t.startAt&&(y=new fs((T=t.startAt).values||[],!!T.before));let w=null;return t.endAt&&(w=function(T){return new fs(T.values||[],!T.before)}(t.endAt)),xw(e,i,d,u,g,"F",y,w)}function Vg(n){return n?void 0!==n.unaryFilter?[o1(n)]:void 0!==n.fieldFilter?[i1(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>Vg(e)).reduce((e,t)=>e.concat(t)):Et():[]}function n1(n){return _[n]}function r1(n){return C[n]}function Ug(n){return{fieldPath:n.canonicalString()}}function Bg(n){return _r.fromServerFormat(n.fieldPath)}function i1(n){return Qr.create(Bg(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Et()}}(n.fieldFilter.op),n.fieldFilter.value)}function o1(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Bg(n.unaryFilter.field);return Qr.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Bg(n.unaryFilter.field);return Qr.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Bg(n.unaryFilter.field);return Qr.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Bg(n.unaryFilter.field);return Qr.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Et()}}function s1(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function MP(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Yi(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=OP(e)),e=a1(n.get(t),e);return OP(e)}function a1(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const u=n.charAt(i);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function OP(n){return n+"\x01\x01"}function Qa(n){const e=n.length;if(Zt(e>=2),2===e)return Zt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),En.emptyPath();const t=e-2,r=[];let i="";for(let u=0;u<e;){const d=n.indexOf("\x01",u);switch((d<0||d>t)&&Et(),n.charAt(d+1)){case"\x01":const g=n.substring(u,d);let y;0===i.length?y=g:(i+=g,y=i,i=""),r.push(y);break;case"\x10":i+=n.substring(u,d),i+="\0";break;case"\x11":i+=n.substring(u,d+1);break;default:Et()}u=d+2}return new En(r)}const PP=["userId","batchId"];function Gw(n,e){return[n,Yi(e)]}function AP(n,e,t){return[n,Yi(e),t]}const u1={},l1=["prefixPath","collectionGroup","readTime","documentId"],c1=["prefixPath","collectionGroup","documentId"],d1=["collectionGroup","readTime","prefixPath","documentId"],h1=["canonicalId","targetId"],f1=["targetId","path"],p1=["path","targetId"],g1=["collectionId","parent"],m1=["indexId","uid"],_1=["uid","sequenceNumber"],y1=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],v1=["indexId","uid","orderedDocumentKey"],C1=["userId","collectionPath","documentId"],b1=["userId","collectionPath","largestBatchId"],w1=["userId","collectionGroup","largestBatchId"],xP=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],E1=[...xP,"documentOverlays"],SP=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],RP=SP,I1=[...RP,"indexConfiguration","indexState","indexEntries"];class DD extends pw{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function vi(n,e){const t=dt(n);return mo.O(t.ie,e)}class MD{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const u=this.mutations[i];u.key.isEqual(e.key)&&Fw(u,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Hc(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Hc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=ID();return this.mutations.forEach(i=>{const u=e.get(i.key),d=u.overlayedDocument;let g=this.applyToLocalView(d,u.mutatedFields);g=t.has(i.key)?null:g;const y=kw(d,g);null!==y&&r.set(i.key,y),d.isValidDocument()||d.convertToNoDocument($t.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),cn())}isEqual(e){return this.batchId===e.batchId&&Nc(this.mutations,e.mutations,(t,r)=>Vw(t,r))&&Nc(this.baseMutations,e.baseMutations,(t,r)=>Vw(t,r))}}class OD{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Zt(e.mutations.length===r.length);let i=TP;const u=e.mutations;for(let d=0;d<u.length;d++)i=i.insert(u[d].key,r[d].version);return new OD(e,t,r,i)}}class PD{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class qc{constructor(e,t,r,i,u=$t.min(),d=$t.min(),g=Ir.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g}withSequenceNumber(e){return new qc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new qc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new qc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class NP{constructor(e){this.re=e}}function kP(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Hw(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:We(i=n.re,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:I(i,u.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Yh(e.version)};else{if(!e.isUnknownDocument())return Et();r.unknownDocument={path:t.path.toArray(),version:Yh(e.version)}}var i,u;return r}function Hw(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Yh(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Qh(n){const e=new sr(n.seconds,n.nanoseconds);return $t.fromTimestamp(e)}function Jh(n,e){const t=(e.baseMutations||[]).map(u=>Kh(n.re,u));for(let u=0;u<e.mutations.length-1;++u){const d=e.mutations[u];u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(d.updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u)}const r=e.mutations.map(u=>Kh(n.re,u)),i=sr.fromMillis(e.localWriteTimeMs);return new MD(e.batchId,i,t,r)}function Lv(n){const e=Qh(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Qh(n.lastLimboFreeSnapshotVersion):$t.min();let r;var i;return void 0!==n.query.documents?(Zt(1===(i=n.query).documents.length),r=Ki(Hh(Le(i.documents[0])))):r=Ki(Lg(n.query)),new qc(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Ir.fromBase64String(n.resumeToken))}function FP(n,e){const t=Yh(e.snapshotVersion),r=Yh(e.lastLimboFreeSnapshotVersion);let i;i=Tg(e.target)?kg(n.re,e.target):Fg(n.re,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:si(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function AD(n){const e=Lg({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Iv(e,e.limit,"L"):e}function xD(n,e){return new PD(e.largestBatchId,Kh(n.re,e.overlayMutation))}function LP(n,e){const t=e.path.lastSegment();return[n,Yi(e.path.popLast()),t]}function VP(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Yh(r.readTime),documentKey:Yi(r.documentKey.path),largestBatchId:r.largestBatchId}}class D1{getBundleMetadata(e,t){return UP(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Qh(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return UP(e).put({bundleId:(r=t).id,createTime:Yh(z(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return BP(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:AD(i.bundledQuery),readTime:Qh(i.readTime)};var i})}saveNamedQuery(e,t){return BP(e).put({name:(r=t).name,readTime:Yh(z(r.readTime)),bundledQuery:r.bundledQuery});var r}}function UP(n){return vi(n,"bundles")}function BP(n){return vi(n,"namedQueries")}class zw{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new zw(e,t.uid||"")}getOverlay(e,t){return Vv(e).get(LP(this.userId,t)).next(r=>r?xD(this.It,r):null)}getOverlays(e,t){const r=gs();return pe.forEach(t,i=>this.getOverlay(e,i).next(u=>{null!==u&&r.set(i,u)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((u,d)=>{const g=new PD(t,d);i.push(this.ue(e,g))}),pe.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(d=>i.add(Yi(d.getCollectionPath())));const u=[];return i.forEach(d=>{const g=IDBKeyRange.bound([this.userId,d,r],[this.userId,d,r+1],!1,!0);u.push(Vv(e).Y("collectionPathOverlayIndex",g))}),pe.waitFor(u)}getOverlaysForCollection(e,t,r){const i=gs(),u=Yi(t),d=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return Vv(e).W("collectionPathOverlayIndex",d).next(g=>{for(const y of g){const w=xD(this.It,y);i.set(w.getKey(),w)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const u=gs();let d;const g=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Vv(e).Z({index:"collectionGroupOverlayIndex",range:g},(y,w,T)=>{const O=xD(this.It,w);u.size()<i||O.largestBatchId===d?(u.set(O.getKey(),O),d=O.largestBatchId):T.done()}).next(()=>u)}ue(e,t){return Vv(e).put(function(r,i,u){const[d,g,y]=LP(i,u.mutation.key);return{userId:i,collectionPath:g,documentId:y,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:al(r.re,u.mutation)}}(this.It,this.userId,t))}}function Vv(n){return vi(n,"documentOverlays")}class Xh{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(Gn(e.integerValue));else if("doubleValue"in e){const r=Gn(e.doubleValue);isNaN(r)?this.le(t,13):(this.le(t,15),Cg(r)?t.fe(0):t.fe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de(`${r.seconds||""}`),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(za(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.le(t,45),t.fe(r.latitude||0),t.fe(r.longitude||0)}else"mapValue"in e?Iw(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):Et()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const r=e.fields||{};this.le(t,55);for(const i of Object.keys(r))this._e(i,t),this.ae(r[i],t)}pe(e,t){const r=e.values||[];this.le(t,50);for(const i of r)this.ae(i,t)}ge(e,t){this.le(t,37),lt.fromName(e).path.forEach(r=>{this.le(t,60),this.Ie(r,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function M1(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function $P(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const u=M1(255&t[i]);if(r+=u,8!==u)break}return r}(n);return Math.ceil(e/8)}Xh.Te=new Xh;class O1{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ae(r.value),r=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Pe(r.value),r=t.next();this.ve()}Ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ae(r);else if(r<2048)this.Ae(960|r>>>6),this.Ae(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r);else{const i=t.codePointAt(0);this.Ae(240|i>>>18),this.Ae(128|63&i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i)}}this.Re()}Se(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Pe(r);else if(r<2048)this.Pe(960|r>>>6),this.Pe(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r);else{const i=t.codePointAt(0);this.Pe(240|i>>>18),this.Pe(128|63&i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i)}}this.ve()}De(e){const t=this.Ce(e),r=$P(t);this.xe(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Ne(e){const t=this.Ce(e),r=$P(t);this.xe(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}ke(){this.Me(255),this.Me(255)}Oe(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(i){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,i,!1),new Uint8Array(u.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ae(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Me(0),this.Me(1)}ve(){this.Fe(0),this.Fe(1)}Me(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class P1{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class A1{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Oe()}}class Uv{constructor(){this.Be=new O1,this.Le=new P1(this.Be),this.Ue=new A1(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class ef{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new ef(this.indexId,this.documentKey,this.arrayValue,r)}}function tf(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=jP(n.arrayValue,e.arrayValue),0!==t?t:(t=jP(n.directionalValue,e.directionalValue),0!==t?t:lt.comparator(n.documentKey,e.documentKey)))}function jP(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class x1{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const r=t;r.dt()?this.je=r:this.Qe.push(r)}}We(e){const t=Nh(e);if(void 0!==t&&!this.ze(t))return!1;const r=kc(e);let i=0,u=0;for(;i<r.length&&this.ze(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.je){const d=r[i];if(!this.He(this.je,d)||!this.Je(this.Ge[u++],d))return!1;++i}for(;i<r.length;++i){const d=r[i];if(u>=this.Ge.length||!this.Je(this.Ge[u++],d))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class S1{constructor(){this.Ye=new SD}addToCollectionParentIndex(e,t){return this.Ye.add(t),pe.resolve()}getCollectionParents(e,t){return pe.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return pe.resolve()}deleteFieldIndex(e,t){return pe.resolve()}getDocumentsMatchingTarget(e,t){return pe.resolve(null)}getIndexType(e,t){return pe.resolve(0)}getFieldIndexes(e,t){return pe.resolve([])}getNextCollectionGroupToUpdate(e){return pe.resolve(null)}getMinOffset(e,t){return pe.resolve(Oi.min())}getMinOffsetFromCollectionGroup(e,t){return pe.resolve(Oi.min())}updateCollectionGroup(e,t,r){return pe.resolve()}updateIndexEntries(e,t){return pe.resolve()}}class SD{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new jn(En.comparator),u=!i.has(r);return this.index[t]=i.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new jn(En.comparator)).toArray()}}const qw=new Uint8Array(0);class R1{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new SD,this.Ze=new Ya(r=>si(r),(r,i)=>Ig(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const u={collectionId:r,parent:Yi(i)};return GP(e).put(u)}return pe.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[gg(t),""],!1,!0);return GP(e).W(i).next(u=>{for(const d of u){if(d.collectionId!==t)break;r.push(Qa(d.parent))}return r})}addFieldIndex(e,t){const r=Zw(e),i={indexId:(d=t).indexId,collectionGroup:d.collectionGroup,fields:d.fields.map(g=>[g.fieldPath.canonicalString(),g.kind])};var d;delete i.indexId;const u=r.add(i);if(t.indexState){const d=$v(e);return u.next(g=>{d.put(VP(g,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return u.next()}deleteFieldIndex(e,t){const r=Zw(e),i=$v(e),u=Bv(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Bv(e);let i=!0;const u=new Map;return pe.forEach(this.tn(t),d=>this.en(e,d).next(g=>{i&&(i=!!g),u.set(d,g)})).next(()=>{if(i){let d=cn();const g=[];return pe.forEach(u,(y,w)=>{var T;ze("IndexedDbIndexManager",`Using index ${T=y,`id=${T.indexId}|cg=${T.collectionGroup}|f=${T.fields.map(Pt=>`${Pt.fieldPath}:${Pt.kind}`).join(",")}`} to execute ${si(t)}`);const O=function(Pt,wt){const Ht=Nh(wt);if(void 0===Ht)return null;for(const on of jh(Pt,Ht.fieldPath))switch(on.op){case"array-contains-any":return on.value.arrayValue.values||[];case"array-contains":return[on.value]}return null}(w,y),V=function(Pt,wt){const Ht=new Map;for(const on of kc(wt))for(const Pr of jh(Pt,on.fieldPath))switch(Pr.op){case"==":case"in":Ht.set(on.fieldPath.canonicalString(),Pr.value);break;case"not-in":case"!=":return Ht.set(on.fieldPath.canonicalString(),Pr.value),Array.from(Ht.values())}return null}(w,y),B=function(Pt,wt){const Ht=[];let on=!0;for(const Pr of kc(wt)){const Qs=0===Pr.kind?Mw(Pt,Pr.fieldPath,Pt.startAt):Ow(Pt,Pr.fieldPath,Pt.startAt);Ht.push(Qs.value),on&&(on=Qs.inclusive)}return new fs(Ht,on)}(w,y),X=function(Pt,wt){const Ht=[];let on=!0;for(const Pr of kc(wt)){const Qs=0===Pr.kind?Ow(Pt,Pr.fieldPath,Pt.endAt):Mw(Pt,Pr.fieldPath,Pt.endAt);Ht.push(Qs.value),on&&(on=Qs.inclusive)}return new fs(Ht,on)}(w,y),Se=this.nn(y,w,B),Ne=this.nn(y,w,X),ft=this.sn(y,w,V),Nt=this.rn(y.indexId,O,Se,B.inclusive,Ne,X.inclusive,ft);return pe.forEach(Nt,Pt=>r.J(Pt,t.limit).next(wt=>{wt.forEach(Ht=>{const on=lt.fromSegments(Ht.documentKey);d.has(on)||(d=d.add(on),g.push(on))})}))}).next(()=>g)}return pe.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,r,i,u,d,g){const y=(null!=t?t.length:1)*Math.max(r.length,u.length),w=y/(null!=t?t.length:1),T=[];for(let O=0;O<y;++O){const V=t?this.on(t[O/w]):qw,B=this.un(e,V,r[O%w],i),X=this.cn(e,V,u[O%w],d),Se=g.map(Ne=>this.un(e,V,Ne,!0));T.push(...this.createRange(B,X,Se))}return T}un(e,t,r,i){const u=new ef(e,lt.empty(),t,r);return i?u:u.Ke()}cn(e,t,r,i){const u=new ef(e,lt.empty(),t,r);return i?u.Ke():u}en(e,t){const r=new x1(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(u=>{let d=null;for(const g of u)r.We(g)&&(!d||g.fields.length>d.fields.length)&&(d=g);return d})}getIndexType(e,t){let r=2;return pe.forEach(this.tn(t),i=>this.en(e,i).next(u=>{u?0!==r&&u.fields.length<function(d){let g=new jn(_r.comparator),y=!1;for(const w of d.filters){const T=w;T.field.isKeyField()||("array-contains"===T.op||"array-contains-any"===T.op?y=!0:g=g.add(T.field))}for(const w of d.orderBy)w.field.isKeyField()||(g=g.add(w.field));return g.size+(y?1:0)}(i)&&(r=1):r=0})).next(()=>r)}an(e,t){const r=new Uv;for(const i of kc(e)){const u=t.data.field(i.fieldPath);if(null==u)return null;const d=r.qe(i.kind);Xh.Te.ce(u,d)}return r.$e()}on(e){const t=new Uv;return Xh.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const r=new Uv;return Xh.Te.ce(il(this.databaseId,t),r.qe(function(i){const u=kc(i);return 0===u.length?0:u[u.length-1].kind}(e))),r.$e()}sn(e,t,r){if(null===r)return[];let i=[];i.push(new Uv);let u=0;for(const d of kc(e)){const g=r[u++];for(const y of i)if(this.ln(t,d.fieldPath)&&Bh(g))i=this.fn(i,d,g);else{const w=y.qe(d.kind);Xh.Te.ce(g,w)}}return this.dn(i)}nn(e,t,r){return this.sn(e,t,r.position)}dn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].$e();return t}fn(e,t,r){const i=[...e],u=[];for(const d of r.arrayValue.values||[])for(const g of i){const y=new Uv;y.seed(g.$e()),Xh.Te.ce(d,y.qe(t.kind)),u.push(y)}return u}ln(e,t){return!!e.filters.find(r=>r instanceof Qr&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=Zw(e),i=$v(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(u=>{const d=[];return pe.forEach(u,g=>i.get([g.indexId,this.uid]).next(y=>{d.push(function(w,T){const O=T?new ja(T.sequenceNumber,new Oi(Qh(T.readTime),new lt(Qa(T.documentKey)),T.largestBatchId)):ja.empty(),V=w.fields.map(([B,X])=>new mg(_r.fromServerFormat(B),X));return new tl(w.indexId,w.collectionGroup,V,O)}(g,y))})).next(()=>d)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const u=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==u?u:Wt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=Zw(e),u=$v(e);return this._n(e).next(d=>i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(g=>pe.forEach(g,y=>u.put(VP(y.indexId,this.user,d,r)))))}updateIndexEntries(e,t){const r=new Map;return pe.forEach(t,(i,u)=>{const d=r.get(i.collectionGroup);return(d?pe.resolve(d):this.getFieldIndexes(e,i.collectionGroup)).next(g=>(r.set(i.collectionGroup,g),pe.forEach(g,y=>this.wn(e,i,y).next(w=>{const T=this.mn(u,y);return w.isEqual(T)?pe.resolve():this.gn(e,u,y,w,T)}))))})}yn(e,t,r,i){return Bv(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.hn(r,t.key),documentKey:t.key.path.toArray()})}pn(e,t,r,i){return Bv(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.hn(r,t.key),t.key.path.toArray()])}wn(e,t,r){const i=Bv(e);let u=new jn(tf);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.hn(r,t)])},(d,g)=>{u=u.add(new ef(r.indexId,t,g.arrayValue,g.directionalValue))}).next(()=>u)}mn(e,t){let r=new jn(tf);const i=this.an(t,e);if(null==i)return r;const u=Nh(t);if(null!=u){const d=e.data.field(u.fieldPath);if(Bh(d))for(const g of d.arrayValue.values||[])r=r.add(new ef(t.indexId,e.key,this.on(g),i))}else r=r.add(new ef(t.indexId,e.key,qw,i));return r}gn(e,t,r,i,u){ze("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const d=[];return function(g,y,w,T,O){const V=g.getIterator(),B=y.getIterator();let X=Lh(V),Se=Lh(B);for(;X||Se;){let Ne=!1,ft=!1;if(X&&Se){const Nt=w(X,Se);Nt<0?ft=!0:Nt>0&&(Ne=!0)}else null!=X?ft=!0:Ne=!0;Ne?(T(Se),Se=Lh(B)):ft?(O(X),X=Lh(V)):(X=Lh(V),Se=Lh(B))}}(i,u,tf,g=>{d.push(this.yn(e,t,r,g))},g=>{d.push(this.pn(e,t,r,g))}),pe.waitFor(d)}_n(e){let t=1;return $v(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,u)=>{u.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((d,g)=>tf(d,g)).filter((d,g,y)=>!g||0!==tf(d,y[g-1]));const i=[];i.push(e);for(const d of r){const g=tf(d,e),y=tf(d,t);if(0===g)i[0]=e.Ke();else if(g>0&&y<0)i.push(d),i.push(d.Ke());else if(y>0)break}i.push(t);const u=[];for(let d=0;d<i.length;d+=2)u.push(IDBKeyRange.bound([i[d].indexId,this.uid,i[d].arrayValue,i[d].directionalValue,qw,[]],[i[d+1].indexId,this.uid,i[d+1].arrayValue,i[d+1].directionalValue,qw,[]]));return u}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(HP)}getMinOffset(e,t){return pe.mapArray(this.tn(t),r=>this.en(e,r).next(i=>i||Et())).next(HP)}}function GP(n){return vi(n,"collectionParents")}function Bv(n){return vi(n,"indexEntries")}function Zw(n){return vi(n,"indexConfiguration")}function $v(n){return vi(n,"indexState")}function HP(n){Zt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;kh(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Oi(e.readTime,e.documentKey,t)}const zP={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class yo{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new yo(e,yo.DEFAULT_COLLECTION_PERCENTILE,yo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function qP(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),u=[],d=IDBKeyRange.only(t.batchId);let g=0;const y=r.Z({range:d},(T,O,V)=>(g++,V.delete()));u.push(y.next(()=>{Zt(1===g)}));const w=[];for(const T of t.mutations){const O=AP(e,T.key.path,t.batchId);u.push(i.delete(O)),w.push(T.key)}return pe.waitFor(u).next(()=>w)}function Ww(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Et();e=n.noDocument}return JSON.stringify(e).length}yo.DEFAULT_COLLECTION_PERCENTILE=10,yo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yo.DEFAULT=new yo(41943040,yo.DEFAULT_COLLECTION_PERCENTILE,yo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yo.DISABLED=new yo(-1,0,0);class Kw{constructor(e,t,r,i){this.userId=e,this.It=t,this.indexManager=r,this.referenceDelegate=i,this.In={}}static oe(e,t,r,i){Zt(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new Kw(u,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Zc(e).Z({index:"userMutationsIndex",range:r},(i,u,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const u=$g(e),d=Zc(e);return d.add({}).next(g=>{Zt("number"==typeof g);const y=new MD(g,t,r,i),w=function(V,B,X){const Se=X.baseMutations.map(ft=>al(V.re,ft)),Ne=X.mutations.map(ft=>al(V.re,ft));return{userId:B,batchId:X.batchId,localWriteTimeMs:X.localWriteTime.toMillis(),baseMutations:Se,mutations:Ne}}(this.It,this.userId,y),T=[];let O=new jn((V,B)=>Wt(V.canonicalString(),B.canonicalString()));for(const V of i){const B=AP(this.userId,V.key.path,g);O=O.add(V.key.path.popLast()),T.push(d.put(w)),T.push(u.put(B,u1))}return O.forEach(V=>{T.push(this.indexManager.addToCollectionParentIndex(e,V))}),e.addOnCommittedListener(()=>{this.In[g]=y.keys()}),pe.waitFor(T).next(()=>y)})}lookupMutationBatch(e,t){return Zc(e).get(t).next(r=>r?(Zt(r.userId===this.userId),Jh(this.It,r)):null)}Tn(e,t){return this.In[t]?pe.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.In[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return Zc(e).Z({index:"userMutationsIndex",range:i},(d,g,y)=>{g.userId===this.userId&&(Zt(g.batchId>=r),u=Jh(this.It,g)),y.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Zc(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(i,u,d)=>{r=u.batchId,d.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Zc(e).W("userMutationsIndex",t).next(r=>r.map(i=>Jh(this.It,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Gw(this.userId,t.path),i=IDBKeyRange.lowerBound(r),u=[];return $g(e).Z({range:i},(d,g,y)=>{const[w,T,O]=d,V=Qa(T);if(w===this.userId&&t.path.isEqual(V))return Zc(e).get(O).next(B=>{if(!B)throw Et();Zt(B.userId===this.userId),u.push(Jh(this.It,B))});y.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new jn(Wt);const i=[];return t.forEach(u=>{const d=Gw(this.userId,u.path),g=IDBKeyRange.lowerBound(d),y=$g(e).Z({range:g},(w,T,O)=>{const[V,B,X]=w,Se=Qa(B);V===this.userId&&u.path.isEqual(Se)?r=r.add(X):O.done()});i.push(y)}),pe.waitFor(i).next(()=>this.En(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,u=Gw(this.userId,r),d=IDBKeyRange.lowerBound(u);let g=new jn(Wt);return $g(e).Z({range:d},(y,w,T)=>{const[O,V,B]=y,X=Qa(V);O===this.userId&&r.isPrefixOf(X)?X.length===i&&(g=g.add(B)):T.done()}).next(()=>this.En(e,g))}En(e,t){const r=[],i=[];return t.forEach(u=>{i.push(Zc(e).get(u).next(d=>{if(null===d)throw Et();Zt(d.userId===this.userId),r.push(Jh(this.It,d))}))}),pe.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return qP(e.ie,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),pe.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return pe.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return $g(e).Z({range:r},(u,d,g)=>{if(u[0]===this.userId){const y=Qa(u[1]);i.push(y)}else g.done()}).next(()=>{Zt(0===i.length)})})}containsKey(e,t){return ZP(e,this.userId,t)}Rn(e){return WP(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function ZP(n,e,t){const r=Gw(e,t.path),i=r[1],u=IDBKeyRange.lowerBound(r);let d=!1;return $g(n).Z({range:u,X:!0},(g,y,w)=>{const[T,O,V]=g;T===e&&O===i&&(d=!0),w.done()}).next(()=>d)}function Zc(n){return vi(n,"mutations")}function $g(n){return vi(n,"documentMutations")}function WP(n){return vi(n,"mutationQueues")}class nf{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new nf(0)}static vn(){return new nf(-1)}}class N1{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const r=new nf(t.highestTargetId);return t.highestTargetId=r.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>$t.fromTimestamp(new sr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Vn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Sn(e,i)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(r=>(r.targetCount+=1,this.Cn(t,r),this.Sn(e,r))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>jg(e).delete(t.targetId)).next(()=>this.Vn(e)).next(r=>(Zt(r.targetCount>0),r.targetCount-=1,this.Sn(e,r)))}removeTargets(e,t,r){let i=0;const u=[];return jg(e).Z((d,g)=>{const y=Lv(g);y.sequenceNumber<=t&&null===r.get(y.targetId)&&(i++,u.push(this.removeTargetData(e,y)))}).next(()=>pe.waitFor(u)).next(()=>i)}forEachTarget(e,t){return jg(e).Z((r,i)=>{const u=Lv(i);t(u)})}Vn(e){return KP(e).get("targetGlobalKey").next(t=>(Zt(null!==t),t))}Sn(e,t){return KP(e).put("targetGlobalKey",t)}Dn(e,t){return jg(e).put(FP(this.It,t))}Cn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=si(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return jg(e).Z({range:i,index:"queryTargetsIndex"},(d,g,y)=>{const w=Lv(g);Ig(t,w.target)&&(u=w,y.done())}).next(()=>u)}addMatchingKeys(e,t,r){const i=[],u=Wc(e);return t.forEach(d=>{const g=Yi(d.path);i.push(u.put({targetId:r,path:g})),i.push(this.referenceDelegate.addReference(e,r,d))}),pe.waitFor(i)}removeMatchingKeys(e,t,r){const i=Wc(e);return pe.forEach(t,u=>{const d=Yi(u.path);return pe.waitFor([i.delete([r,d]),this.referenceDelegate.removeReference(e,r,u)])})}removeMatchingKeysForTargetId(e,t){const r=Wc(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Wc(e);let u=cn();return i.Z({range:r,X:!0},(d,g,y)=>{const w=Qa(d[1]),T=new lt(w);u=u.add(T)}).next(()=>u)}containsKey(e,t){const r=Yi(t.path),i=IDBKeyRange.bound([r],[gg(r)],!1,!0);let u=0;return Wc(e).Z({index:"documentTargetsIndex",X:!0,range:i},([d,g],y,w)=>{0!==d&&(u++,w.done())}).next(()=>u>0)}se(e,t){return jg(e).get(t).next(r=>r?Lv(r):null)}}function jg(n){return vi(n,"targets")}function KP(n){return vi(n,"targetGlobal")}function Wc(n){return vi(n,"targetDocuments")}function YP([n,e],[t,r]){const i=Wt(n,t);return 0===i?Wt(e,r):i}class k1{constructor(e){this.xn=e,this.buffer=new jn(YP),this.Nn=0}kn(){return++this.Nn}Mn(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();YP(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class F1{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.On=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.On&&(this.On.cancel(),this.On=null)}get started(){return null!==this.On}Fn(e){var t=this;ze("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ve.Z)(function*(){t.On=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Ha(r)?ze("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Ga(r)}yield t.Fn(3e5)}))}}class L1{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return pe.resolve(ki.at);const r=new k1(t);return this.$n.forEachTarget(e,i=>r.Mn(i.sequenceNumber)).next(()=>this.$n.Ln(e,i=>r.Mn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.$n.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(ze("LruGarbageCollector","Garbage collection skipped; disabled"),pe.resolve(zP)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ze("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),zP):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let r,i,u,d,g,y,w;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(O=>(O>this.params.maximumSequenceNumbersToCollect?(ze("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${O}`),i=this.params.maximumSequenceNumbersToCollect):i=O,d=Date.now(),this.nthSequenceNumber(e,i))).next(O=>(r=O,g=Date.now(),this.removeTargets(e,r,t))).next(O=>(u=O,y=Date.now(),this.removeOrphanedDocuments(e,r))).next(O=>(w=Date.now(),pg()<=Na.in.DEBUG&&ze("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-T}ms\n\tDetermined least recently used ${i} in `+(g-d)+`ms\n\tRemoved ${u} targets in `+(y-g)+`ms\n\tRemoved ${O} documents in `+(w-y)+`ms\nTotal Duration: ${w-T}ms`),pe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:u,documentsRemoved:O})))}}class V1{constructor(e,t){this.db=e,this.garbageCollector=new L1(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}qn(e){let t=0;return this.Ln(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(r,i)=>t(i))}addReference(e,t,r){return Yw(e,r)}removeReference(e,t,r){return Yw(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Yw(e,t)}Gn(e,t){return function(r,i){let u=!1;return WP(r).tt(d=>ZP(r,d,i).next(g=>(g&&(u=!0),pe.resolve(!g)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let u=0;return this.Kn(e,(d,g)=>{if(g<=t){const y=this.Gn(e,d).next(w=>{if(!w)return u++,r.getEntry(e,d).next(()=>(r.removeEntry(d,$t.min()),Wc(e).delete([0,Yi(d.path)])))});i.push(y)}}).next(()=>pe.waitFor(i)).next(()=>r.apply(e)).next(()=>u)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Yw(e,t)}Kn(e,t){const r=Wc(e);let i,u=ki.at;return r.Z({index:"documentTargetsIndex"},([d,g],{path:y,sequenceNumber:w})=>{0===d?(u!==ki.at&&t(new lt(Qa(i)),u),u=w,i=y):u=ki.at}).next(()=>{u!==ki.at&&t(new lt(Qa(i)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Yw(n,e){return Wc(n).put((r=n.currentSequenceNumber,{targetId:0,path:Yi(e.path),sequenceNumber:r}));var r}class QP{constructor(){this.changes=new Ya(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Wn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?pe.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class U1{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return rf(e).put(r)}removeEntry(e,t,r){return rf(e).delete(function(i,u){const d=i.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],Hw(u),d[d.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Qn(e,r)))}getEntry(e,t){let r=Wn.newInvalidDocument(t);return rf(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(jv(t))},(i,u)=>{r=this.jn(t,u)}).next(()=>r)}Wn(e,t){let r={size:0,document:Wn.newInvalidDocument(t)};return rf(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(jv(t))},(i,u)=>{r={document:this.jn(t,u),size:Ww(u)}}).next(()=>r)}getEntries(e,t){let r=Li();return this.zn(e,t,(i,u)=>{const d=this.jn(i,u);r=r.insert(i,d)}).next(()=>r)}Hn(e,t){let r=Li(),i=new Or(lt.comparator);return this.zn(e,t,(u,d)=>{const g=this.jn(u,d);r=r.insert(u,g),i=i.insert(u,Ww(d))}).next(()=>({documents:r,Jn:i}))}zn(e,t,r){if(t.isEmpty())return pe.resolve();let i=new jn(tA);t.forEach(y=>i=i.add(y));const u=IDBKeyRange.bound(jv(i.first()),jv(i.last())),d=i.getIterator();let g=d.getNext();return rf(e).Z({index:"documentKeyIndex",range:u},(y,w,T)=>{const O=lt.fromSegments([...w.prefixPath,w.collectionGroup,w.documentId]);for(;g&&tA(g,O)<0;)r(g,null),g=d.getNext();g&&g.isEqual(O)&&(r(g,w),g=d.hasNext()?d.getNext():null),g?T.j(jv(g)):T.done()}).next(()=>{for(;g;)r(g,null),g=d.hasNext()?d.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),Hw(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return rf(e).W(IDBKeyRange.bound(i,u,!0)).next(d=>{let g=Li();for(const y of d){const w=this.jn(lt.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);g=g.insert(w.key,w)}return g})}getAllFromCollectionGroup(e,t,r,i){let u=Li();const d=eA(t,r),g=eA(t,Oi.max());return rf(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,g,!0)},(y,w,T)=>{const O=this.jn(lt.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);u=u.insert(O.key,O),u.size===i&&T.done()}).next(()=>u)}newChangeBuffer(e){return new B1(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return XP(e).get("remoteDocumentGlobalKey").next(t=>(Zt(!!t),t))}Qn(e,t){return XP(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const r=function T1(n,e){let t;if(e.document)t=Vi(n.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=lt.fromSegments(e.noDocument.path),i=Qh(e.noDocument.readTime);t=Wn.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Et();{const r=lt.fromSegments(e.unknownDocument.path),i=Qh(e.unknownDocument.version);t=Wn.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new sr(r[0],r[1]);return $t.fromTimestamp(i)}(e.readTime)),t}(this.It,t);if(!r.isNoDocument()||!r.version.isEqual($t.min()))return r}return Wn.newInvalidDocument(e)}}function JP(n){return new U1(n)}class B1 extends QP{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Ya(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new jn((u,d)=>Wt(u.canonicalString(),d.canonicalString()));return this.changes.forEach((u,d)=>{const g=this.Xn.get(u);if(t.push(this.Yn.removeEntry(e,u,g.readTime)),d.isValidDocument()){const y=kP(this.Yn.It,d);i=i.add(u.path.popLast()),r+=Ww(y)-g.size,t.push(this.Yn.addEntry(e,u,y))}else if(r-=g.size,this.trackRemovals){const y=kP(this.Yn.It,d.convertToNoDocument($t.min()));t.push(this.Yn.addEntry(e,u,y))}}),i.forEach(u=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.Yn.updateMetadata(e,r)),pe.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(r=>(this.Xn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:r,Jn:i})=>(i.forEach((u,d)=>{this.Xn.set(u,{size:d,readTime:r.get(u).readTime})}),r))}}function XP(n){return vi(n,"remoteDocumentGlobal")}function rf(n){return vi(n,"remoteDocumentsV14")}function jv(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function eA(n,e){const t=e.documentKey.path.toArray();return[n,Hw(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function tA(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let u=0;u<t.length-2&&u<r.length-2;++u)if(i=Wt(t[u],r[u]),i)return i;return i=Wt(t.length,r.length),i||(i=Wt(t[t.length-2],r[r.length-2]),i||Wt(t[t.length-1],r[r.length-1]))}class $1{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class nA{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.getBaseDocument(e,t,r))).next(i=>(null!==r&&Hc(r.mutation,i,_o.empty(),sr.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,cn()).next(()=>r))}getLocalViewOfDocuments(e,t,r=cn()){const i=gs();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(u=>{let d=Wh();return u.forEach((g,y)=>{d=d.insert(g,y.overlayedDocument)}),d}))}getOverlayedDocuments(e,t){const r=gs();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,cn()))}populateOverlays(e,t,r){const i=[];return r.forEach(u=>{t.has(u)||i.push(u)}),this.documentOverlayCache.getOverlays(e,i).next(u=>{u.forEach((d,g)=>{t.set(d,g)})})}computeViews(e,t,r,i){let u=Li();const d=Sg(),g=Sg();return t.forEach((y,w)=>{const T=r.get(w.key);i.has(w.key)&&(void 0===T||T.mutation instanceof ps)?u=u.insert(w.key,w):void 0!==T&&(d.set(w.key,T.mutation.getFieldMask()),Hc(T.mutation,w,T.mutation.getFieldMask(),sr.now()))}),this.recalculateAndSaveOverlays(e,u).next(y=>(y.forEach((w,T)=>d.set(w,T)),t.forEach((w,T)=>{var O;return g.set(w,new $1(T,null!==(O=d.get(w))&&void 0!==O?O:null))}),g))}recalculateAndSaveOverlays(e,t){const r=Sg();let i=new Or((d,g)=>d-g),u=cn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(d=>{for(const g of d)g.keys().forEach(y=>{const w=t.get(y);if(null===w)return;let T=r.get(y)||_o.empty();T=g.applyToLocalView(w,T),r.set(y,T);const O=(i.get(g.batchId)||cn()).add(y);i=i.insert(g.batchId,O)})}).next(()=>{const d=[],g=i.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),w=y.key,T=y.value,O=ID();T.forEach(V=>{if(!u.has(V)){const B=kw(t.get(V),r.get(V));null!==B&&O.set(V,B),u=u.add(V)}}),d.push(this.documentOverlayCache.saveOverlays(e,w,O))}return pe.waitFor(d)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return lt.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Ev(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(u=>{const d=i-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-u.size):pe.resolve(gs());let g=-1,y=u;return d.next(w=>pe.forEach(w,(T,O)=>(g<O.largestBatchId&&(g=O.largestBatchId),u.get(T)?pe.resolve():this.getBaseDocument(e,T,O).next(V=>{y=y.insert(T,V)}))).next(()=>this.populateOverlays(e,w,u)).next(()=>this.computeViews(e,y,w,cn())).next(T=>({batchId:g,changes:jw(T)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new lt(t)).next(r=>{let i=Wh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let u=Wh();return this.indexManager.getCollectionParents(e,i).next(d=>pe.forEach(d,g=>{const y=(w=t,T=g.child(i),new Ws(T,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt));var w,T;return this.getDocumentsMatchingCollectionQuery(e,y,r).next(w=>{w.forEach((T,O)=>{u=u.insert(T,O)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(u=>(i=u,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(u=>{u.forEach((g,y)=>{const w=y.getKey();null===i.get(w)&&(i=i.insert(w,Wn.newInvalidDocument(w)))});let d=Wh();return i.forEach((g,y)=>{const w=u.get(g);void 0!==w&&Hc(w.mutation,y,_o.empty(),sr.now()),Tv(t,y)&&(d=d.insert(g,y))}),d})}getBaseDocument(e,t,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,t):pe.resolve(Wn.newInvalidDocument(t))}}class j1{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return pe.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:z(r.createTime)}),pe.resolve()}getNamedQuery(e,t){return pe.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:AD(r.bundledQuery),readTime:z(r.readTime)}),pe.resolve();var r}}class G1{constructor(){this.overlays=new Or(lt.comparator),this.es=new Map}getOverlay(e,t){return pe.resolve(this.overlays.get(t))}getOverlays(e,t){const r=gs();return pe.forEach(t,i=>this.getOverlay(e,i).next(u=>{null!==u&&r.set(i,u)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,u)=>{this.ue(e,t,u)}),pe.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(u=>this.overlays=this.overlays.remove(u)),this.es.delete(r)),pe.resolve()}getOverlaysForCollection(e,t,r){const i=gs(),u=t.length+1,d=new lt(t.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,w=y.getKey();if(!t.isPrefixOf(w.path))break;w.path.length===u&&y.largestBatchId>r&&i.set(y.getKey(),y)}return pe.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let u=new Or((w,T)=>w-T);const d=this.overlays.getIterator();for(;d.hasNext();){const w=d.getNext().value;if(w.getKey().getCollectionGroup()===t&&w.largestBatchId>r){let T=u.get(w.largestBatchId);null===T&&(T=gs(),u=u.insert(w.largestBatchId,T)),T.set(w.getKey(),w)}}const g=gs(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((w,T)=>g.set(w,T)),!(g.size()>=i)););return pe.resolve(g)}ue(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const d=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new PD(t,r));let u=this.es.get(t);void 0===u&&(u=cn(),this.es.set(t,u)),this.es.set(t,u.add(r.key))}}class RD{constructor(){this.ns=new jn(Ci.ss),this.rs=new jn(Ci.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new Ci(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new Ci(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new lt(new En([])),r=new Ci(t,e),i=new Ci(t,e+1),u=[];return this.rs.forEachInRange([r,i],d=>{this.cs(d),u.push(d.key)}),u}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new lt(new En([])),r=new Ci(t,e),i=new Ci(t,e+1);let u=cn();return this.rs.forEachInRange([r,i],d=>{u=u.add(d.key)}),u}containsKey(e){const t=new Ci(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Ci{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return lt.comparator(e.key,t.key)||Wt(e._s,t._s)}static os(e,t){return Wt(e._s,t._s)||lt.comparator(e.key,t.key)}}class H1{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new jn(Ci.ss)}checkEmpty(e){return pe.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const u=this.ws;this.ws++;const d=new MD(u,t,r,i);this.mutationQueue.push(d);for(const g of i)this.gs=this.gs.add(new Ci(g.key,u)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return pe.resolve(d)}lookupMutationBatch(e,t){return pe.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ps(t+1),u=i<0?0:i;return pe.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return pe.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return pe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ci(t,0),i=new Ci(t,Number.POSITIVE_INFINITY),u=[];return this.gs.forEachInRange([r,i],d=>{const g=this.ys(d._s);u.push(g)}),pe.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new jn(Wt);return t.forEach(i=>{const u=new Ci(i,0),d=new Ci(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([u,d],g=>{r=r.add(g._s)})}),pe.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let u=r;lt.isDocumentKey(u)||(u=u.child(""));const d=new Ci(new lt(u),0);let g=new jn(Wt);return this.gs.forEachWhile(y=>{const w=y.key.path;return!!r.isPrefixOf(w)&&(w.length===i&&(g=g.add(y._s)),!0)},d),pe.resolve(this.Is(g))}Is(e){const t=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Zt(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return pe.forEach(t.mutations,i=>{const u=new Ci(i.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new Ci(t,0),i=this.gs.firstAfterOrEqual(r);return pe.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return pe.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class z1{constructor(e){this.Es=e,this.docs=new Or(lt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),u=i?i.size:0,d=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return pe.resolve(r?r.document.mutableCopy():Wn.newInvalidDocument(t))}getEntries(e,t){let r=Li();return t.forEach(i=>{const u=this.docs.get(i);r=r.insert(i,u?u.document.mutableCopy():Wn.newInvalidDocument(i))}),pe.resolve(r)}getAllFromCollection(e,t,r){let i=Li();const u=new lt(t.child("")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:g,value:{document:y}}=d.getNext();if(!t.isPrefixOf(g.path))break;g.path.length>t.length+1||kh(fw(y),r)<=0||(i=i.insert(y.key,y.mutableCopy()))}return pe.resolve(i)}getAllFromCollectionGroup(e,t,r,i){Et()}As(e,t){return pe.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new q1(this)}getSize(e){return pe.resolve(this.size)}}class q1 extends QP{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),pe.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class Z1{constructor(e){this.persistence=e,this.Rs=new Ya(t=>si(t),Ig),this.lastRemoteSnapshotVersion=$t.min(),this.highestTargetId=0,this.bs=0,this.Ps=new RD,this.targetCount=0,this.vs=nf.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,i)=>t(i)),pe.resolve()}getLastRemoteSnapshotVersion(e){return pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pe.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),pe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),pe.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new nf(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,pe.resolve()}updateTargetData(e,t){return this.Dn(t),pe.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,pe.resolve()}removeTargets(e,t,r){let i=0;const u=[];return this.Rs.forEach((d,g)=>{g.sequenceNumber<=t&&null===r.get(g.targetId)&&(this.Rs.delete(d),u.push(this.removeMatchingKeysForTargetId(e,g.targetId)),i++)}),pe.waitFor(u).next(()=>i)}getTargetCount(e){return pe.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return pe.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),pe.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const i=this.persistence.referenceDelegate,u=[];return i&&t.forEach(d=>{u.push(i.markPotentiallyOrphaned(e,d))}),pe.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),pe.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return pe.resolve(r)}containsKey(e,t){return pe.resolve(this.Ps.containsKey(t))}}class rA{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new ki(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new Z1(this),this.indexManager=new S1,this.remoteDocumentCache=new z1(r=>this.referenceDelegate.xs(r)),this.It=new NP(t),this.Ns=new j1(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new G1,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new H1(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){ze("MemoryPersistence","Starting transaction:",e);const i=new W1(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(u=>this.referenceDelegate.Ms(i).next(()=>u)).toPromise().then(u=>(i.raiseOnCommittedEvent(),u))}Os(e,t){return pe.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class W1 extends pw{constructor(e){super(),this.currentSequenceNumber=e}}class Qw{constructor(e){this.persistence=e,this.Fs=new RD,this.$s=null}static Bs(e){return new Qw(e)}get Ls(){if(this.$s)return this.$s;throw Et()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),pe.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),pe.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),pe.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(u=>this.Ls.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Ms(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pe.forEach(this.Ls,r=>{const i=lt.fromPath(r);return this.Us(e,i).next(u=>{u||t.removeEntry(i,$t.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return pe.or([()=>pe.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Os(e,t)])}}class K1{constructor(e){this.It=e}$(e,t,r,i){const u=new yg("createOrUpgrade",t);var g;r<1&&i>=1&&(e.createObjectStore("owner"),(g=e).createObjectStore("mutationQueues",{keyPath:"userId"}),g.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",PP,{unique:!0}),g.createObjectStore("documentMutations"),iA(e),function(g){g.createObjectStore("remoteDocuments")}(e));let d=pe.resolve();return r<3&&i>=3&&(0!==r&&(function(g){g.deleteObjectStore("targetDocuments"),g.deleteObjectStore("targets"),g.deleteObjectStore("targetGlobal")}(e),iA(e)),d=d.next(()=>function(g){const y=g.store("targetGlobal"),w={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:$t.min().toTimestamp(),targetCount:0};return y.put("targetGlobalKey",w)}(u))),r<4&&i>=4&&(0!==r&&(d=d.next(()=>function(g,y){return y.store("mutations").W().next(w=>{g.deleteObjectStore("mutations"),g.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",PP,{unique:!0});const T=y.store("mutations"),O=w.map(V=>T.put(V));return pe.waitFor(O)})}(e,u))),d=d.next(()=>{!function(g){g.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(d=d.next(()=>this.qs(u))),r<6&&i>=6&&(d=d.next(()=>(function(g){g.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(u)))),r<7&&i>=7&&(d=d.next(()=>this.Gs(u))),r<8&&i>=8&&(d=d.next(()=>this.Qs(e,u))),r<9&&i>=9&&(d=d.next(()=>{!function(g){g.objectStoreNames.contains("remoteDocumentChanges")&&g.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(d=d.next(()=>this.js(u))),r<11&&i>=11&&(d=d.next(()=>{(function(g){g.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(g){g.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(d=d.next(()=>{!function(g){const y=g.createObjectStore("documentOverlays",{keyPath:C1});y.createIndex("collectionPathOverlayIndex",b1,{unique:!1}),y.createIndex("collectionGroupOverlayIndex",w1,{unique:!1})}(e)})),r<13&&i>=13&&(d=d.next(()=>function(g){const y=g.createObjectStore("remoteDocumentsV14",{keyPath:l1});y.createIndex("documentKeyIndex",c1),y.createIndex("collectionGroupIndex",d1)}(e)).next(()=>this.Ws(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(d=d.next(()=>this.zs(e,u))),r<15&&i>=15&&(d=d.next(()=>function(g){g.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),g.createObjectStore("indexState",{keyPath:m1}).createIndex("sequenceNumberIndex",_1,{unique:!1}),g.createObjectStore("indexEntries",{keyPath:y1}).createIndex("documentKeyIndex",v1,{unique:!1})}(e))),d}Ks(e){let t=0;return e.store("remoteDocuments").Z((r,i)=>{t+=Ww(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}qs(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(i=>pe.forEach(i,u=>{const d=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",d).next(g=>pe.forEach(g,y=>{Zt(y.userId===u.userId);const w=Jh(this.It,y);return qP(e,u.userId,w).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const u=[];return r.Z((d,g)=>{const y=new En(d),w=[0,Yi(y)];u.push(t.get(w).next(T=>T?pe.resolve():t.put({targetId:0,path:Yi(y),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>pe.waitFor(u))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:g1});const r=t.store("collectionParents"),i=new SD,u=d=>{if(i.add(d)){const g=d.lastSegment(),y=d.popLast();return r.put({collectionId:g,parent:Yi(y)})}};return t.store("remoteDocuments").Z({X:!0},(d,g)=>{const y=new En(d);return u(y.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([d,g,y],w)=>{const T=Qa(g);return u(T.popLast())}))}js(e){const t=e.store("targets");return t.Z((r,i)=>{const u=Lv(i),d=FP(this.It,u);return t.put(d)})}Ws(e,t){const r=t.store("remoteDocuments"),i=[];return r.Z((u,d)=>{const g=t.store("remoteDocumentsV14"),y=(w=d,w.document?new lt(En.fromString(w.document.name).popFirst(5)):w.noDocument?lt.fromSegments(w.noDocument.path):w.unknownDocument?lt.fromSegments(w.unknownDocument.path):Et()).path.toArray();var w;const T={prefixPath:y.slice(0,y.length-2),collectionGroup:y[y.length-2],documentId:y[y.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};i.push(g.put(T))}).next(()=>pe.waitFor(i))}zs(e,t){const r=t.store("mutations"),i=JP(this.It),u=new rA(Qw.Bs,this.It.re);return r.W().next(d=>{const g=new Map;return d.forEach(y=>{var w;let T=null!==(w=g.get(y.userId))&&void 0!==w?w:cn();Jh(this.It,y).keys().forEach(O=>T=T.add(O)),g.set(y.userId,T)}),pe.forEach(g,(y,w)=>{const T=new oi(w),O=zw.oe(this.It,T),V=u.getIndexManager(T),B=Kw.oe(T,this.It,V,u.referenceDelegate);return new nA(i,B,O,V).recalculateAndSaveOverlaysForDocumentKeys(new DD(t,ki.at),y).next()})})}}function iA(n){n.createObjectStore("targetDocuments",{keyPath:f1}).createIndex("documentTargetsIndex",p1,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",h1,{unique:!0}),n.createObjectStore("targetGlobal")}const ND="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class kD{constructor(e,t,r,i,u,d,g,y,w,T,O=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Hs=u,this.window=d,this.document=g,this.Js=w,this.Ys=T,this.Xs=O,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=V=>Promise.resolve(),!kD.C())throw new $e(ye.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new V1(this,i),this.ii=t+"main",this.It=new NP(y),this.ri=new mo(this.ii,this.Xs,new K1(this.It)),this.Cs=new N1(this.referenceDelegate,this.It),this.remoteDocumentCache=JP(this.It),this.Ns=new D1,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===T&&Mr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new $e(ye.FAILED_PRECONDITION,ND);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new ki(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var r=(0,ve.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,ve.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,ve.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Jw(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(Ha(e))return ze("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ze("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return Gv(e).get("owner").next(t=>pe.resolve(this.mi(t)))}gi(e){return Jw(e).delete(this.clientId)}yi(){var e=this;return(0,ve.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=vi(r,"clientMetadata");return i.W().next(u=>{const d=e.Ii(u,18e5),g=u.filter(y=>-1===d.indexOf(y));return pe.forEach(g,y=>i.delete(y.clientId)).next(()=>g)})}).catch(()=>[]);if(e.oi)for(const r of t)e.oi.removeItem(e.Ti(r.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?pe.resolve(!0):Gv(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new $e(ye.FAILED_PRECONDITION,ND);return!1}}return!(!this.networkEnabled||!this.inForeground)||Jw(e).W().next(r=>void 0===this.Ii(r,5e3).find(i=>{if(this.clientId!==i.clientId){const d=!this.inForeground&&i.inForeground,g=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||d&&g)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&ze("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ve.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new DD(t,ki.at);return e._i(r).next(()=>e.gi(r))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(r=>this.pi(r.updateTimeMs,t)&&!this.Ei(r.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>Jw(e).W().next(t=>this.Ii(t,18e5).map(r=>r.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return Kw.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new R1(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return zw.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,r){ze("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",u=15===(d=this.Xs)?I1:14===d?RP:13===d?SP:12===d?E1:11===d?xP:void Et();var d;let g;return this.ri.runTransaction(e,i,u,y=>(g=new DD(y,this.Ss?this.Ss.next():ki.at),"readwrite-primary"===t?this.fi(g).next(w=>!!w||this.di(g)).next(w=>{if(!w)throw Mr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new $e(ye.FAILED_PRECONDITION,sD);return r(g)}).next(w=>this.wi(g).next(()=>w)):this.Vi(g).next(()=>r(g)))).then(y=>(g.raiseOnCommittedEvent(),y))}Vi(e){return Gv(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new $e(ye.FAILED_PRECONDITION,ND)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Gv(e).put("owner",t)}static C(){return mo.C()}_i(e){const t=Gv(e);return t.get("owner").next(r=>this.mi(r)?(ze("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):pe.resolve())}pi(e,t){const r=Date.now();return!(e<r-t||e>r&&(Mr(`Detected an update time that is in the future: ${e} > ${r}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,Qt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const r=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return ze("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Mr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){Mr("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Gv(n){return vi(n,"owner")}function Jw(n){return vi(n,"clientMetadata")}function FD(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class LD{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=i}static Ci(e,t){let r=cn(),i=cn();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}return new LD(e,t.fromCache,r,i)}}class oA{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.ki(e,t).next(u=>u||this.Mi(e,t,i,r)).next(u=>u||this.Oi(e,t))}ki(e,t){if(pD(t))return pe.resolve(null);let r=Ki(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=Iv(t,null,"F"),r=Ki(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(u=>{const d=cn(...u);return this.Ni.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,r).next(y=>{const w=this.Fi(t,g);return this.$i(t,w,d,y.readTime)?this.ki(e,Iv(t,null,"F")):this.Bi(e,w,t,y)}))})))}Mi(e,t,r,i){return pD(t)||i.isEqual($t.min())?this.Oi(e,t):this.Ni.getDocuments(e,r).next(u=>{const d=this.Fi(t,u);return this.$i(t,d,r,i)?this.Oi(e,t):(pg()<=Na.in.DEBUG&&ze("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Sw(t)),this.Bi(e,d,t,cv(i,-1)))})}Fi(e,t){let r=new jn(Rw(e));return t.forEach((i,u)=>{Tv(e,u)&&(r=r.add(u))}),r}$i(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(i)>0)}Oi(e,t){return pg()<=Na.in.DEBUG&&ze("QueryEngine","Using full collection scan to execute query:",Sw(t)),this.Ni.getDocumentsMatchingQuery(e,t,Oi.min())}Bi(e,t,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(u=>(t.forEach(d=>{u=u.insert(d.key,d)}),u))}}class Y1{constructor(e,t,r,i){this.persistence=e,this.Li=t,this.It=i,this.Ui=new Or(Wt),this.qi=new Ya(u=>si(u),Ig),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nA(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function sA(n,e,t,r){return new Y1(n,e,t,r)}function aA(n,e){return VD.apply(this,arguments)}function VD(){return VD=(0,ve.Z)(function*(n,e){const t=dt(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(u=>(i=u,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(u=>{const d=[],g=[];let y=cn();for(const w of i){d.push(w.batchId);for(const T of w.mutations)y=y.add(T.key)}for(const w of u){g.push(w.batchId);for(const T of w.mutations)y=y.add(T.key)}return t.localDocuments.getDocuments(r,y).next(w=>({ji:w,removedBatchIds:d,addedBatchIds:g}))})})}),VD.apply(this,arguments)}function Q1(n,e){const t=dt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),u=t.Gi.newChangeBuffer({trackRemovals:!0});return function(d,g,y,w){const T=y.batch,O=T.keys();let V=pe.resolve();return O.forEach(B=>{V=V.next(()=>w.getEntry(g,B)).next(X=>{const Se=y.docVersions.get(B);Zt(null!==Se),X.version.compareTo(Se)<0&&(T.applyToRemoteDocument(X,y),X.isValidDocument()&&(X.setReadTime(y.commitVersion),w.addEntry(X)))})}),V.next(()=>d.mutationQueue.removeMutationBatch(g,T))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let g=cn();for(let y=0;y<d.mutationResults.length;++y)d.mutationResults[y].transformResults.length>0&&(g=g.add(d.batch.mutations[y].key));return g}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function uA(n){const e=dt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function J1(n,e){const t=dt(n),r=e.snapshotVersion;let i=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const d=t.Gi.newChangeBuffer({trackRemovals:!0});i=t.Ui;const g=[];e.targetChanges.forEach((T,O)=>{const V=i.get(O);if(!V)return;g.push(t.Cs.removeMatchingKeys(u,T.removedDocuments,O).next(()=>t.Cs.addMatchingKeys(u,T.addedDocuments,O)));let B=V.withSequenceNumber(u.currentSequenceNumber);var X,Se,Ne;e.targetMismatches.has(O)?B=B.withResumeToken(Ir.EMPTY_BYTE_STRING,$t.min()).withLastLimboFreeSnapshotVersion($t.min()):T.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(T.resumeToken,r)),i=i.insert(O,B),Se=B,Ne=T,(0===(X=V).resumeToken.approximateByteSize()||Se.snapshotVersion.toMicroseconds()-X.snapshotVersion.toMicroseconds()>=3e8||Ne.addedDocuments.size+Ne.modifiedDocuments.size+Ne.removedDocuments.size>0)&&g.push(t.Cs.updateTargetData(u,B))});let y=Li(),w=cn();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&g.push(t.persistence.referenceDelegate.updateLimboDocument(u,T))}),g.push(lA(u,d,e.documentUpdates).next(T=>{y=T.Wi,w=T.zi})),!r.isEqual($t.min())){const T=t.Cs.getLastRemoteSnapshotVersion(u).next(O=>t.Cs.setTargetsMetadata(u,u.currentSequenceNumber,r));g.push(T)}return pe.waitFor(g).next(()=>d.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,y,w)).next(()=>y)}).then(u=>(t.Ui=i,u))}function lA(n,e,t){let r=cn(),i=cn();return t.forEach(u=>r=r.add(u)),e.getEntries(n,r).next(u=>{let d=Li();return t.forEach((g,y)=>{const w=u.get(g);y.isFoundDocument()!==w.isFoundDocument()&&(i=i.add(g)),y.isNoDocument()&&y.version.isEqual($t.min())?(e.removeEntry(g,y.readTime),d=d.insert(g,y)):!w.isValidDocument()||y.version.compareTo(w.version)>0||0===y.version.compareTo(w.version)&&w.hasPendingWrites?(e.addEntry(y),d=d.insert(g,y)):ze("LocalStore","Ignoring outdated watch update for ",g,". Current version:",w.version," Watch version:",y.version)}),{Wi:d,zi:i}})}function X1(n,e){const t=dt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Gg(n,e){const t=dt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Cs.getTargetData(r,e).next(u=>u?(i=u,pe.resolve(i)):t.Cs.allocateTargetId(r).next(d=>(i=new qc(e,d,0,r.currentSequenceNumber),t.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ui.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(r.targetId,r),t.qi.set(e,r.targetId)),r})}function Hg(n,e,t){return UD.apply(this,arguments)}function UD(){return UD=(0,ve.Z)(function*(n,e,t){const r=dt(n),i=r.Ui.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,d=>r.persistence.referenceDelegate.removeTarget(d,i)))}catch(d){if(!Ha(d))throw d;ze("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ui=r.Ui.remove(e),r.qi.delete(i.target)}),UD.apply(this,arguments)}function Xw(n,e,t){const r=dt(n);let i=$t.min(),u=cn();return r.persistence.runTransaction("Execute query","readonly",d=>function(g,y,w){const T=dt(g),O=T.qi.get(w);return void 0!==O?pe.resolve(T.Ui.get(O)):T.Cs.getTargetData(y,w)}(r,d,Ki(e)).next(g=>{if(g)return i=g.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(d,g.targetId).next(y=>{u=y})}).next(()=>r.Li.getDocumentsMatchingQuery(d,e,t?i:$t.min(),t?u:cn())).next(g=>(hA(r,zh(e),g),{documents:g,Hi:u})))}function cA(n,e){const t=dt(n),r=dt(t.Cs),i=t.Ui.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",u=>r.se(u,e).next(d=>d?d.target:null))}function dA(n,e){const t=dt(n),r=t.Ki.get(e)||$t.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Gi.getAllFromCollectionGroup(i,e,cv(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(hA(t,e,i),i))}function hA(n,e,t){let r=$t.min();t.forEach((i,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.Ki.set(e,r)}function BD(){return BD=(0,ve.Z)(function*(n,e,t,r){const i=dt(n);let u=cn(),d=Li();for(const w of t){const T=e.Ji(w.metadata.name);w.document&&(u=u.add(T));const O=e.Yi(w);O.setReadTime(e.Xi(w.metadata.readTime)),d=d.insert(T,O)}const g=i.Gi.newChangeBuffer({trackRemovals:!0}),y=yield Gg(i,(w=r,Ki(Hh(En.fromString(`__bundle__/docs/${w}`)))));var w;return i.persistence.runTransaction("Apply bundle documents","readwrite",w=>lA(w,g,d).next(T=>(g.apply(w),T)).next(T=>i.Cs.removeMatchingKeysForTargetId(w,y.targetId).next(()=>i.Cs.addMatchingKeys(w,u,y.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(w,T.Wi,T.zi)).next(()=>T.Wi)))}),BD.apply(this,arguments)}function tR(n,e){return $D.apply(this,arguments)}function $D(){return $D=(0,ve.Z)(function*(n,e,t=cn()){const r=yield Gg(n,Ki(AD(e.bundledQuery))),i=dt(n);return i.persistence.runTransaction("Save named query","readwrite",u=>{const d=z(e.readTime);if(r.snapshotVersion.compareTo(d)>=0)return i.Ns.saveNamedQuery(u,e);const g=r.withResumeToken(Ir.EMPTY_BYTE_STRING,d);return i.Ui=i.Ui.insert(g.targetId,g),i.Cs.updateTargetData(u,g).next(()=>i.Cs.removeMatchingKeysForTargetId(u,r.targetId)).next(()=>i.Cs.addMatchingKeys(u,t,r.targetId)).next(()=>i.Ns.saveNamedQuery(u,e))})}),$D.apply(this,arguments)}function fA(n,e){return`firestore_clients_${n}_${e}`}function pA(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function jD(n,e){return`firestore_targets_${n}_${e}`}class eE{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Zi(e,t,r){const i=JSON.parse(r);let u,d="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return d&&i.error&&(d="string"==typeof i.error.message&&"string"==typeof i.error.code,d&&(u=new $e(i.error.code,i.error.message))),d?new eE(e,t,i.state,u):(Mr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Hv{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Zi(e,t){const r=JSON.parse(t);let i,u="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(i=new $e(r.error.code,r.error.message))),u?new Hv(e,r.state,i):(Mr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class tE{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,u=Sv();for(let d=0;i&&d<r.activeTargetIds.length;++d)i=gv(r.activeTargetIds[d]),u=u.add(r.activeTargetIds[d]);return i?new tE(e,u):(Mr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class GD{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new GD(t.clientId,t.onlineState):(Mr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class HD{constructor(){this.activeTargetIds=Sv()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zD{constructor(e,t,r,i,u){this.window=e,this.Hs=t,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Or(Wt),this.started=!1,this.cr=[];const d=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.ar=fA(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new HD),this.lr=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(g){return`firestore_bundle_loaded_v2_${g}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ve.Z)(function*(){const t=yield e.syncEngine.vi();for(const i of t){if(i===e.sr)continue;const u=e.getItem(fA(e.persistenceKey,i));if(u){const d=tE.Zi(i,u);d&&(e.ur=e.ur.insert(d.clientId,d))}}e.gr();const r=e.storage.getItem(e.wr);if(r){const i=e.yr(r);i&&e.pr(i)}for(const i of e.cr)e.rr(i);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,r){this.Tr(e,t,r),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(jD(this.persistenceKey,e));if(r){const i=Hv.Zi(e,r);i&&(t=i.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(jD(this.persistenceKey,e))}updateQueryState(e,t,r){this.Rr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Er(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return ze("SharedClientState","READ",e,t),t}setItem(e,t){ze("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){ze("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(ze("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ar)return void Mr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,ve.Z)(function*(){if(t.started){if(null!==r.key)if(t.lr.test(r.key)){if(null==r.newValue){const i=t.vr(r.key);return t.Vr(i,null)}{const i=t.Sr(r.key,r.newValue);if(i)return t.Vr(i.clientId,i)}}else if(t.dr.test(r.key)){if(null!==r.newValue){const i=t.Dr(r.key,r.newValue);if(i)return t.Cr(i)}}else if(t._r.test(r.key)){if(null!==r.newValue){const i=t.Nr(r.key,r.newValue);if(i)return t.kr(i)}}else if(r.key===t.wr){if(null!==r.newValue){const i=t.yr(r.newValue);if(i)return t.pr(i)}}else if(r.key===t.hr){const i=function(u){let d=ki.at;if(null!=u)try{const g=JSON.parse(u);Zt("number"==typeof g),d=g}catch(g){Mr("SharedClientState","Failed to read sequence number from WebStorage",g)}return d}(r.newValue);i!==ki.at&&t.sequenceNumberHandler(i)}else if(r.key===t.mr){const i=t.Mr(r.newValue);yield Promise.all(i.map(u=>t.syncEngine.Or(u)))}}else t.cr.push(r)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,r){const i=new eE(this.currentUser,e,t,r),u=pA(this.persistenceKey,this.currentUser,e);this.setItem(u,i.tr())}Er(e){const t=pA(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,r){const i=jD(this.persistenceKey,e),u=new Hv(e,t,r);this.setItem(i,u.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const r=this.vr(e);return tE.Zi(r,t)}Dr(e,t){const r=this.dr.exec(e),i=Number(r[1]);return eE.Zi(new oi(void 0!==r[2]?r[2]:null),i,t)}Nr(e,t){const r=this._r.exec(e),i=Number(r[1]);return Hv.Zi(i,t)}yr(e){return GD.Zi(e)}Mr(e){return JSON.parse(e)}Cr(e){var t=this;return(0,ve.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);ze("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),u=this.Ir(r),d=[],g=[];return u.forEach(y=>{i.has(y)||d.push(y)}),i.forEach(y=>{u.has(y)||g.push(y)}),this.syncEngine.Br(d,g).then(()=>{this.ur=r})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=Sv();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class gA{constructor(){this.Lr=new HD,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,r){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new HD,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class nR{qr(e){}shutdown(){}}class mA{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){ze("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){ze("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const rR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class iR{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class oR extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,r,i,u){const d=this.ao(e,t);ze("RestConnection","Sending: ",d,r);const g={};return this.ho(g,i,u),this.lo(e,d,g,r).then(y=>(ze("RestConnection","Received: ",y),y),y=>{throw el("RestConnection",`${e} failed with error: `,y,"url: ",d,"request:",r),y})}fo(e,t,r,i,u,d){return this.co(e,t,r,i,u)}ho(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+$a,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,u)=>e[u]=i),r&&r.headers.forEach((i,u)=>e[u]=i)}ao(e,t){return`${this.oo}/v1/${t}:${rR[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,t,r,i){return new Promise((u,d)=>{const g=new tD;g.listenOnce(eD.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case rv.NO_ERROR:const w=g.getResponseJson();ze("Connection","XHR received:",JSON.stringify(w)),u(w);break;case rv.TIMEOUT:ze("Connection",'RPC "'+e+'" timed out'),d(new $e(ye.DEADLINE_EXCEEDED,"Request time out"));break;case rv.HTTP_ERROR:const T=g.getStatus();if(ze("Connection",'RPC "'+e+'" failed with status:',T,"response text:",g.getResponseText()),T>0){const O=g.getResponseJson().error;if(O&&O.status&&O.message){const V=function(B){const X=B.toLowerCase().replace(/_/g,"-");return Object.values(ye).indexOf(X)>=0?X:ye.UNKNOWN}(O.status);d(new $e(V,O.message))}else d(new $e(ye.UNKNOWN,"Server responded with status "+g.getStatus()))}else d(new $e(ye.UNAVAILABLE,"Connection failed."));break;default:Et()}}finally{ze("Connection",'RPC "'+e+'" completed.')}});const y=JSON.stringify(i);g.send(t,"POST",y,r,15)})}_o(e,t,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=hg(),d=fg(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(g.xmlHttpFactory=new ov({})),this.ho(g.initMessageHeaders,t,r),g.encodeInitMessageHeaders=!0;const y=i.join("");ze("Connection","Creating WebChannel: "+y,g);const w=u.createWebChannel(y,g);let T=!1,O=!1;const V=new iR({Hr:X=>{O?ze("Connection","Not sending because WebChannel is closed:",X):(T||(ze("Connection","Opening WebChannel transport."),w.open(),T=!0),ze("Connection","WebChannel sending:",X),w.send(X))},Jr:()=>w.close()}),B=(X,Se,Ne)=>{X.listen(Se,ft=>{try{Ne(ft)}catch(Nt){setTimeout(()=>{throw Nt},0)}})};return B(w,Sh.EventType.OPEN,()=>{O||ze("Connection","WebChannel transport opened.")}),B(w,Sh.EventType.CLOSE,()=>{O||(O=!0,ze("Connection","WebChannel transport closed"),V.io())}),B(w,Sh.EventType.ERROR,X=>{O||(O=!0,el("Connection","WebChannel transport errored:",X),V.io(new $e(ye.UNAVAILABLE,"The operation could not be completed")))}),B(w,Sh.EventType.MESSAGE,X=>{var Se;if(!O){const Ne=X.data[0];Zt(!!Ne);const ft=Ne,Nt=ft.error||(null===(Se=ft[0])||void 0===Se?void 0:Se.error);if(Nt){ze("Connection","WebChannel received error:",Nt);const Pt=Nt.status;let wt=function(on){const Pr=kr[on];if(void 0!==Pr)return Bw(Pr)}(Pt),Ht=Nt.message;void 0===wt&&(wt=ye.INTERNAL,Ht="Unknown error status: "+Pt+" with message "+Nt.message),O=!0,V.io(new $e(wt,Ht)),w.close()}else ze("Connection","WebChannel received:",Ne),V.ro(Ne)}}),B(d,ow.STAT_EVENT,X=>{X.stat===iv.PROXY?ze("Connection","Detected buffering proxy"):X.stat===iv.NOPROXY&&ze("Connection","Detected no buffering proxy")}),setTimeout(()=>{V.so()},0),V}}function _A(){return typeof window<"u"?window:null}function nE(){return typeof document<"u"?document:null}function zv(n){return new E(n,!0)}class qD{constructor(e,t,r=1e3,i=1.5,u=6e4){this.Hs=e,this.timerId=t,this.wo=r,this.mo=i,this.yo=u,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const t=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,t-r);i>0&&ze("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.po} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class yA{constructor(e,t,r,i,u,d,g,y){this.Hs=e,this.Po=r,this.vo=i,this.Vo=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new qD(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var e=this;return(0,ve.Z)(function*(){e.No()&&(yield e.close(0))})()}Oo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,ve.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var r=this;return(0,ve.Z)(function*(){r.Lo(),r.Uo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():t&&t.code===ye.RESOURCE_EXHAUSTED?(Mr(t.toString()),Mr("Using maximum backoff delay to prevent overloading the backend."),r.xo.Eo()):t&&t.code===ye.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.qo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===t&&this.Go(r,i)},r=>{e(()=>{const i=new $e(ye.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,t){const r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Mo(){var e=this;this.state=5,this.xo.Ao((0,ve.Z)(function*(){e.state=0,e.start()}))}Qo(e){return ze("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(ze("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class sR extends yA{constructor(e,t,r,i,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,d),this.It=u}jo(e,t){return this.Vo._o("Listen",e,t)}onMessage(e){this.xo.reset();const t=function Nv(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(y=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===y?1:"REMOVE"===y?2:"CURRENT"===y?3:"RESET"===y?4:Et(),i=e.targetChange.targetIds||[],u=function(y,w){return y.gt?(Zt(void 0===w||"string"==typeof w),Ir.fromBase64String(w||"")):(Zt(void 0===w||w instanceof Uint8Array),Ir.fromUint8Array(w||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(y){const w=void 0===y.code?ye.UNKNOWN:Bw(y.code);return new $e(w,y.message||"")}(d);t=new s(r,i,u,g||null)}else if("documentChange"in e){const r=e.documentChange,i=nt(n,r.document.name),u=z(r.document.updateTime),d=new Yr({mapValue:{fields:r.document.fields}}),g=Wn.newFoundDocument(i,u,d);t=new Rv(r.targetIds||[],r.removedTargetIds||[],g.key,g)}else if("documentDelete"in e){const r=e.documentDelete,i=nt(n,r.document),u=r.readTime?z(r.readTime):$t.min(),d=Wn.newNoDocument(i,u);t=new Rv([],r.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const r=e.documentRemove,i=nt(n,r.document);t=new Rv([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Et();{const r=e.filter,u=new bD(r.count||0);t=new o(r.targetId,u)}}var y;return t}(this.It,e),r=function(i){if(!("targetChange"in i))return $t.min();const u=i.targetChange;return u.targetIds&&u.targetIds.length?$t.min():u.readTime?z(u.readTime):$t.min()}(e);return this.listener.Wo(t,r)}zo(e){const t={};t.database=Ot(this.It),t.addTarget=function(i,u){let d;const g=u.target;return d=Tg(g)?{documents:kg(i,g)}:{query:Fg(i,g)},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0?d.resumeToken=M(i,u.resumeToken):u.snapshotVersion.compareTo($t.min())>0&&(d.readTime=I(i,u.snapshotVersion.toTimestamp())),d}(this.It,e);const r=function Fv(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Et()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Bo(t)}Ho(e){const t={};t.database=Ot(this.It),t.removeTarget=e,this.Bo(t)}}class aR extends yA{constructor(e,t,r,i,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,d),this.It=u,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.Vo._o("Write",e,t)}onMessage(e){if(Zt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function kv(n,e){return n&&n.length>0?(Zt(void 0!==e),n.map(t=>function(r,i){let u=z(r.updateTime?r.updateTime:i);return u.isEqual($t.min())&&(u=z(i)),new Nw(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=z(e.commitTime);return this.listener.Zo(r,t)}return Zt(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Ot(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>al(this.It,r))};this.Bo(t)}}class uR extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.Vo=r,this.It=i,this.nu=!1}su(){if(this.nu)throw new $e(ye.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,u])=>this.Vo.co(e,t,r,i,u)).catch(i=>{throw"FirebaseError"===i.name?(i.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new $e(ye.UNKNOWN,i.toString())})}fo(e,t,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.Vo.fo(e,t,r,u,d,i)).catch(u=>{throw"FirebaseError"===u.name?(u.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new $e(ye.UNKNOWN,u.toString())})}terminate(){this.nu=!0}}class lR{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Mr(t),this.ou=!1):ze("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class cR{constructor(e,t,r,i,u){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=u,this.mu.qr(g=>{r.enqueueAndForget((0,ve.Z)(function*(){var y;Kc(d)&&(ze("RemoteStore","Restarting streams for network reachability change."),yield(y=(0,ve.Z)(function*(w){const T=dt(w);T._u.add(4),yield zg(T),T.gu.set("Unknown"),T._u.delete(4),yield qv(T)}),function(w){return y.apply(this,arguments)})(d))}))}),this.gu=new lR(r,i)}}function qv(n){return ZD.apply(this,arguments)}function ZD(){return ZD=(0,ve.Z)(function*(n){if(Kc(n))for(const e of n.wu)yield e(!0)}),ZD.apply(this,arguments)}function zg(n){return WD.apply(this,arguments)}function WD(){return WD=(0,ve.Z)(function*(n){for(const e of n.wu)yield e(!1)}),WD.apply(this,arguments)}function rE(n,e){const t=dt(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),QD(t)?YD(t):Zg(t).ko()&&KD(t,e))}function Zv(n,e){const t=dt(n),r=Zg(t);t.du.delete(e),r.ko()&&vA(t,e),0===t.du.size&&(r.ko()?r.Fo():Kc(t)&&t.gu.set("Unknown"))}function KD(n,e){n.yu.Ot(e.targetId),Zg(n).zo(e)}function vA(n,e){n.yu.Ot(e),Zg(n).Ho(e)}function YD(n){n.yu=new c({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),se:e=>n.du.get(e)||null}),Zg(n).start(),n.gu.uu()}function QD(n){return Kc(n)&&!Zg(n).No()&&n.du.size>0}function Kc(n){return 0===dt(n)._u.size}function CA(n){n.yu=void 0}function dR(n){return JD.apply(this,arguments)}function JD(){return JD=(0,ve.Z)(function*(n){n.du.forEach((e,t)=>{KD(n,e)})}),JD.apply(this,arguments)}function hR(n,e){return XD.apply(this,arguments)}function XD(){return XD=(0,ve.Z)(function*(n,e){CA(n),QD(n)?(n.gu.hu(e),YD(n)):n.gu.set("Unknown")}),XD.apply(this,arguments)}function fR(n,e,t){return eM.apply(this,arguments)}function eM(){return eM=(0,ve.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof s&&2===e.state&&e.cause)try{yield(r=(0,ve.Z)(function*(i,u){const d=u.cause;for(const g of u.targetIds)i.du.has(g)&&(yield i.remoteSyncer.rejectListen(g,d),i.du.delete(g),i.yu.removeTarget(g))}),function(i,u){return r.apply(this,arguments)})(n,e)}catch(r){ze("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield iE(n,r)}else if(e instanceof Rv?n.yu.Gt(e):e instanceof o?n.yu.Yt(e):n.yu.Wt(e),!t.isEqual($t.min()))try{const r=yield uA(n.localStore);t.compareTo(r)>=0&&(yield function(i,u){const d=i.yu.te(u);return d.targetChanges.forEach((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const w=i.du.get(y);w&&i.du.set(y,w.withResumeToken(g.resumeToken,u))}}),d.targetMismatches.forEach(g=>{const y=i.du.get(g);if(!y)return;i.du.set(g,y.withResumeToken(Ir.EMPTY_BYTE_STRING,y.snapshotVersion)),vA(i,g);const w=new qc(y.target,g,1,y.sequenceNumber);KD(i,w)}),i.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(r){ze("RemoteStore","Failed to raise snapshot:",r),yield iE(n,r)}var r}),eM.apply(this,arguments)}function iE(n,e,t){return tM.apply(this,arguments)}function tM(){return tM=(0,ve.Z)(function*(n,e,t){if(!Ha(e))throw e;n._u.add(1),yield zg(n),n.gu.set("Offline"),t||(t=()=>uA(n.localStore)),n.asyncQueue.enqueueRetryable((0,ve.Z)(function*(){ze("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield qv(n)}))}),tM.apply(this,arguments)}function bA(n,e){return e().catch(t=>iE(n,t,e))}function qg(n){return nM.apply(this,arguments)}function nM(){return nM=(0,ve.Z)(function*(n){const e=dt(n),t=Yc(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;pR(e);)try{const i=yield X1(e.localStore,r);if(null===i){0===e.fu.length&&t.Fo();break}r=i.batchId,gR(e,i)}catch(i){yield iE(e,i)}wA(e)&&EA(e)}),nM.apply(this,arguments)}function pR(n){return Kc(n)&&n.fu.length<10}function gR(n,e){n.fu.push(e);const t=Yc(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function wA(n){return Kc(n)&&!Yc(n).No()&&n.fu.length>0}function EA(n){Yc(n).start()}function mR(n){return rM.apply(this,arguments)}function rM(){return rM=(0,ve.Z)(function*(n){Yc(n).eu()}),rM.apply(this,arguments)}function _R(n){return iM.apply(this,arguments)}function iM(){return iM=(0,ve.Z)(function*(n){const e=Yc(n);for(const t of n.fu)e.Xo(t.mutations)}),iM.apply(this,arguments)}function yR(n,e,t){return oM.apply(this,arguments)}function oM(){return oM=(0,ve.Z)(function*(n,e,t){const r=n.fu.shift(),i=OD.from(r,e,t);yield bA(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield qg(n)}),oM.apply(this,arguments)}function vR(n,e){return sM.apply(this,arguments)}function sM(){return sM=(0,ve.Z)(function*(n,e){var t;e&&Yc(n).Yo&&(yield(t=(0,ve.Z)(function*(r,i){if(wD(u=i.code)&&u!==ye.ABORTED){const d=r.fu.shift();Yc(r).Oo(),yield bA(r,()=>r.remoteSyncer.rejectFailedWrite(d.batchId,i)),yield qg(r)}var u}),function(r,i){return t.apply(this,arguments)})(n,e)),wA(n)&&EA(n)}),sM.apply(this,arguments)}function IA(n,e){return aM.apply(this,arguments)}function aM(){return aM=(0,ve.Z)(function*(n,e){const t=dt(n);t.asyncQueue.verifyOperationInProgress(),ze("RemoteStore","RemoteStore received new credentials");const r=Kc(t);t._u.add(3),yield zg(t),r&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield qv(t)}),aM.apply(this,arguments)}function uM(n,e){return lM.apply(this,arguments)}function lM(){return lM=(0,ve.Z)(function*(n,e){const t=dt(n);e?(t._u.delete(2),yield qv(t)):e||(t._u.add(2),yield zg(t),t.gu.set("Unknown"))}),lM.apply(this,arguments)}function Zg(n){return n.pu||(n.pu=function(e,t,r){const i=dt(e);return i.su(),new sR(t,i.Vo,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:dR.bind(null,n),Zr:hR.bind(null,n),Wo:fR.bind(null,n)}),n.wu.push(function(){var e=(0,ve.Z)(function*(t){t?(n.pu.Oo(),QD(n)?YD(n):n.gu.set("Unknown")):(yield n.pu.stop(),CA(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function Yc(n){return n.Iu||(n.Iu=function(e,t,r){const i=dt(e);return i.su(),new aR(t,i.Vo,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:mR.bind(null,n),Zr:vR.bind(null,n),tu:_R.bind(null,n),Zo:yR.bind(null,n)}),n.wu.push(function(){var e=(0,ve.Z)(function*(t){t?(n.Iu.Oo(),yield qg(n)):(yield n.Iu.stop(),n.fu.length>0&&(ze("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class cM{constructor(e,t,r,i,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=u,this.deferred=new Hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,r,i,u){const d=Date.now()+r,g=new cM(e,t,d,i,u);return g.start(r),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new $e(ye.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wg(n,e){if(Mr("AsyncQueue",`${e}: ${n}`),Ha(n))return new $e(ye.UNAVAILABLE,`${e}: ${n}`);throw n}class Kg{constructor(e){this.comparator=e?(t,r)=>e(t,r)||lt.comparator(t.key,r.key):(t,r)=>lt.comparator(t.key,r.key),this.keyedMap=Wh(),this.sortedSet=new Or(this.comparator)}static emptySet(e){return new Kg(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Kg)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,u=r.getNext().key;if(!i.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Kg;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class TA{constructor(){this.Tu=new Or(lt.comparator)}track(e){const t=e.doc.key,r=this.Tu.get(t);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(t):1===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):Et():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Yg{constructor(e,t,r,i,u,d,g,y){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y}static fromInitialDocuments(e,t,r,i){const u=[];return t.forEach(d=>{u.push({type:0,doc:d})}),new Yg(e,t,Kg.emptySet(t),u,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class CR{constructor(){this.Au=void 0,this.listeners=[]}}class bR{constructor(){this.queries=new Ya(e=>gD(e),Mg),this.onlineState="Unknown",this.Ru=new Set}}function dM(n,e){return hM.apply(this,arguments)}function hM(){return hM=(0,ve.Z)(function*(n,e){const t=dt(n),r=e.query;let i=!1,u=t.queries.get(r);if(u||(i=!0,u=new CR),i)try{u.Au=yield t.onListen(r)}catch(d){const g=Wg(d,`Initialization of query '${Sw(e.query)}' failed`);return void e.onError(g)}t.queries.set(r,u),u.listeners.push(e),e.bu(t.onlineState),u.Au&&e.Pu(u.Au)&&gM(t)}),hM.apply(this,arguments)}function fM(n,e){return pM.apply(this,arguments)}function pM(){return pM=(0,ve.Z)(function*(n,e){const t=dt(n),r=e.query;let i=!1;const u=t.queries.get(r);if(u){const d=u.listeners.indexOf(e);d>=0&&(u.listeners.splice(d,1),i=0===u.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),pM.apply(this,arguments)}function wR(n,e){const t=dt(n);let r=!1;for(const i of e){const d=t.queries.get(i.query);if(d){for(const g of d.listeners)g.Pu(i)&&(r=!0);d.Au=i}}r&&gM(t)}function ER(n,e,t){const r=dt(n),i=r.queries.get(e);if(i)for(const u of i.listeners)u.onError(t);r.queries.delete(e)}function gM(n){n.Ru.forEach(e=>{e.next()})}class mM{constructor(e,t,r){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Yg(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||!(this.options.Nu&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=Yg.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}class IR{constructor(e,t){this.payload=e,this.byteLength=t}ku(){return"metadata"in this.payload}}class DA{constructor(e){this.It=e}Ji(e){return nt(this.It,e)}Yi(e){return e.metadata.exists?Vi(this.It,e.document,!1):Wn.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return z(e)}}class TR{constructor(e,t,r){this.Mu=e,this.localStore=t,this.It=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=MA(e)}Ou(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=En.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Fu(e){const t=new Map,r=new DA(this.It);for(const i of e)if(i.metadata.queries){const u=r.Ji(i.metadata.name);for(const d of i.metadata.queries){const g=(t.get(d)||cn()).add(u);t.set(d,g)}}return t}complete(){var e=this;return(0,ve.Z)(function*(){const t=yield function eR(n,e,t,r){return BD.apply(this,arguments)}(e.localStore,new DA(e.It),e.documents,e.Mu.id),r=e.Fu(e.documents);for(const i of e.queries)yield tR(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,$u:e.collectionGroups,Bu:t}})()}}function MA(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class OA{constructor(e){this.key=e}}class PA{constructor(e){this.key=e}}class AA{constructor(e,t){this.query=e,this.Lu=t,this.Uu=null,this.current=!1,this.qu=cn(),this.mutatedKeys=cn(),this.Ku=Rw(e),this.Gu=new Kg(this.Ku)}get Qu(){return this.Lu}ju(e,t){const r=t?t.Wu:new TA,i=t?t.Gu:this.Gu;let u=t?t.mutatedKeys:this.mutatedKeys,d=i,g=!1;const y="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,w="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((T,O)=>{const V=i.get(T),B=Tv(this.query,O)?O:null,X=!!V&&this.mutatedKeys.has(V.key),Se=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let Ne=!1;V&&B?V.data.isEqual(B.data)?X!==Se&&(r.track({type:3,doc:B}),Ne=!0):this.zu(V,B)||(r.track({type:2,doc:B}),Ne=!0,(y&&this.Ku(B,y)>0||w&&this.Ku(B,w)<0)&&(g=!0)):!V&&B?(r.track({type:0,doc:B}),Ne=!0):V&&!B&&(r.track({type:1,doc:V}),Ne=!0,(y||w)&&(g=!0)),Ne&&(B?(d=d.add(B),u=Se?u.add(T):u.delete(T)):(d=d.delete(T),u=u.delete(T)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const T="F"===this.query.limitType?d.last():d.first();d=d.delete(T.key),u=u.delete(T.key),r.track({type:1,doc:T})}return{Gu:d,Wu:r,$i:g,mutatedKeys:u}}zu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const u=e.Wu.Eu();u.sort((w,T)=>function(O,V){const B=X=>{switch(X){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et()}};return B(O)-B(V)}(w.type,T.type)||this.Ku(w.doc,T.doc)),this.Hu(r);const d=t?this.Ju():[],g=0===this.qu.size&&this.current?1:0,y=g!==this.Uu;return this.Uu=g,0!==u.length||y?{snapshot:new Yg(this.query,e.Gu,i,u,e.mutatedKeys,0===g,y,!1),Yu:d}:{Yu:d}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new TA,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}Xu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(t=>this.Lu=this.Lu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Lu=this.Lu.delete(t)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.qu;this.qu=cn(),this.Gu.forEach(r=>{this.Xu(r.key)&&(this.qu=this.qu.add(r.key))});const t=[];return e.forEach(r=>{this.qu.has(r)||t.push(new PA(r))}),this.qu.forEach(r=>{e.has(r)||t.push(new OA(r))}),t}Zu(e){this.Lu=e.Hi,this.qu=cn();const t=this.ju(e.documents);return this.applyChanges(t,!0)}tc(){return Yg.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.Uu)}}class DR{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class MR{constructor(e){this.key=e,this.ec=!1}}class OR{constructor(e,t,r,i,u,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.nc={},this.sc=new Ya(g=>gD(g),Mg),this.ic=new Map,this.rc=new Set,this.oc=new Or(lt.comparator),this.uc=new Map,this.cc=new RD,this.ac={},this.hc=new Map,this.lc=nf.vn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function PR(n,e){return _M.apply(this,arguments)}function _M(){return _M=(0,ve.Z)(function*(n,e){const t=BM(n);let r,i;const u=t.sc.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),i=u.view.tc();else{const d=yield Gg(t.localStore,Ki(e));t.isPrimaryClient&&rE(t.remoteStore,d);const g=t.sharedClientState.addLocalQueryTarget(d.targetId);r=d.targetId,i=yield yM(t,e,r,"current"===g)}return i}),_M.apply(this,arguments)}function yM(n,e,t,r){return vM.apply(this,arguments)}function vM(){return vM=(0,ve.Z)(function*(n,e,t,r){n.dc=(T,O,V)=>{return(B=(0,ve.Z)(function*(X,Se,Ne,ft){let Nt=Se.view.ju(Ne);Nt.$i&&(Nt=yield Xw(X.localStore,Se.query,!1).then(({documents:Ht})=>Se.view.ju(Ht,Nt)));const Pt=ft&&ft.targetChanges.get(Se.targetId),wt=Se.view.applyChanges(Nt,X.isPrimaryClient,Pt);return PM(X,Se.targetId,wt.Yu),wt.snapshot}),function(X,Se,Ne,ft){return B.apply(this,arguments)})(n,T,O,V);var B};const i=yield Xw(n.localStore,e,!0),u=new AA(e,i.Hi),d=u.ju(i.documents),g=Ng.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),y=u.applyChanges(d,n.isPrimaryClient,g);PM(n,t,y.Yu);const w=new DR(e,t,u);return n.sc.set(e,w),n.ic.has(t)?n.ic.get(t).push(e):n.ic.set(t,[e]),y.snapshot}),vM.apply(this,arguments)}function AR(n,e){return CM.apply(this,arguments)}function CM(){return CM=(0,ve.Z)(function*(n,e){const t=dt(n),r=t.sc.get(e),i=t.ic.get(r.targetId);if(i.length>1)return t.ic.set(r.targetId,i.filter(u=>!Mg(u,e))),void t.sc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Hg(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Zv(t.remoteStore,r.targetId),Qg(t,r.targetId)}).catch(Ga))):(Qg(t,r.targetId),yield Hg(t.localStore,r.targetId,!0))}),CM.apply(this,arguments)}function bM(){return bM=(0,ve.Z)(function*(n,e,t){const r=$M(n);try{const i=yield function(u,d){const g=dt(u),y=sr.now(),w=d.reduce((V,B)=>V.add(B.key),cn());let T,O;return g.persistence.runTransaction("Locally write mutations","readwrite",V=>{let B=Li(),X=cn();return g.Gi.getEntries(V,w).next(Se=>{B=Se,B.forEach((Ne,ft)=>{ft.isValidDocument()||(X=X.add(Ne))})}).next(()=>g.localDocuments.getOverlayedDocuments(V,B)).next(Se=>{T=Se;const Ne=[];for(const ft of d){const Nt=Lw(ft,T.get(ft.key).overlayedDocument);null!=Nt&&Ne.push(new ps(ft.key,Nt,yv(Nt.value.mapValue),ar.exists(!0)))}return g.mutationQueue.addMutationBatch(V,y,Ne,d)}).next(Se=>{O=Se;const Ne=Se.applyToLocalDocumentSet(T,X);return g.documentOverlayCache.saveOverlays(V,Se.batchId,Ne)})}).then(()=>({batchId:O.batchId,changes:jw(T)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(u,d,g){let y=u.ac[u.currentUser.toKey()];y||(y=new Or(Wt)),y=y.insert(d,g),u.ac[u.currentUser.toKey()]=y}(r,i.batchId,t),yield ul(r,i.changes),yield qg(r.remoteStore)}catch(i){const u=Wg(i,"Failed to persist write");t.reject(u)}}),bM.apply(this,arguments)}function xA(n,e){return wM.apply(this,arguments)}function wM(){return wM=(0,ve.Z)(function*(n,e){const t=dt(n);try{const r=yield J1(t.localStore,e);e.targetChanges.forEach((i,u)=>{const d=t.uc.get(u);d&&(Zt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?d.ec=!0:i.modifiedDocuments.size>0?Zt(d.ec):i.removedDocuments.size>0&&(Zt(d.ec),d.ec=!1))}),yield ul(t,r,e)}catch(r){yield Ga(r)}}),wM.apply(this,arguments)}function SA(n,e,t){const r=dt(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.sc.forEach((u,d)=>{const g=d.view.bu(e);g.snapshot&&i.push(g.snapshot)}),function(u,d){const g=dt(u);g.onlineState=d;let y=!1;g.queries.forEach((w,T)=>{for(const O of T.listeners)O.bu(d)&&(y=!0)}),y&&gM(g)}(r.eventManager,e),i.length&&r.nc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function SR(n,e,t){return EM.apply(this,arguments)}function EM(){return EM=(0,ve.Z)(function*(n,e,t){const r=dt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.uc.get(e),u=i&&i.key;if(u){let d=new Or(lt.comparator);d=d.insert(u,Wn.newNoDocument(u,$t.min()));const g=cn().add(u),y=new Rg($t.min(),new Map,new jn(Wt),d,g);yield xA(r,y),r.oc=r.oc.remove(u),r.uc.delete(e),AM(r)}else yield Hg(r.localStore,e,!1).then(()=>Qg(r,e,t)).catch(Ga)}),EM.apply(this,arguments)}function RR(n,e){return IM.apply(this,arguments)}function IM(){return IM=(0,ve.Z)(function*(n,e){const t=dt(n),r=e.batch.batchId;try{const i=yield Q1(t.localStore,e);OM(t,r,null),MM(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield ul(t,i)}catch(i){yield Ga(i)}}),IM.apply(this,arguments)}function NR(n,e,t){return TM.apply(this,arguments)}function TM(){return TM=(0,ve.Z)(function*(n,e,t){const r=dt(n);try{const i=yield function(u,d){const g=dt(u);return g.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let w;return g.mutationQueue.lookupMutationBatch(y,d).next(T=>(Zt(null!==T),w=T.keys(),g.mutationQueue.removeMutationBatch(y,T))).next(()=>g.mutationQueue.performConsistencyCheck(y)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(y,w,d)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,w)).next(()=>g.localDocuments.getDocuments(y,w))})}(r.localStore,e);OM(r,e,t),MM(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield ul(r,i)}catch(i){yield Ga(i)}}),TM.apply(this,arguments)}function DM(){return DM=(0,ve.Z)(function*(n,e){const t=dt(n);Kc(t.remoteStore)||ze("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const d=dt(u);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",g=>d.mutationQueue.getHighestUnacknowledgedBatchId(g))}(t.localStore);if(-1===r)return void e.resolve();const i=t.hc.get(r)||[];i.push(e),t.hc.set(r,i)}catch(r){const i=Wg(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),DM.apply(this,arguments)}function MM(n,e){(n.hc.get(e)||[]).forEach(t=>{t.resolve()}),n.hc.delete(e)}function OM(n,e,t){const r=dt(n);let i=r.ac[r.currentUser.toKey()];if(i){const u=i.get(e);u&&(t?u.reject(t):u.resolve(),i=i.remove(e)),r.ac[r.currentUser.toKey()]=i}}function Qg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ic.get(e))n.sc.delete(r),t&&n.nc._c(r,t);n.ic.delete(e),n.isPrimaryClient&&n.cc.ls(e).forEach(r=>{n.cc.containsKey(r)||RA(n,r)})}function RA(n,e){n.rc.delete(e.path.canonicalString());const t=n.oc.get(e);null!==t&&(Zv(n.remoteStore,t),n.oc=n.oc.remove(e),n.uc.delete(t),AM(n))}function PM(n,e,t){for(const r of t)r instanceof OA?(n.cc.addReference(r.key,e),FR(n,r)):r instanceof PA?(ze("SyncEngine","Document no longer in limbo: "+r.key),n.cc.removeReference(r.key,e),n.cc.containsKey(r.key)||RA(n,r.key)):Et()}function FR(n,e){const t=e.key,r=t.path.canonicalString();n.oc.get(t)||n.rc.has(r)||(ze("SyncEngine","New document in limbo: "+t),n.rc.add(r),AM(n))}function AM(n){for(;n.rc.size>0&&n.oc.size<n.maxConcurrentLimboResolutions;){const e=n.rc.values().next().value;n.rc.delete(e);const t=new lt(En.fromString(e)),r=n.lc.next();n.uc.set(r,new MR(t)),n.oc=n.oc.insert(t,r),rE(n.remoteStore,new qc(Ki(Hh(t.path)),r,2,ki.at))}}function ul(n,e,t){return xM.apply(this,arguments)}function xM(){return xM=(0,ve.Z)(function*(n,e,t){const r=dt(n),i=[],u=[],d=[];var g;r.sc.isEmpty()||(r.sc.forEach((g,y)=>{d.push(r.dc(y,e,t).then(w=>{if(w){r.isPrimaryClient&&r.sharedClientState.updateQueryState(y.targetId,w.fromCache?"not-current":"current"),i.push(w);const T=LD.Ci(y.targetId,w);u.push(T)}}))}),yield Promise.all(d),r.nc.Wo(i),yield(g=(0,ve.Z)(function*(y,w){const T=dt(y);try{yield T.persistence.runTransaction("notifyLocalViewChanges","readwrite",O=>pe.forEach(w,V=>pe.forEach(V.Si,B=>T.persistence.referenceDelegate.addReference(O,V.targetId,B)).next(()=>pe.forEach(V.Di,B=>T.persistence.referenceDelegate.removeReference(O,V.targetId,B)))))}catch(O){if(!Ha(O))throw O;ze("LocalStore","Failed to update sequence numbers: "+O)}for(const O of w){const V=O.targetId;if(!O.fromCache){const B=T.Ui.get(V),Se=B.withLastLimboFreeSnapshotVersion(B.snapshotVersion);T.Ui=T.Ui.insert(V,Se)}}}),function(y,w){return g.apply(this,arguments)})(r.localStore,u))}),xM.apply(this,arguments)}function LR(n,e){return SM.apply(this,arguments)}function SM(){return SM=(0,ve.Z)(function*(n,e){const t=dt(n);if(!t.currentUser.isEqual(e)){ze("SyncEngine","User change. New user:",e.toKey());const r=yield aA(t.localStore,e);t.currentUser=e,(i=t).hc.forEach(d=>{d.forEach(g=>{g.reject(new $e(ye.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.hc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ul(t,r.ji)}var i}),SM.apply(this,arguments)}function VR(n,e){const t=dt(n),r=t.uc.get(e);if(r&&r.ec)return cn().add(r.key);{let i=cn();const u=t.ic.get(e);if(!u)return i;for(const d of u){const g=t.sc.get(d);i=i.unionWith(g.view.Qu)}return i}}function UR(n,e){return RM.apply(this,arguments)}function RM(){return RM=(0,ve.Z)(function*(n,e){const t=dt(n),r=yield Xw(t.localStore,e.query,!0),i=e.view.Zu(r);return t.isPrimaryClient&&PM(t,e.targetId,i.Yu),i}),RM.apply(this,arguments)}function BR(n,e){return NM.apply(this,arguments)}function NM(){return NM=(0,ve.Z)(function*(n,e){const t=dt(n);return dA(t.localStore,e).then(r=>ul(t,r))}),NM.apply(this,arguments)}function $R(n,e,t,r){return kM.apply(this,arguments)}function kM(){return kM=(0,ve.Z)(function*(n,e,t,r){const i=dt(n),u=yield function(d,g){const y=dt(d),w=dt(y.mutationQueue);return y.persistence.runTransaction("Lookup mutation documents","readonly",T=>w.Tn(T,g).next(O=>O?y.localDocuments.getDocuments(T,O):pe.resolve(null)))}(i.localStore,e);var g;null!==u?("pending"===t?yield qg(i.remoteStore):"acknowledged"===t||"rejected"===t?(OM(i,e,r||null),MM(i,e),g=e,dt(dt(i.localStore).mutationQueue).An(g)):Et(),yield ul(i,u)):ze("SyncEngine","Cannot apply mutation batch with id: "+e)}),kM.apply(this,arguments)}function FM(){return FM=(0,ve.Z)(function*(n,e){const t=dt(n);if(BM(t),$M(t),!0===e&&!0!==t.fc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield NA(t,r.toArray());t.fc=!0,yield uM(t.remoteStore,!0);for(const u of i)rE(t.remoteStore,u)}else if(!1===e&&!1!==t.fc){const r=[];let i=Promise.resolve();t.ic.forEach((u,d)=>{t.sharedClientState.isLocalQueryTarget(d)?r.push(d):i=i.then(()=>(Qg(t,d),Hg(t.localStore,d,!0))),Zv(t.remoteStore,d)}),yield i,yield NA(t,r),function(u){const d=dt(u);d.uc.forEach((g,y)=>{Zv(d.remoteStore,y)}),d.cc.fs(),d.uc=new Map,d.oc=new Or(lt.comparator)}(t),t.fc=!1,yield uM(t.remoteStore,!1)}}),FM.apply(this,arguments)}function NA(n,e,t){return LM.apply(this,arguments)}function LM(){return LM=(0,ve.Z)(function*(n,e,t){const r=dt(n),i=[],u=[];for(const d of e){let g;const y=r.ic.get(d);if(y&&0!==y.length){g=yield Gg(r.localStore,Ki(y[0]));for(const w of y){const T=r.sc.get(w),O=yield UR(r,T);O.snapshot&&u.push(O.snapshot)}}else{const w=yield cA(r.localStore,d);g=yield Gg(r.localStore,w),yield yM(r,kA(w),d,!1)}i.push(g)}return r.nc.Wo(u),i}),LM.apply(this,arguments)}function kA(n){return xw(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function GR(n){const e=dt(n);return dt(dt(e.localStore).persistence).vi()}function HR(n,e,t,r){return VM.apply(this,arguments)}function VM(){return VM=(0,ve.Z)(function*(n,e,t,r){const i=dt(n);if(i.fc)return void ze("SyncEngine","Ignoring unexpected query state notification.");const u=i.ic.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const d=yield dA(i.localStore,zh(u[0])),g=Rg.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield ul(i,d,g);break}case"rejected":yield Hg(i.localStore,e,!0),Qg(i,e,r);break;default:Et()}}),VM.apply(this,arguments)}function zR(n,e,t){return UM.apply(this,arguments)}function UM(){return UM=(0,ve.Z)(function*(n,e,t){const r=BM(n);if(r.fc){for(const i of e){if(r.ic.has(i)){ze("SyncEngine","Adding an already active target "+i);continue}const u=yield cA(r.localStore,i),d=yield Gg(r.localStore,u);yield yM(r,kA(u),d.targetId,!1),rE(r.remoteStore,d)}for(const i of t)r.ic.has(i)&&(yield Hg(r.localStore,i,!1).then(()=>{Zv(r.remoteStore,i),Qg(r,i)}).catch(Ga))}}),UM.apply(this,arguments)}function BM(n){const e=dt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=xA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=VR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=SR.bind(null,e),e.nc.Wo=wR.bind(null,e.eventManager),e.nc._c=ER.bind(null,e.eventManager),e}function $M(n){const e=dt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=RR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=NR.bind(null,e),e}class FA{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ve.Z)(function*(){t.It=zv(e.databaseInfo.databaseId),t.sharedClientState=t.mc(e),t.persistence=t.gc(e),yield t.persistence.start(),t.localStore=t.yc(e),t.gcScheduler=t.Ic(e,t.localStore),t.indexBackfillerScheduler=t.Tc(e,t.localStore)})()}Ic(e,t){return null}Tc(e,t){return null}yc(e){return sA(this.persistence,new oA,e.initialUser,this.It)}gc(e){return new rA(Qw.Bs,this.It)}mc(e){return new gA}terminate(){var e=this;return(0,ve.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class LA extends FA{constructor(e,t,r){super(),this.Ec=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,ve.Z)(function*(){yield t().call(r,e),yield r.Ec.initialize(r,e),yield $M(r.Ec.syncEngine),yield qg(r.Ec.remoteStore),yield r.persistence.li(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}yc(e){return sA(this.persistence,new oA,e.initialUser,this.It)}Ic(e,t){return new F1(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Tc(e,t){const r=new yw(t,this.persistence);return new _w(e.asyncQueue,r)}gc(e){const t=FD(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?yo.withCacheSize(this.cacheSizeBytes):yo.DEFAULT;return new kD(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,_A(),nE(),this.It,this.sharedClientState,!!this.forceOwnership)}mc(e){return new gA}}class ZR extends LA{constructor(e,t){super(e,t,!1),this.Ec=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,ve.Z)(function*(){yield t().call(r,e);const i=r.Ec.syncEngine;r.sharedClientState instanceof zD&&(r.sharedClientState.syncEngine={Fr:$R.bind(null,i),$r:HR.bind(null,i),Br:zR.bind(null,i),vi:GR.bind(null,i),Or:BR.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.li(function(){var u=(0,ve.Z)(function*(d){yield function jR(n,e){return FM.apply(this,arguments)}(r.Ec.syncEngine,d),r.gcScheduler&&(d&&!r.gcScheduler.started?r.gcScheduler.start():d||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(d&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():d||r.indexBackfillerScheduler.stop())});return function(d){return u.apply(this,arguments)}}())})()}mc(e){const t=_A();if(!zD.C(t))throw new $e(ye.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=FD(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new zD(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class jM{initialize(e,t){var r=this;return(0,ve.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>SA(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=LR.bind(null,r.syncEngine),yield uM(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new bR}createDatastore(e){const t=zv(e.databaseInfo.databaseId),r=new oR(e.databaseInfo);return new uR(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,u=g=>SA(this.syncEngine,g,0),d=mA.C()?new mA:new nR,new cR(t,r,i,u,d);var t,r,i,u,d}createSyncEngine(e,t){return function(r,i,u,d,g,y,w){const T=new OR(r,i,u,d,g,y);return w&&(T.fc=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ve.Z)(function*(t){const r=dt(t);ze("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield zg(r),r.mu.shutdown(),r.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function VA(n,e=10240){let t=0;return{read:()=>(0,ve.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,ve.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class oE{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ac(this.observer.next,e)}error(e){this.observer.error?this.Ac(this.observer.error,e):Mr("Uncaught Error in snapshot listener:",e)}Rc(){this.muted=!0}Ac(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class WR{constructor(e,t){this.bc=e,this.It=t,this.metadata=new Hr,this.buffer=new Uint8Array,this.Pc=new TextDecoder("utf-8"),this.vc().then(r=>{r&&r.ku()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.bc.cancel()}getMetadata(){var e=this;return(0,ve.Z)(function*(){return e.metadata.promise})()}wc(){var e=this;return(0,ve.Z)(function*(){return yield e.getMetadata(),e.vc()})()}vc(){var e=this;return(0,ve.Z)(function*(){const t=yield e.Vc();if(null===t)return null;const r=e.Pc.decode(t),i=Number(r);isNaN(i)&&e.Sc(`length string (${r}) is not valid number`);const u=yield e.Dc(i);return new IR(JSON.parse(u),t.length+i)})()}Cc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Vc(){var e=this;return(0,ve.Z)(function*(){for(;e.Cc()<0&&!(yield e.xc()););if(0===e.buffer.length)return null;const t=e.Cc();t<0&&e.Sc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Dc(e){var t=this;return(0,ve.Z)(function*(){for(;t.buffer.length<e;)(yield t.xc())&&t.Sc("Reached the end of bundle when more is expected.");const r=t.Pc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Sc(e){throw this.bc.cancel(),new Error(`Invalid bundle format: ${e}`)}xc(){var e=this;return(0,ve.Z)(function*(){const t=yield e.bc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class KR{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ve.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new $e(ye.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,ve.Z)(function*(u,d){const g=dt(u),y=Ot(g.It)+"/documents",w={documents:d.map(B=>We(g.It,B))},T=yield g.fo("BatchGetDocuments",y,w,d.length),O=new Map;T.forEach(B=>{const X=function sl(n,e){return"found"in e?function(t,r){Zt(!!r.found);const i=nt(t,r.found.name),u=z(r.found.updateTime),d=new Yr({mapValue:{fields:r.found.fields}});return Wn.newFoundDocument(i,u,d)}(n,e):"missing"in e?function(t,r){Zt(!!r.missing),Zt(!!r.readTime);const i=nt(t,r.missing),u=z(r.readTime);return Wn.newNoDocument(i,u)}(n,e):Et()}(g.It,B);O.set(X.key.toString(),X)});const V=[];return d.forEach(B=>{const X=O.get(B.toString());Zt(!!X),V.push(X)}),V}),function(u,d){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ks(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ve.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const u=lt.fromPath(i);e.mutations.push(new xv(u,e.precondition(u)))}),yield(r=(0,ve.Z)(function*(i,u){const d=dt(i),g=Ot(d.It)+"/documents",y={writes:u.map(w=>al(d.It,w))};yield d.co("Commit",g,y)}),function(i,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Et();t=$t.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new $e(ye.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual($t.min())?ar.exists(!1):ar.updateTime(t):ar.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual($t.min()))throw new $e(ye.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ar.updateTime(t)}return ar.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class YR{constructor(e,t,r,i,u){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=u,this.Nc=r.maxAttempts,this.xo=new qD(this.asyncQueue,"transaction_retry")}run(){this.Nc-=1,this.kc()}kc(){var e=this;this.xo.Ao((0,ve.Z)(function*(){const t=new KR(e.datastore),r=e.Mc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(u=>{e.Oc(u)}))}).catch(i=>{e.Oc(i)})}))}Mc(e){try{const t=this.updateFunction(e);return!Lc(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Oc(e){this.Nc>0&&this.Fc(e)?(this.Nc-=1,this.asyncQueue.enqueueAndForget(()=>(this.kc(),Promise.resolve()))):this.deferred.reject(e)}Fc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!wD(t)}return!1}}class QR{constructor(e,t,r,i){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=oi.UNAUTHENTICATED,this.clientId=oD.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var d=(0,ve.Z)(function*(g){ze("FirestoreClient","Received user=",g.uid),yield u.authCredentialListener(g),u.user=g});return function(g){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(r,d=>(ze("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var e=this;return(0,ve.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new $e(ye.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ve.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Wg(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function UA(n,e){return GM.apply(this,arguments)}function GM(){return GM=(0,ve.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),ze("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,ve.Z)(function*(u){r.isEqual(u)||(yield aA(e.localStore,u),r=u)});return function(u){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),GM.apply(this,arguments)}function BA(n,e){return HM.apply(this,arguments)}function HM(){return HM=(0,ve.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield zM(n);ze("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>IA(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,u)=>IA(e.remoteStore,u)),n.onlineComponents=e}),HM.apply(this,arguments)}function zM(n){return qM.apply(this,arguments)}function qM(){return qM=(0,ve.Z)(function*(n){return n.offlineComponents||(ze("FirestoreClient","Using default OfflineComponentProvider"),yield UA(n,new FA)),n.offlineComponents}),qM.apply(this,arguments)}function sE(n){return ZM.apply(this,arguments)}function ZM(){return ZM=(0,ve.Z)(function*(n){return n.onlineComponents||(ze("FirestoreClient","Using default OnlineComponentProvider"),yield BA(n,new jM)),n.onlineComponents}),ZM.apply(this,arguments)}function $A(n){return zM(n).then(e=>e.persistence)}function aE(n){return zM(n).then(e=>e.localStore)}function jA(n){return sE(n).then(e=>e.remoteStore)}function WM(n){return sE(n).then(e=>e.syncEngine)}function Jg(n){return KM.apply(this,arguments)}function KM(){return KM=(0,ve.Z)(function*(n){const e=yield sE(n),t=e.eventManager;return t.onListen=PR.bind(null,e.syncEngine),t.onUnlisten=AR.bind(null,e.syncEngine),t}),KM.apply(this,arguments)}function GA(n,e,t={}){const r=new Hr;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(i,u,d,g,y){const w=new oE({next:O=>{u.enqueueAndForget(()=>fM(i,T));const V=O.docs.has(d);!V&&O.fromCache?y.reject(new $e(ye.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&O.fromCache&&g&&"server"===g.source?y.reject(new $e(ye.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(O)},error:O=>y.reject(O)}),T=new mM(Hh(d.path),w,{includeMetadataChanges:!0,Nu:!0});return dM(i,T)}(yield Jg(n),n.asyncQueue,e,t,r)})),r.promise}function HA(n,e,t={}){const r=new Hr;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(i,u,d,g,y){const w=new oE({next:O=>{u.enqueueAndForget(()=>fM(i,T)),O.fromCache&&"server"===g.source?y.reject(new $e(ye.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(O)},error:O=>y.reject(O)}),T=new mM(d,w,{includeMetadataChanges:!0,Nu:!0});return dM(i,T)}(yield Jg(n),n.asyncQueue,e,t,r)})),r.promise}const zA=new Map;function YM(n,e,t){if(!t)throw new $e(ye.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function qA(n,e,t,r){if(!0===e&&!0===r)throw new $e(ye.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function ZA(n){if(!lt.isDocumentKey(n))throw new $e(ye.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function WA(n){if(lt.isDocumentKey(n))throw new $e(ye.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function uE(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Et()}function Dn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new $e(ye.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=uE(n);throw new $e(ye.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function KA(n,e){if(e<=0)throw new $e(ye.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class YA{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new $e(ye.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new $e(ye.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,qA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Wv{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new YA({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new $e(ye.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new $e(ye.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new YA(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new uw;switch(t.type){case"gapi":return new rD(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new $e(ye.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=zA.get(e);t&&(ze("ComponentProvider","Removing Datastore"),zA.delete(e),t.terminate())}(this),Promise.resolve()}}class yr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ja(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yr(this.firestore,e,this._key)}}class Ui{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ui(this.firestore,e,this._query)}}class Ja extends Ui{constructor(e,t,r){super(e,t,Hh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yr(this.firestore,null,new lt(e))}withConverter(e){return new Ja(this.firestore,e,this._path)}}function QA(n,e,...t){if(n=(0,Qt.m9)(n),YM("collection","path",e),n instanceof Wv){const r=En.fromString(e,...t);return WA(r),new Ja(n,null,r)}{if(!(n instanceof yr||n instanceof Ja))throw new $e(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(En.fromString(e,...t));return WA(r),new Ja(n.firestore,null,r)}}function lE(n,e,...t){if(n=(0,Qt.m9)(n),1===arguments.length&&(e=oD.R()),YM("doc","path",e),n instanceof Wv){const r=En.fromString(e,...t);return ZA(r),new yr(n,null,new lt(r))}{if(!(n instanceof yr||n instanceof Ja))throw new $e(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(En.fromString(e,...t));return ZA(r),new yr(n.firestore,n instanceof Ja?n.converter:null,new lt(r))}}function JA(n,e){return n=(0,Qt.m9)(n),e=(0,Qt.m9)(e),(n instanceof yr||n instanceof Ja)&&(e instanceof yr||e instanceof Ja)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function XA(n,e){return n=(0,Qt.m9)(n),e=(0,Qt.m9)(e),n instanceof Ui&&e instanceof Ui&&n.firestore===e.firestore&&Mg(n._query,e._query)&&n.converter===e.converter}class uN{constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new qD(this,"async_queue_retry"),this.jc=()=>{const t=nE();t&&ze("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.bo()};const e=nE();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Wc(),this.zc(e)}enterRestrictedMode(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;const t=nE();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.jc)}}enqueue(e){if(this.Wc(),this.Lc)return new Promise(()=>{});const t=new Hr;return this.zc(()=>this.Lc&&this.Gc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Bc.push(e),this.Hc()))}Hc(){var e=this;return(0,ve.Z)(function*(){if(0!==e.Bc.length){try{yield e.Bc[0](),e.Bc.shift(),e.xo.reset()}catch(t){if(!Ha(t))throw t;ze("AsyncQueue","Operation failed with retryable error: "+t)}e.Bc.length>0&&e.xo.Ao(()=>e.Hc())}})()}zc(e){const t=this.$c.then(()=>(this.Kc=!0,e().catch(r=>{throw this.qc=r,this.Kc=!1,Mr("INTERNAL UNHANDLED ERROR: ",function(u){let d=u.message||"";return u.stack&&(d=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),d}(r)),r}).then(r=>(this.Kc=!1,r))));return this.$c=t,t}enqueueAfterDelay(e,t,r){this.Wc(),this.Qc.indexOf(e)>-1&&(t=0);const i=cM.createAndSchedule(this,e,t,r,u=>this.Jc(u));return this.Uc.push(i),i}Wc(){this.qc&&Et()}verifyOperationInProgress(){}Yc(){var e=this;return(0,ve.Z)(function*(){let t;do{t=e.$c,yield t}while(t!==e.$c)})()}Xc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}Zc(e){return this.Yc().then(()=>{this.Uc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Yc()})}ta(e){this.Qc.push(e)}Jc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function QM(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class lN{constructor(){this._progressObserver={},this._taskCompletionResolver=new Hr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Tr extends Wv{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new uN,this._persistenceKey=(null==i?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||ex(this),this._firestoreClient.terminate()}}function dN(n,e){const t="object"==typeof n?n:(0,Sr.getApp)(),r="string"==typeof n?n:e||"(default)";return(0,Sr._getProvider)(t,"firestore").getImmediate({identifier:r})}function Jr(n){return n._firestoreClient||ex(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function ex(n){var e;const t=n._freezeSettings(),r=(u=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new bw(n._databaseId,u,n._persistenceKey,(g=t).host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,g.useFetchStreams));var u,g;n._firestoreClient=new QR(n._authCredentials,n._appCheckCredentials,n._queue,r)}function tx(n,e,t){const r=new Hr;return n.asyncQueue.enqueue((0,ve.Z)(function*(){try{yield UA(n,t),yield BA(n,e),r.resolve()}catch(i){const u=i;if(!("FirebaseError"===(d=u).name?d.code===ye.FAILED_PRECONDITION||d.code===ye.UNIMPLEMENTED:!(typeof DOMException<"u"&&d instanceof DOMException)||22===d.code||20===d.code||11===d.code))throw u;el("Error enabling offline persistence. Falling back to persistence disabled: "+u),r.reject(u)}var d})).then(()=>r.promise)}function nx(n){if(n._initialized||n._terminated)throw new $e(ye.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ll{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new $e(ye.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _r(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Xa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xa(Ir.fromBase64String(e))}catch(t){throw new $e(ye.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Xa(Ir.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class sf{constructor(e){this._methodName=e}}class cE{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new $e(ye.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new $e(ye.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Wt(this._lat,e._lat)||Wt(this._long,e._long)}}const CN=/^__.*__$/;class bN{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new ps(e,this.data,this.fieldMask,t,this.fieldTransforms):new zc(e,this.data,t,this.fieldTransforms)}}class rx{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ps(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function ix(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et()}}class dE{constructor(e,t,r,i,u,d){this.settings=e,this.databaseId=t,this.It=r,this.ignoreUndefinedProperties=i,void 0===u&&this.ea(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get na(){return this.settings.na}sa(e){return new dE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ia(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.sa({path:r,ra:!1});return i.oa(e),i}ua(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.sa({path:r,ra:!1});return i.ea(),i}ca(e){return this.sa({path:void 0,ra:!0})}aa(e){return pE(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ea(){if(this.path)for(let e=0;e<this.path.length;e++)this.oa(this.path.get(e))}oa(e){if(0===e.length)throw this.aa("Document fields must not be empty");if(ix(this.na)&&CN.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}class wN{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=r||zv(e)}fa(e,t,r,i=!1){return new dE({na:e,methodName:t,la:r,path:_r.emptyPath(),ra:!1,ha:i},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function af(n){const e=n._freezeSettings(),t=zv(n._databaseId);return new wN(n._databaseId,!!e.ignoreUndefinedProperties,t)}function hE(n,e,t,r,i,u={}){const d=n.fa(u.merge||u.mergeFields?2:0,e,t,i);tO("Data must be an object, but it was:",d,r);const g=ax(r,d);let y,w;if(u.merge)y=new _o(d.fieldMask),w=d.fieldTransforms;else if(u.mergeFields){const T=[];for(const O of u.mergeFields){const V=nO(e,O,t);if(!d.contains(V))throw new $e(ye.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);lx(T,V)||T.push(V)}y=new _o(T),w=d.fieldTransforms.filter(O=>y.covers(O.field))}else y=null,w=d.fieldTransforms;return new bN(new Yr(g),y,w)}class Kv extends sf{_toFieldTransform(e){if(2!==e.na)throw e.aa(1===e.na?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Kv}}function ox(n,e,t){return new dE({na:3,la:e.settings.la,methodName:n._methodName,ra:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class JM extends sf{_toFieldTransform(e){return new Pg(e.path,new Wa)}isEqual(e){return e instanceof JM}}class EN extends sf{constructor(e,t){super(e),this.da=t}_toFieldTransform(e){const t=ox(this,e,!0),r=this.da.map(u=>uf(u,t)),i=new Ka(r);return new Pg(e.path,i)}isEqual(e){return this===e}}class IN extends sf{constructor(e,t){super(e),this.da=t}_toFieldTransform(e){const t=ox(this,e,!0),r=this.da.map(u=>uf(u,t)),i=new Gc(r);return new Pg(e.path,i)}isEqual(e){return this===e}}class TN extends sf{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=new qh(e.It,Mv(e.It,this._a));return new Pg(e.path,t)}isEqual(e){return this===e}}function XM(n,e,t,r){const i=n.fa(1,e,t);tO("Data must be an object, but it was:",i,r);const u=[],d=Yr.empty();Fc(r,(y,w)=>{const T=fE(e,y,t);w=(0,Qt.m9)(w);const O=i.ua(T);if(w instanceof Kv)u.push(T);else{const V=uf(w,O);null!=V&&(u.push(T),d.set(T,V))}});const g=new _o(u);return new rx(d,g,i.fieldTransforms)}function eO(n,e,t,r,i,u){const d=n.fa(1,e,t),g=[nO(e,r,t)],y=[i];if(u.length%2!=0)throw new $e(ye.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<u.length;V+=2)g.push(nO(e,u[V])),y.push(u[V+1]);const w=[],T=Yr.empty();for(let V=g.length-1;V>=0;--V)if(!lx(w,g[V])){const B=g[V];let X=y[V];X=(0,Qt.m9)(X);const Se=d.ua(B);if(X instanceof Kv)w.push(B);else{const Ne=uf(X,Se);null!=Ne&&(w.push(B),T.set(B,Ne))}}const O=new _o(w);return new rx(T,O,d.fieldTransforms)}function sx(n,e,t,r=!1){return uf(t,n.fa(r?4:3,e))}function uf(n,e){if(ux(n=(0,Qt.m9)(n)))return tO("Unsupported field value:",e,n),ax(n,e);if(n instanceof sf)return function(t,r){if(!ix(r.na))throw r.aa(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.aa(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ra&&4!==e.na)throw e.aa("Nested arrays are not supported");return function(t,r){const i=[];let u=0;for(const d of t){let g=uf(d,r.ca(u));null==g&&(g={nullValue:"NULL_VALUE"}),i.push(g),u++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,Qt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Mv(r.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=sr.fromDate(t);return{timestampValue:I(r.It,i)}}if(t instanceof sr){const i=new sr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:I(r.It,i)}}if(t instanceof cE)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Xa)return{bytesValue:M(r.It,t._byteString)};if(t instanceof yr){const i=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(i))throw r.aa(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:ue(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.aa(`Unsupported field value: ${uE(t)}`)}(n,e)}function ax(n,e){const t={};return hv(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fc(n,(r,i)=>{const u=uf(i,e.ia(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function ux(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof sr||n instanceof cE||n instanceof Xa||n instanceof yr||n instanceof sf)}function tO(n,e,t){if(!ux(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=uE(t);throw e.aa("an object"===r?n+" a custom object":n+" "+r)}var r}function nO(n,e,t){if((e=(0,Qt.m9)(e))instanceof ll)return e._internalPath;if("string"==typeof e)return fE(n,e);throw pE("Field path arguments must be of type string or ",n,!1,void 0,t)}const DN=new RegExp("[~\\*/\\[\\]]");function fE(n,e,t){if(e.search(DN)>=0)throw pE(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ll(...e.split("."))._internalPath}catch{throw pE(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function pE(n,e,t,r,i){const u=r&&!r.isEmpty(),d=void 0!==i;let g=`Function ${e}() called with invalid data`;t&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(u||d)&&(y+=" (found",u&&(y+=` in field ${r}`),d&&(y+=` in document ${i}`),y+=")"),new $e(ye.INVALID_ARGUMENT,g+n+y)}function lx(n,e){return n.some(t=>t.isEqual(e))}class Yv{constructor(e,t,r,i,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new yr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new MN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(gE("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class MN extends Yv{data(){return super.data()}}function gE(n,e){return"string"==typeof e?fE(n,e):e instanceof ll?e._internalPath:e._delegate._internalPath}class lf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class cl extends Yv{constructor(e,t,r,i,u,d){super(e,t,r,i,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Qv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(gE("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Qv extends cl{data(e={}){return super.data(e)}}class Qc{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new lf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Qv(this._firestore,this._userDataWriter,r.key,r,new lf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new $e(ye.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(d=>({type:"added",doc:new Qv(r._firestore,r._userDataWriter,d.doc.key,d.doc,new lf(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(d=>i||3!==d.type).map(d=>{const g=new Qv(r._firestore,r._userDataWriter,d.doc.key,d.doc,new lf(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let y=-1,w=-1;return 0!==d.type&&(y=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),1!==d.type&&(u=u.add(d.doc),w=u.indexOf(d.doc.key)),{type:ON(d.type),doc:g,oldIndex:y,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function ON(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et()}}function cx(n,e){return n instanceof cl&&e instanceof cl?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Qc&&e instanceof Qc&&n._firestore===e._firestore&&XA(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function dx(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new $e(ye.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Jv{}function Jc(n,...e){for(const t of e)n=t._apply(n);return n}class PN extends Jv{constructor(e,t,r){super(),this.wa=e,this.ma=t,this.ga=r,this.type="where"}_apply(e){const t=af(e.firestore),r=function(i,u,d,g,y,w,T){let O;if(y.isKeyField()){if("array-contains"===w||"array-contains-any"===w)throw new $e(ye.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if("in"===w||"not-in"===w){_x(T,w);const B=[];for(const X of T)B.push(mx(g,i,X));O={arrayValue:{values:B}}}else O=mx(g,i,T)}else"in"!==w&&"not-in"!==w&&"array-contains-any"!==w||_x(T,w),O=sx(d,"where",T,"in"===w||"not-in"===w);const V=Qr.create(y,w,O);return function(B,X){if(X.dt()){const Ne=wv(B);if(null!==Ne&&!Ne.isEqual(X.field))throw new $e(ye.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Ne.toString()}' and '${X.field.toString()}'`);const ft=Dg(B);null!==ft&&yx(0,X.field,ft)}const Se=function(Ne,ft){for(const Nt of Ne.filters)if(ft.indexOf(Nt.op)>=0)return Nt.op;return null}(B,function(Ne){switch(Ne){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(X.op));if(null!==Se)throw new $e(ye.INVALID_ARGUMENT,Se===X.op?`Invalid query. You cannot use more than one '${X.op.toString()}' filter.`:`Invalid query. You cannot use '${X.op.toString()}' filters with '${Se.toString()}' filters.`)}(i,V),V}(e._query,0,t,e.firestore._databaseId,this.wa,this.ma,this.ga);return new Ui(e.firestore,e.converter,function(i,u){const d=i.filters.concat([u]);return new Ws(i.path,i.collectionGroup,i.explicitOrderBy.slice(),d,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class xN extends Jv{constructor(e,t){super(),this.wa=e,this.ya=t,this.type="orderBy"}_apply(e){const t=function(r,i,u){if(null!==r.startAt)throw new $e(ye.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new $e(ye.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new ol(i,u);return function(g,y){if(null===Dg(g)){const w=wv(g);null!==w&&yx(0,w,y.field)}}(r,d),d}(e._query,this.wa,this.ya);return new Ui(e.firestore,e.converter,function(r,i){const u=r.explicitOrderBy.concat([i]);return new Ws(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class hx extends Jv{constructor(e,t,r){super(),this.type=e,this.pa=t,this.Ia=r}_apply(e){return new Ui(e.firestore,e.converter,Iv(e._query,this.pa,this.Ia))}}class fx extends Jv{constructor(e,t,r){super(),this.type=e,this.Ta=t,this.Ea=r}_apply(e){const t=gx(e,this.type,this.Ta,this.Ea);return new Ui(e.firestore,e.converter,(i=t,new Ws((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class px extends Jv{constructor(e,t,r){super(),this.type=e,this.Ta=t,this.Ea=r}_apply(e){const t=gx(e,this.type,this.Ta,this.Ea);return new Ui(e.firestore,e.converter,(i=t,new Ws((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function gx(n,e,t,r){if(t[0]=(0,Qt.m9)(t[0]),t[0]instanceof Yv)return function(i,u,d,g,y){if(!g)throw new $e(ye.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const w=[];for(const T of $c(i))if(T.field.isKeyField())w.push(il(u,g.key));else{const O=g.data.field(T.field);if(pv(O))throw new $e(ye.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+T.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===O){const V=T.field.canonicalString();throw new $e(ye.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${V}' (used as the orderBy) does not exist.`)}w.push(O)}return new fs(w,y)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=af(n.firestore);return function(u,d,g,y,w,T){const O=u.explicitOrderBy;if(w.length>O.length)throw new $e(ye.INVALID_ARGUMENT,`Too many arguments provided to ${y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const V=[];for(let B=0;B<w.length;B++){const X=w[B];if(O[B].field.isKeyField()){if("string"!=typeof X)throw new $e(ye.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${y}(), but got a ${typeof X}`);if(!Ev(u)&&-1!==X.indexOf("/"))throw new $e(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${y}() must be a plain document ID, but '${X}' contains a slash.`);const Se=u.path.child(En.fromString(X));if(!lt.isDocumentKey(Se))throw new $e(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${y}() must result in a valid document path, but '${Se}' is not because it contains an odd number of segments.`);const Ne=new lt(Se);V.push(il(d,Ne))}else{const Se=sx(g,y,X);V.push(Se)}}return new fs(V,T)}(n._query,n.firestore._databaseId,i,e,t,r)}}function mx(n,e,t){if("string"==typeof(t=(0,Qt.m9)(t))){if(""===t)throw new $e(ye.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ev(e)&&-1!==t.indexOf("/"))throw new $e(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(En.fromString(t));if(!lt.isDocumentKey(r))throw new $e(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return il(n,new lt(r))}if(t instanceof yr)return il(n,t._key);throw new $e(ye.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${uE(t)}.`)}function _x(n,e){if(!Array.isArray(n)||0===n.length)throw new $e(ye.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new $e(ye.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function yx(n,e,t){if(!t.isEqual(e))throw new $e(ye.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const UN={maxAttempts:5};class rO{convertValue(e,t="none"){switch(Vc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Gn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(za(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Et()}}convertObject(e,t){const r={};return Fc(e.fields,(i,u)=>{r[i]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new cE(Gn(e.latitude),Gn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Cw(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(rl(e));default:return null}}convertTimestamp(e){const t=hs(e);return new sr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=En.fromString(e);Zt(MP(r));const i=new qs(r.get(1),r.get(3)),u=new lt(r.popFirst(5));return i.isEqual(t)||Mr(`Document ${u} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function mE(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class BN extends rO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new yr(this.firestore,null,t)}}class vx{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=af(e)}set(e,t,r){this._verifyNotCommitted();const i=Xc(e,this._firestore),u=mE(i.converter,t,r),d=hE(this._dataReader,"WriteBatch.set",i._key,u,null!==i.converter,r);return this._mutations.push(d.toMutation(i._key,ar.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const u=Xc(e,this._firestore);let d;return d="string"==typeof(t=(0,Qt.m9)(t))||t instanceof ll?eO(this._dataReader,"WriteBatch.update",u._key,t,r,i):XM(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(d.toMutation(u._key,ar.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Xc(e,this._firestore);return this._mutations=this._mutations.concat(new Ks(t._key,ar.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new $e(ye.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Xc(n,e){if((n=(0,Qt.m9)(n)).firestore!==e)throw new $e(ye.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class cf extends rO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new yr(this.firestore,null,t)}}function Cx(n,e,t){n=Dn(n,yr);const r=Dn(n.firestore,Tr),i=mE(n.converter,e,t);return Xg(r,[hE(af(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,ar.none())])}function bx(n,e,t,...r){n=Dn(n,yr);const i=Dn(n.firestore,Tr),u=af(i);let d;return d="string"==typeof(e=(0,Qt.m9)(e))||e instanceof ll?eO(u,"updateDoc",n._key,e,t,r):XM(u,"updateDoc",n._key,e),Xg(i,[d.toMutation(n._key,ar.exists(!0))])}function wx(n,...e){var t,r,i;n=(0,Qt.m9)(n);let u={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||QM(e[d])||(u=e[d],d++);const g={includeMetadataChanges:u.includeMetadataChanges};if(QM(e[d])){const O=e[d];e[d]=null===(t=O.next)||void 0===t?void 0:t.bind(O),e[d+1]=null===(r=O.error)||void 0===r?void 0:r.bind(O),e[d+2]=null===(i=O.complete)||void 0===i?void 0:i.bind(O)}let y,w,T;if(n instanceof yr)w=Dn(n.firestore,Tr),T=Hh(n._key.path),y={next:O=>{e[d]&&e[d](iO(w,n,O))},error:e[d+1],complete:e[d+2]};else{const O=Dn(n,Ui);w=Dn(O.firestore,Tr),T=O._query;const V=new cf(w);y={next:B=>{e[d]&&e[d](new Qc(w,V,O,B))},error:e[d+1],complete:e[d+2]},dx(n._query)}return function(O,V,B,X){const Se=new oE(X),Ne=new mM(V,Se,B);return O.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return dM(yield Jg(O),Ne)})),()=>{Se.Rc(),O.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return fM(yield Jg(O),Ne)}))}}(Jr(w),T,g,y)}function Xg(n,e){return function(t,r){const i=new Hr;return t.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function xR(n,e,t){return bM.apply(this,arguments)}(yield WM(t),r,i)})),i.promise}(Jr(n),e)}function iO(n,e,t){const r=t.docs.get(e._key),i=new cf(n);return new cl(n,i,e._key,r,new lf(t.hasPendingWrites,t.fromCache),e.converter)}class YN extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=af(e)}get(e){const t=Xc(e,this._firestore),r=new BN(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return Et();const u=i[0];if(u.isFoundDocument())return new Yv(this._firestore,r,u.key,u,t.converter);if(u.isNoDocument())return new Yv(this._firestore,r,t._key,null,t.converter);throw Et()})}set(e,t,r){const i=Xc(e,this._firestore),u=mE(i.converter,t,r),d=hE(this._dataReader,"Transaction.set",i._key,u,null!==i.converter,r);return this._transaction.set(i._key,d),this}update(e,t,r,...i){const u=Xc(e,this._firestore);let d;return d="string"==typeof(t=(0,Qt.m9)(t))||t instanceof ll?eO(this._dataReader,"Transaction.update",u._key,t,r,i):XM(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,d),this}delete(e){const t=Xc(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Xc(e,this._firestore),r=new cf(this._firestore);return super.get(e).then(i=>new cl(this._firestore,r,t._key,i._document,new lf(!1,!1),t.converter))}}function oO(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new $e("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function Ix(){if(typeof Uint8Array>"u")throw new $e("unimplemented","Uint8Arrays are not available in this environment.")}function Tx(){if(!function bP(){return typeof atob<"u"}())throw new $e("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){$a=Sr.SDK_VERSION,(0,Sr._registerComponent)(new ka.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const u=t.getProvider("app").getImmediate(),d=new Tr(new nD(t.getProvider("auth-internal")),new Rc(t.getProvider("app-check-internal")),function(g,y){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new $e(ye.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qs(g.options.projectId,y)}(u,r),u);return i=Object.assign({useFetchStreams:e},i),d._setSettings(i),d},"PUBLIC").setMultipleInstances(!0)),(0,Sr.registerVersion)(sw,"3.5.0",n),(0,Sr.registerVersion)(sw,"3.5.0","esm2017")}();class Xv{constructor(e){this._delegate=e}static fromBase64String(e){return Tx(),new Xv(Xa.fromBase64String(e))}static fromUint8Array(e){return Ix(),new Xv(Xa.fromUint8Array(e))}toBase64(){return Tx(),this._delegate.toBase64()}toUint8Array(){return Ix(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function sO(n){return function ok(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class sk{enableIndexedDbPersistence(e,t){return function hN(n,e){nx(n=Dn(n,Tr));const t=Jr(n),r=n._freezeSettings(),i=new jM;return tx(t,i,new LA(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function fN(n){nx(n=Dn(n,Tr));const e=Jr(n),t=n._freezeSettings(),r=new jM;return tx(e,r,new ZR(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function pN(n){if(n._initialized&&!n._terminated)throw new $e(ye.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Hr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ve.Z)(function*(){try{yield(t=(0,ve.Z)(function*(r){if(!mo.C())return Promise.resolve();const i=r+"main";yield mo.delete(i)}),function(r){return t.apply(this,arguments)})(FD(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Dx{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof qs||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&el("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function sN(n,e,t,r={}){var i;const u=(n=Dn(n,Wv))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==e&&el("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},u),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let d,g;if("string"==typeof r.mockUserToken)d=r.mockUserToken,g=oi.MOCK_USER;else{d=(0,Qt.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new $e(ye.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new oi(y)}n._authCredentials=new lw(new aw(d,g))}}(this._delegate,e,t,r)}enableNetwork(){return function mN(n){return function JR(n){return n.asyncQueue.enqueue((0,ve.Z)(function*(){const e=yield $A(n),t=yield jA(n);return e.setNetworkEnabled(!0),function(r){const i=dt(r);return i._u.delete(0),qv(i)}(t)}))}(Jr(n=Dn(n,Tr)))}(this._delegate)}disableNetwork(){return function _N(n){return function XR(n){return n.asyncQueue.enqueue((0,ve.Z)(function*(){const e=yield $A(n),t=yield jA(n);return e.setNetworkEnabled(!1),(r=(0,ve.Z)(function*(i){const u=dt(i);u._u.add(0),yield zg(u),u.gu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(Jr(n=Dn(n,Tr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,qA("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function gN(n){return function(e){const t=new Hr;return e.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function kR(n,e){return DM.apply(this,arguments)}(yield WM(e),t)})),t.promise}(Jr(n=Dn(n,Tr)))}(this._delegate)}onSnapshotsInSync(e){return function KN(n,e){return function nN(n,e){const t=new oE(e);return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return r=yield Jg(n),i=t,dt(r).Ru.add(i),void i.next();var r,i})),()=>{t.Rc(),n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return r=yield Jg(n),i=t,void dt(r).Ru.delete(i);var r,i}))}}(Jr(n=Dn(n,Tr)),QM(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new $e("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new em(this,QA(this._delegate,e))}catch(t){throw Qi(t,"collection()","Firestore.collection()")}}doc(e){try{return new ms(this,lE(this._delegate,e))}catch(t){throw Qi(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ji(this,function aN(n,e){if(n=Dn(n,Wv),YM("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new $e(ye.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ui(n,null,(t=e,new Ws(En.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Qi(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function QN(n,e,t){n=Dn(n,Tr);const r=Object.assign(Object.assign({},UN),t);return function(i){if(i.maxAttempts<1)throw new $e(ye.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function rN(n,e,t){const r=new Hr;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){const i=yield(u=n,sE(u).then(d=>d.datastore));var u;new YR(n.asyncQueue,i,t,e,r).run()})),r.promise}(Jr(n),i=>e(new YN(n,i)),r)}(this._delegate,t=>e(new Mx(this,t)))}batch(){return Jr(this._delegate),new Ox(new vx(this._delegate,e=>Xg(this._delegate,e)))}loadBundle(e){return function yN(n,e){const t=Jr(n=Dn(n,Tr)),r=new lN;return function iN(n,e,t,r){const i=function(u,d){let g;return g="string"==typeof u?(new TextEncoder).encode(u):u,y=function(y,w){if(y instanceof Uint8Array)return VA(y,w);if(y instanceof ArrayBuffer)return VA(new Uint8Array(y),w);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(g),new WR(y,d);var y}(t,zv(e));n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){!function qR(n,e,t){const r=dt(n);var i;(i=(0,ve.Z)(function*(u,d,g){try{const y=yield d.getMetadata();if(yield function(V,B){const X=dt(V),Se=z(B.createTime);return X.persistence.runTransaction("hasNewerBundle","readonly",Ne=>X.Ns.getBundleMetadata(Ne,B.id)).then(Ne=>!!Ne&&Ne.createTime.compareTo(Se)>=0)}(u.localStore,y))return yield d.close(),g._completeWith({taskState:"Success",documentsLoaded:(V=y).totalDocuments,bytesLoaded:V.totalBytes,totalDocuments:V.totalDocuments,totalBytes:V.totalBytes}),Promise.resolve(new Set);g._updateProgress(MA(y));const w=new TR(y,u.localStore,d.It);let T=yield d.wc();for(;T;){const V=yield w.Ou(T);V&&g._updateProgress(V),T=yield d.wc()}const O=yield w.complete();return yield ul(u,O.Bu,void 0),yield function(V,B){const X=dt(V);return X.persistence.runTransaction("Save bundle","readwrite",Se=>X.Ns.saveBundleMetadata(Se,B))}(u.localStore,y),g._completeWith(O.progress),Promise.resolve(O.$u)}catch(y){return el("SyncEngine",`Loading bundle failed with ${y}`),g._failWith(y),Promise.resolve(new Set)}var V}),function(u,d,g){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield WM(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function vN(n,e){return function oN(n,e){return n.asyncQueue.enqueue((0,ve.Z)(function*(){return function(t,r){const i=dt(t);return i.persistence.runTransaction("Get named query","readonly",u=>i.Ns.getNamedQuery(u,r))}(yield aE(n),e)}))}(Jr(n=Dn(n,Tr)),e).then(t=>t?new Ui(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Ji(this,t):null)}}class _E extends rO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xv(new Xa(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ms.forKey(t,this.firestore,null)}}class Mx{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new _E(e)}get(e){const t=hf(e);return this._delegate.get(t).then(r=>new e0(this._firestore,new cl(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=hf(e);return r?(oO("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const u=hf(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...i),this}delete(e){const t=hf(e);return this._delegate.delete(t),this}}class Ox{constructor(e){this._delegate=e}set(e,t,r){const i=hf(e);return r?(oO("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const u=hf(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...i),this}delete(e){const t=hf(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class df{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Qv(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new t0(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=df.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let u=i.get(t);return u||(u=new df(e,new _E(e),t),i.set(t,u)),u}}df.INSTANCES=new WeakMap;class ms{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new _E(e)}static forPath(e,t,r){if(e.length%2!=0)throw new $e("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ms(t,new yr(t._delegate,r,new lt(e)))}static forKey(e,t,r){return new ms(t,new yr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new em(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new em(this.firestore,QA(this._delegate,e))}catch(t){throw Qi(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Qt.m9)(e))instanceof yr&&JA(this._delegate,e)}set(e,t){t=oO("DocumentReference.set",t);try{return t?Cx(this._delegate,e,t):Cx(this._delegate,e)}catch(r){throw Qi(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?bx(this._delegate,e):bx(this._delegate,e,t,...r)}catch(i){throw Qi(i,"updateDoc()","DocumentReference.update()")}}delete(){return function ZN(n){return Xg(Dn(n.firestore,Tr),[new Ks(n._key,ar.none())])}(this._delegate)}onSnapshot(...e){const t=Px(e),r=Ax(e,i=>new e0(this.firestore,new cl(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return wx(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function jN(n){n=Dn(n,yr);const e=Dn(n.firestore,Tr),t=Jr(e),r=new cf(e);return function eN(n,e){const t=new Hr;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return(r=(0,ve.Z)(function*(i,u,d){try{const g=yield function(y,w){const T=dt(y);return T.persistence.runTransaction("read document","readonly",O=>T.localDocuments.getDocument(O,w))}(i,u);g.isFoundDocument()?d.resolve(g):g.isNoDocument()?d.resolve(null):d.reject(new $e(ye.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(g){const y=Wg(g,`Failed to get document '${u} from cache`);d.reject(y)}}),function(i,u,d){return r.apply(this,arguments)})(yield aE(n),e,t);var r})),t.promise}(t,n._key).then(i=>new cl(e,r,n._key,i,new lf(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function GN(n){n=Dn(n,yr);const e=Dn(n.firestore,Tr);return GA(Jr(e),n._key,{source:"server"}).then(t=>iO(e,n,t))}(this._delegate):function $N(n){n=Dn(n,yr);const e=Dn(n.firestore,Tr);return GA(Jr(e),n._key).then(t=>iO(e,n,t))}(this._delegate),t.then(r=>new e0(this.firestore,new cl(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new ms(this.firestore,this._delegate.withConverter(e?df.getInstance(this.firestore,e):null))}}function Qi(n,e,t){return n.message=n.message.replace(e,t),n}function Px(n){for(const e of n)if("object"==typeof e&&!sO(e))return e;return{}}function Ax(n,e){var t,r;let i;return i=sO(n[0])?n[0]:sO(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{i.next&&i.next(e(u))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class e0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ms(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return cx(this._delegate,e._delegate)}}class t0 extends e0{data(e){const t=this._delegate.data(e);return function uv(n,e){n||Et()}(void 0!==t),t}}class Ji{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new _E(e)}where(e,t,r){try{return new Ji(this.firestore,Jc(this._delegate,function AN(n,e,t){const r=e,i=gE("where",n);return new PN(i,r,t)}(e,t,r)))}catch(i){throw Qi(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Ji(this.firestore,Jc(this._delegate,function SN(n,e="asc"){const t=e,r=gE("orderBy",n);return new xN(r,t)}(e,t)))}catch(r){throw Qi(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ji(this.firestore,Jc(this._delegate,function RN(n){return KA("limit",n),new hx("limit",n,"F")}(e)))}catch(t){throw Qi(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Ji(this.firestore,Jc(this._delegate,function NN(n){return KA("limitToLast",n),new hx("limitToLast",n,"L")}(e)))}catch(t){throw Qi(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Ji(this.firestore,Jc(this._delegate,function kN(...n){return new fx("startAt",n,!0)}(...e)))}catch(t){throw Qi(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Ji(this.firestore,Jc(this._delegate,function FN(...n){return new fx("startAfter",n,!1)}(...e)))}catch(t){throw Qi(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Ji(this.firestore,Jc(this._delegate,function LN(...n){return new px("endBefore",n,!1)}(...e)))}catch(t){throw Qi(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Ji(this.firestore,Jc(this._delegate,function VN(...n){return new px("endAt",n,!0)}(...e)))}catch(t){throw Qi(t,"endAt()","Query.endAt()")}}isEqual(e){return XA(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function zN(n){n=Dn(n,Ui);const e=Dn(n.firestore,Tr),t=Jr(e),r=new cf(e);return function tN(n,e){const t=new Hr;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return(r=(0,ve.Z)(function*(i,u,d){try{const g=yield Xw(i,u,!0),y=new AA(u,g.Hi),w=y.ju(g.documents),T=y.applyChanges(w,!1);d.resolve(T.snapshot)}catch(g){const y=Wg(g,`Failed to execute query '${u} against cache`);d.reject(y)}}),function(i,u,d){return r.apply(this,arguments)})(yield aE(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Qc(e,r,n,i))}(this._delegate):"server"===(null==e?void 0:e.source)?function qN(n){n=Dn(n,Ui);const e=Dn(n.firestore,Tr),t=Jr(e),r=new cf(e);return HA(t,n._query,{source:"server"}).then(i=>new Qc(e,r,n,i))}(this._delegate):function HN(n){n=Dn(n,Ui);const e=Dn(n.firestore,Tr),t=Jr(e),r=new cf(e);return dx(n._query),HA(t,n._query).then(i=>new Qc(e,r,n,i))}(this._delegate),t.then(r=>new aO(this.firestore,new Qc(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=Px(e),r=Ax(e,i=>new aO(this.firestore,new Qc(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return wx(this._delegate,t,r)}withConverter(e){return new Ji(this.firestore,this._delegate.withConverter(e?df.getInstance(this.firestore,e):null))}}class uk{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new t0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class aO{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Ji(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new t0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new uk(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new t0(this._firestore,r))})}isEqual(e){return cx(this._delegate,e._delegate)}}class em extends Ji{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ms(this.firestore,e):null}doc(e){try{return new ms(this.firestore,void 0===e?lE(this._delegate):lE(this._delegate,e))}catch(t){throw Qi(t,"doc()","CollectionReference.doc()")}}add(e){return function WN(n,e){const t=Dn(n.firestore,Tr),r=lE(n),i=mE(n.converter,e);return Xg(t,[hE(af(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,ar.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new ms(this.firestore,t))}isEqual(e){return JA(this._delegate,e._delegate)}withConverter(e){return new em(this.firestore,this._delegate.withConverter(e?df.getInstance(this.firestore,e):null))}}function hf(n){return Dn(n,yr)}class uO{constructor(...e){this._delegate=new ll(...e)}static documentId(){return new uO(_r.keyField().canonicalString())}isEqual(e){return(e=(0,Qt.m9)(e))instanceof ll&&this._delegate._internalPath.isEqual(e._internalPath)}}class ff{constructor(e){this._delegate=e}static serverTimestamp(){const e=function XN(){return new JM("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new ff(e)}static delete(){const e=function JN(){return new Kv("deleteField")}();return e._methodName="FieldValue.delete",new ff(e)}static arrayUnion(...e){const t=function ek(...n){return new EN("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new ff(t)}static arrayRemove(...e){const t=function tk(...n){return new IN("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new ff(t)}static increment(e){const t=function nk(n){return new TN("increment",n)}(e);return t._methodName="FieldValue.increment",new ff(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const lk={Firestore:Dx,GeoPoint:cE,Timestamp:sr,Blob:Xv,Transaction:Mx,WriteBatch:Ox,DocumentReference:ms,DocumentSnapshot:e0,Query:Ji,QueryDocumentSnapshot:t0,QuerySnapshot:aO,CollectionReference:em,FieldPath:uO,FieldValue:ff,setLogLevel:function ak(n){!function sv(n){ds.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function xx(n,e){return function hk(n,e=dh.z){return new Dr.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function lO(n,e){return xx(n,e).pipe((0,Lt.U)(t=>({payload:t,type:"query"})))}function yE(n,e){return lO(n,e).pipe(ro(void 0),Zu(),(0,Lt.U)(([t,r])=>{const i=r.payload.docChanges(),u=i.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((d,g)=>{const y=i.find(T=>T.doc.ref.isEqual(d.ref)),w=null==t?void 0:t.payload.docs.find(T=>T.ref.isEqual(d.ref));y&&JSON.stringify(y.doc.metadata)===JSON.stringify(d.metadata)||!y&&w&&JSON.stringify(w.metadata)===JSON.stringify(d.metadata)||u.push({type:"modified",payload:{oldIndex:g,newIndex:g,type:"modified",doc:d}})}),u}))}function Sx(n,e,t){return yE(n,t).pipe(Zi((r,i)=>function pk(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function gk(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return cO(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return cO(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return cO(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(u=>u.payload),e),[]),db(),(0,Lt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function cO(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function Rx(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function dk(n){(function ck(n,e){n.INTERNAL.registerComponent(new ka.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},lk)))})(n,(e,t)=>new Dx(e,t,new sk)),n.registerVersion("@firebase/firestore-compat","0.1.25")}(kp.Z);class Nx{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=yE(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Lt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(ro(void 0),Zu(),Ei(([r,i])=>i.length>0||!r),(0,Lt.U)(([r,i])=>i),ht.iC)}auditTrail(e){return this.stateChanges(e).pipe(Zi((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=Rx(e);return Sx(this.query,t,this.afs.schedulers.outsideAngular).pipe(ht.iC)}valueChanges(e={}){return lO(this.query,this.afs.schedulers.outsideAngular).pipe((0,Lt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),ht.iC)}get(e){return(0,Pn.D)(this.query.get(e)).pipe(ht.iC)}add(e){return this.ref.add(e)}doc(e){return new kx(this.ref.doc(e),this.afs)}}class kx{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:u}=Vx(r,t);return new Nx(i,u,this.afs)}snapshotChanges(){return function fk(n,e){return xx(n,e).pipe(ro(void 0),Zu(),(0,Lt.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ht.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Lt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Pn.D)(this.ref.get(e)).pipe(ht.iC)}}class mk{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?yE(this.query,this.afs.schedulers.outsideAngular).pipe((0,Lt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Ei(t=>t.length>0),ht.iC):yE(this.query,this.afs.schedulers.outsideAngular).pipe(ht.iC)}auditTrail(e){return this.stateChanges(e).pipe(Zi((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=Rx(e);return Sx(this.query,t,this.afs.schedulers.outsideAngular).pipe(ht.iC)}valueChanges(e={}){return lO(this.query,this.afs.schedulers.outsideAngular).pipe((0,Lt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),ht.iC)}get(e){return(0,Pn.D)(this.query.get(e)).pipe(ht.iC)}}const Fx=new l.OlP("angularfire2.enableFirestorePersistence"),Lx=new l.OlP("angularfire2.firestore.persistenceSettings"),_k=new l.OlP("angularfire2.firestore.settings"),yk=new l.OlP("angularfire2.firestore.use-emulator");function Vx(n,e=(t=>t)){return{query:e(n),ref:n}}let Ux=(()=>{class n{constructor(t,r,i,u,d,g,y,w,T,O,V,B,X,Se,Ne,ft,Nt){this.schedulers=y;const Pt=(0,Zr.on)(t,g,r),wt=T;O&&ub(Pt,g,V,X,Se,Ne,B,ft),[this.firestore,this.persistenceEnabled$]=(0,Zr.cc)(`${Pt.name}.firestore`,"AngularFirestore",Pt.name,()=>{const Ht=g.runOutsideAngular(()=>Pt.firestore());if(u&&Ht.settings(u),wt&&Ht.useEmulator(...wt),i&&!zn(d)){const on=()=>{try{return(0,Pn.D)(Ht.enablePersistence(w||void 0).then(()=>!0,()=>!1))}catch(Pr){return typeof console<"u"&&console.warn(Pr),Mt(!1)}};return[Ht,g.runOutsideAngular(on)]}return[Ht,Mt(!1)]},[u,wt,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:d}=Vx(i,r),g=this.schedulers.ngZone.run(()=>u);return new Nx(g,d,this)}collectionGroup(t,r){const i=r||(d=>d),u=this.firestore.collectionGroup(t);return new mk(i(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new kx(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Zr.Dh),l.LFG(Zr.xv,8),l.LFG(Fx,8),l.LFG(_k,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(ht.HU),l.LFG(Lx,8),l.LFG(yk,8),l.LFG(ch,8),l.LFG(po,8),l.LFG(uy,8),l.LFG(ly,8),l.LFG(ob,8),l.LFG(sb,8),l.LFG(ab,8),l.LFG(js,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),vk=(()=>{class n{constructor(){xo.Z.registerVersion("angularfire",ht.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:Fx,useValue:!0},{provide:Lx,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Ux]}),n})();const Bx="firebasestorage.googleapis.com",$x="storageBucket";class Fr extends Qt.ZR{constructor(e,t){super(dO(e),`Firebase Storage: ${t} (${dO(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Fr.prototype)}_codeEquals(e){return dO(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function dO(n){return"storage/"+n}function hO(){return new Fr("unknown","An unknown error occurred, please check the error payload for server response.")}function jx(){return new Fr("canceled","User canceled the upload/download.")}function Gx(){return new Fr("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function tm(n){return new Fr("invalid-argument",n)}function Hx(){return new Fr("app-deleted","The Firebase app was deleted.")}function zx(n){return new Fr("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function n0(n,e){return new Fr("invalid-format","String does not match format '"+n+"': "+e)}function r0(n){throw new Fr("internal-error","Internal error: "+n)}class Bi{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Bi.makeFromUrl(e,t)}catch{return new Bi(e,"")}if(""===r.path)return r;throw function Ak(n){return new Fr("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)",g=new RegExp("^gs://"+i+"(/(.*))?$","i");function w(wt){wt.path_=decodeURIComponent(wt.path)}const O=t.replace(/[.]/g,"\\."),Pt=[{regex:g,indices:{bucket:1,path:3},postModify:function u(wt){"/"===wt.path.charAt(wt.path.length-1)&&(wt.path_=wt.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${O}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:w},{regex:new RegExp(`^https?://${t===Bx?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:w}];for(let wt=0;wt<Pt.length;wt++){const Ht=Pt[wt],on=Ht.regex.exec(e);if(on){let Qs=on[Ht.indices.path];Qs||(Qs=""),r=new Bi(on[Ht.indices.bucket],Qs),Ht.postModify(r);break}}if(null==r)throw function Pk(n){return new Fr("invalid-url","Invalid URL '"+n+"'.")}(e);return r}}class Nk{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function vE(n){return"string"==typeof n||n instanceof String}function qx(n){return fO()&&n instanceof Blob}function fO(){return typeof Blob<"u"}function pO(n,e,t,r){if(r<e)throw tm(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw tm(`Invalid value for '${n}'. Expected ${t} or less.`)}function dl(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function Zx(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var ed=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(ed||(ed={})),ed))();class Bk{constructor(e,t,r,i,u,d,g,y,w,T,O){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=u,this.additionalRetryCodes_=d,this.callback_=g,this.errorCallback_=y,this.timeout_=w,this.progressCallback_=T,this.connectionFactory_=O,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((V,B)=>{this.resolve_=V,this.reject_=B,this.start_()})}start_(){const t=(r,i)=>{const u=this.resolve_,d=this.reject_,g=i.connection;if(i.wasSuccessCode)try{const y=this.callback_(g,g.getResponse());!function Lk(n){return void 0!==n}(y)?u():u(y)}catch(y){d(y)}else if(null!==g){const y=hO();y.serverResponse=g.getErrorText(),d(this.errorCallback_?this.errorCallback_(g,y):y)}else d(i.canceled?this.appDelete_?Hx():jx():function Ok(){return new Fr("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new CE(!1,null,!0)):this.backoffId_=function kk(n,e,t){let r=1,i=null,u=null,d=!1,g=0;function y(){return 2===g}let w=!1;function T(...Ne){w||(w=!0,e.apply(null,Ne))}function O(Ne){i=setTimeout(()=>{i=null,n(B,y())},Ne)}function V(){u&&clearTimeout(u)}function B(Ne,...ft){if(w)return void V();if(Ne)return V(),void T.call(null,Ne,...ft);if(y()||d)return V(),void T.call(null,Ne,...ft);let Pt;r<64&&(r*=2),1===g?(g=2,Pt=0):Pt=1e3*(r+Math.random()),O(Pt)}let X=!1;function Se(Ne){X||(X=!0,V(),!w&&(null!==i?(Ne||(g=2),clearTimeout(i),O(0)):Ne||(g=1)))}return O(0),u=setTimeout(()=>{d=!0,Se(!0)},t),Se}((r,i)=>{if(i)return void r(!1,new CE(!1,null,!0));const u=this.connectionFactory_();this.pendingConnection_=u;const d=g=>{null!==this.progressCallback_&&this.progressCallback_(g.loaded,g.lengthComputable?g.total:-1)};null!==this.progressCallback_&&u.addUploadProgressListener(d),u.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&u.removeUploadProgressListener(d),this.pendingConnection_=null;const g=u.getErrorCode()===ed.NO_ERROR,y=u.getStatus();if(!g||this.isRetryStatusCode_(y)){const T=u.getErrorCode()===ed.ABORT;return void r(!1,new CE(!1,null,T))}const w=-1!==this.successCodes_.indexOf(y);r(!0,new CE(w,u))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function Fk(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=e>=500&&e<600,i=-1!==[408,429].indexOf(e),u=-1!==this.additionalRetryCodes_.indexOf(e);return t||i||u}}class CE{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function Zk(...n){const e=function qk(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(fO())return new Blob(n);throw new Fr("unsupported-environment","This browser doesn't seem to support creating Blobs")}const Uo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class gO{constructor(e,t){this.data=e,this.contentType=t||null}}function mO(n,e){switch(n){case Uo.RAW:return new gO(Wx(e));case Uo.BASE64:case Uo.BASE64URL:return new gO(Kx(n,e));case Uo.DATA_URL:return new gO(function Qk(n){const e=new Yx(n);return e.base64?Kx(Uo.BASE64,e.rest):function Yk(n){let e;try{e=decodeURIComponent(n)}catch{throw n0(Uo.DATA_URL,"Malformed data URL.")}return Wx(e)}(e.rest)}(e),function Jk(n){return new Yx(n).contentType}(e))}throw hO()}function Wx(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function Kx(n,e){switch(n){case Uo.BASE64:{const i=-1!==e.indexOf("-"),u=-1!==e.indexOf("_");if(i||u)throw n0(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Uo.BASE64URL:{const i=-1!==e.indexOf("+"),u=-1!==e.indexOf("/");if(i||u)throw n0(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function Kk(n){return atob(n)}(e)}catch{throw n0(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class Yx{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw n0(Uo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function Xk(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class eu{constructor(e,t){let r=0,i="";qx(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(qx(this.data_)){const i=function Wk(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===i?null:new eu(i)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new eu(r,!0)}}static getBlob(...e){if(fO()){const t=e.map(r=>r instanceof eu?r.data_:r);return new eu(Zk.apply(null,t))}{const t=e.map(d=>vE(d)?mO(Uo.RAW,d).data:d.data_);let r=0;t.forEach(d=>{r+=d.byteLength});const i=new Uint8Array(r);let u=0;return t.forEach(d=>{for(let g=0;g<d.length;g++)i[u++]=d[g]}),new eu(i,!0)}}uploadData(){return this.data_}}function _O(n){let e;try{e=JSON.parse(n)}catch{return null}return function Uk(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function Qx(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function nF(n,e){return e}class Xi{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||nF}}let bE=null;function o0(){if(bE)return bE;const n=[];n.push(new Xi("bucket")),n.push(new Xi("generation")),n.push(new Xi("metageneration")),n.push(new Xi("name","fullPath",!0));const t=new Xi("name");t.xform=function e(u,d){return function rF(n){return!vE(n)||n.length<2?n:Qx(n)}(d)},n.push(t);const i=new Xi("size");return i.xform=function r(u,d){return void 0!==d?Number(d):d},n.push(i),n.push(new Xi("timeCreated")),n.push(new Xi("updated")),n.push(new Xi("md5Hash",null,!0)),n.push(new Xi("cacheControl",null,!0)),n.push(new Xi("contentDisposition",null,!0)),n.push(new Xi("contentEncoding",null,!0)),n.push(new Xi("contentLanguage",null,!0)),n.push(new Xi("contentType",null,!0)),n.push(new Xi("metadata","customMetadata",!0)),bE=n,bE}function Jx(n,e,t){const r=_O(e);return null===r?null:function oF(n,e,t){const r={type:"file"},i=t.length;for(let u=0;u<i;u++){const d=t[u];r[d.local]=d.xform(r,e[d.server])}return function iF(n,e){Object.defineProperty(n,"ref",{get:function t(){const u=new Bi(n.bucket,n.fullPath);return e._makeStorageReference(u)}})}(r,n),r}(n,r,t)}function yO(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const u=e[i];u.writable&&(t[u.server]=n[u.local])}return JSON.stringify(t)}const Xx="prefixes";class tu{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function nu(n){if(!n)throw hO()}function wE(n,e){return function t(r,i){const u=Jx(n,i,e);return nu(null!==u),u}}function nm(n){return function e(t,r){let i;return i=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function Dk(){return new Fr("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function Tk(){return new Fr("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function Ik(n){return new Fr("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function Mk(n){return new Fr("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):r,i.serverResponse=r.serverResponse,i}}function s0(n){const e=nm(n);return function t(r,i){let u=e(r,i);return 404===r.getStatus()&&(u=function Ek(n){return new Fr("object-not-found","Object '"+n+"' does not exist.")}(n.path)),u.serverResponse=i.serverResponse,u}}function tS(n,e,t){const i=dl(e.fullServerUrl(),n.host,n._protocol),d=n.maxOperationRetryTime,g=new tu(i,"GET",wE(n,t),d);return g.errorHandler=s0(e),g}function dF(n,e,t,r,i){const u={};u.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(u.delimiter=t),r&&(u.pageToken=r),i&&(u.maxResults=i);const g=dl(e.bucketOnlyServerUrl(),n.host,n._protocol),w=n.maxOperationRetryTime,T=new tu(g,"GET",function lF(n,e){return function t(r,i){const u=function uF(n,e,t){const r=_O(t);return null===r?null:function aF(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[Xx])for(const i of t[Xx]){const u=i.replace(/\/$/,""),d=n._makeStorageReference(new Bi(e,u));r.prefixes.push(d)}if(t.items)for(const i of t.items){const u=n._makeStorageReference(new Bi(e,i.name));r.items.push(u)}return r}(n,e,r)}(n,e,i);return nu(null!==u),u}}(n,e.bucket),w);return T.urlParams=u,T.errorHandler=nm(e),T}function rS(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function gF(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class EE{constructor(e,t,r,i){this.current=e,this.total=t,this.finalized=!!r,this.metadata=i||null}}function vO(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{nu(!1)}return nu(!!t&&-1!==(e||["active"]).indexOf(t)),t}const vF={STATE_CHANGED:"state_changed"},eo={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function CO(n){switch(n){case"running":case"pausing":case"canceling":return eo.RUNNING;case"paused":return eo.PAUSED;case"success":return eo.SUCCESS;case"canceled":return eo.CANCELED;default:return eo.ERROR}}class CF{constructor(e,t,r){if(function Vk(n){return"function"==typeof n}(e)||null!=t||null!=r)this.next=e,this.error=t??void 0,this.complete=r??void 0;else{const u=e;this.next=u.next,this.error=u.error,this.complete=u.complete}}}function rm(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class wF extends class bF{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ed.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ed.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ed.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw r0("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const u in i)i.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,i[u].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw r0("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw r0("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw r0("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw r0("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function Ys(){return new wF}class aS{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=o0(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{this._request=void 0,this._chunkMultiplier=1,i._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=i,this._transition("error"))},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals("canceled")?this.completeTransitions_():(this._error=i,this._transition("error"))},this._promise=new Promise((i,u)=>{this._resolve=i,this._reject=u,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function mF(n,e,t,r,i){const u=e.bucketOnlyServerUrl(),d=rS(e,r,i),g={name:d.fullPath},y=dl(u,n.host,n._protocol),T={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":d.contentType,"Content-Type":"application/json; charset=utf-8"},O=yO(d,t),X=new tu(y,"POST",function B(Se){let Ne;vO(Se);try{Ne=Se.getResponseHeader("X-Goog-Upload-URL")}catch{nu(!1)}return nu(vE(Ne)),Ne},n.maxUploadRetryTime);return X.urlParams=g,X.headers=T,X.body=O,X.errorHandler=nm(e),X}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Ys,e,t);this._request=i,i.getPromise().then(u=>{this._request=void 0,this._uploadUrl=u,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const i=function _F(n,e,t,r){const y=new tu(t,"POST",function u(w){const T=vO(w,["active","final"]);let O=null;try{O=w.getResponseHeader("X-Goog-Upload-Size-Received")}catch{nu(!1)}O||nu(!1);const V=Number(O);return nu(!isNaN(V)),new EE(V,r.size(),"final"===T)},n.maxUploadRetryTime);return y.headers={"X-Goog-Upload-Command":"query"},y.errorHandler=nm(e),y}(this._ref.storage,this._ref._location,e,this._blob),u=this._ref.storage._makeRequest(i,Ys,t,r);this._request=u,u.getPromise().then(d=>{this._request=void 0,this._updateProgress(d.current),this._needToFetchStatus=!1,d.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new EE(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,u)=>{let d;try{d=function yF(n,e,t,r,i,u,d,g){const y=new EE(0,0);if(d?(y.current=d.current,y.total=d.total):(y.current=0,y.total=r.size()),r.size()!==y.total)throw function Sk(){return new Fr("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const w=y.total-y.current;let T=w;i>0&&(T=Math.min(T,i));const O=y.current,X={"X-Goog-Upload-Command":T===w?"upload, finalize":"upload","X-Goog-Upload-Offset":`${y.current}`},Se=r.slice(O,O+T);if(null===Se)throw Gx();const Pt=new tu(t,"POST",function Ne(wt,Ht){const on=vO(wt,["active","final"]),Pr=y.current+T,Qs=r.size();let GO;return GO="final"===on?wE(e,u)(wt,Ht):null,new EE(Pr,Qs,"final"===on,GO)},e.maxUploadRetryTime);return Pt.headers=X,Pt.body=Se.uploadData(),Pt.progressCallback=g||null,Pt.errorHandler=nm(n),Pt}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(y){return this._error=y,void this._transition("error")}const g=this._ref.storage._makeRequest(d,Ys,i,u);this._request=g,g.getPromise().then(y=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(y.current),y.finalized?(this._metadata=y.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=tS(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Ys,e,t);this._request=i,i.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=function iS(n,e,t,r,i){const u=e.bucketOnlyServerUrl(),d={"X-Goog-Upload-Protocol":"multipart"},y=function g(){let Pt="";for(let wt=0;wt<2;wt++)Pt+=Math.random().toString().slice(2);return Pt}();d["Content-Type"]="multipart/related; boundary="+y;const w=rS(e,r,i),T=yO(w,t),B=eu.getBlob("--"+y+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+T+"\r\n--"+y+"\r\nContent-Type: "+w.contentType+"\r\n\r\n",r,"\r\n--"+y+"--");if(null===B)throw Gx();const X={name:w.fullPath},Se=dl(u,n.host,n._protocol),ft=n.maxUploadRetryTime,Nt=new tu(Se,"POST",wE(n,t),ft);return Nt.urlParams=X,Nt.headers=d,Nt.body=B.uploadData(),Nt.errorHandler=nm(e),Nt}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Ys,e,t);this._request=i,i.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=jx(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=CO(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,i){const u=new CF(t||void 0,r||void 0,i||void 0);return this._addObserver(u),()=>{this._removeObserver(u)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(CO(this._state)){case eo.SUCCESS:rm(this._resolve.bind(null,this.snapshot))();break;case eo.CANCELED:case eo.ERROR:rm(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(CO(this._state)){case eo.RUNNING:case eo.PAUSED:e.next&&rm(e.next.bind(e,this.snapshot))();break;case eo.SUCCESS:e.complete&&rm(e.complete.bind(e))();break;default:e.error&&rm(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class pf{constructor(e,t){this._service=e,this._location=t instanceof Bi?t:Bi.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new pf(e,t)}get root(){const e=new Bi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Qx(this._location.path)}get storage(){return this._service}get parent(){const e=function eF(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new Bi(this._location.bucket,e);return new pf(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw zx(e)}}function lS(n,e,t){return bO.apply(this,arguments)}function bO(){return bO=(0,ve.Z)(function*(n,e,t){const i=yield cS(n,{pageToken:t});e.prefixes.push(...i.prefixes),e.items.push(...i.items),null!=i.nextPageToken&&(yield lS(n,e,i.nextPageToken))}),bO.apply(this,arguments)}function cS(n,e){null!=e&&"number"==typeof e.maxResults&&pO("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=dF(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,Ys)}function NF(n){n._throwIfRoot("getDownloadURL");const e=function hF(n,e,t){const i=dl(e.fullServerUrl(),n.host,n._protocol),d=n.maxOperationRetryTime,g=new tu(i,"GET",function cF(n,e){return function t(r,i){const u=Jx(n,i,e);return nu(null!==u),function sF(n,e,t,r){const i=_O(e);if(null===i||!vE(i.downloadTokens))return null;const u=i.downloadTokens;if(0===u.length)return null;const d=encodeURIComponent;return u.split(",").map(w=>{const O=n.fullPath;return dl("/b/"+d(n.bucket)+"/o/"+d(O),t,r)+Zx({alt:"media",token:w})})[0]}(u,i,n.host,n._protocol)}}(n,t),d);return g.errorHandler=s0(e),g}(n.storage,n._location,o0());return n.storage.makeRequestWithTokens(e,Ys).then(t=>{if(null===t)throw function Rk(){return new Fr("no-download-url","The given file does not have any download URLs.")}();return t})}function dS(n,e){const t=function tF(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new Bi(n._location.bucket,t);return new pf(n.storage,r)}function hS(n,e){if(n instanceof wO){const t=n;if(null==t._bucket)throw function xk(){return new Fr("no-default-bucket","No default bucket found. Did you set the '"+$x+"' property when initializing the app?")}();const r=new pf(t,t._bucket);return null!=e?hS(r,e):r}return void 0!==e?dS(n,e):n}function VF(n,e){if(e&&function FF(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof wO)return function LF(n,e){return new pf(n,e)}(n,e);throw tm("To use ref(service, url), the first argument must be a Storage instance.")}return hS(n,e)}function fS(n,e){const t=null==e?void 0:e[$x];return null==t?null:Bi.makeFromBucketSpec(t,n)}class wO{constructor(e,t,r,i,u){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=u,this._bucket=null,this._host=Bx,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Bi.makeFromBucketSpec(i,this._host):fS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Bi.makeFromBucketSpec(this._url,e):fS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){pO("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){pO("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,ve.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,ve.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new pf(this,e)}_makeRequest(e,t,r,i){if(this._deleted)return new Nk(Hx());{const u=function zk(n,e,t,r,i,u){const d=Zx(n.urlParams),g=n.url+d,y=Object.assign({},n.headers);return function Gk(n,e){e&&(n["X-Firebase-GMPID"]=e)}(y,e),function $k(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(y,t),function jk(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(y,u),function Hk(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(y,r),new Bk(g,n.method,y,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i)}(e,this._appId,r,i,t,this._firebaseVersion);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}makeRequestWithTokens(e,t){var r=this;return(0,ve.Z)(function*(){const[i,u]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,i,u).getPromise()})()}}const pS="@firebase/storage",mS="storage";function _S(n,e){return VF(n=(0,Qt.m9)(n),e)}function WF(n=(0,Sr.getApp)(),e){return n=(0,Qt.m9)(n),(0,Sr._getProvider)(n,mS).getImmediate({identifier:e})}function YF(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new wO(t,r,i,e,Sr.SDK_VERSION)}!function QF(){(0,Sr._registerComponent)(new ka.wA(mS,YF,"PUBLIC").setMultipleInstances(!0)),(0,Sr.registerVersion)(pS,"0.9.9",""),(0,Sr.registerVersion)(pS,"0.9.9","esm2017")}();class IE{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class yS{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new IE(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new IE(r,this,this._ref))},t)}on(e,t,r,i){let u;return t&&(u="function"==typeof t?d=>t(new IE(d,this,this._ref)):{next:t.next?d=>t.next(new IE(d,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,u,r||void 0,i||void 0)}}class vS{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new hl(e,this._service))}get items(){return this._delegate.items.map(e=>new hl(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class hl{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function ZF(n,e){return dS(n,e)}(this._delegate,e);return new hl(t,this.storage)}get root(){return new hl(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new hl(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new yS(function BF(n,e,t){return function PF(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new aS(n,new eu(e),t)}(n=(0,Qt.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=Uo.RAW,r){this._throwIfRoot("putString");const i=mO(t,e),u=Object.assign({},r);return null==u.contentType&&null!=i.contentType&&(u.contentType=i.contentType),new yS(new aS(this._delegate,new eu(i.data,!0),u),this)}listAll(){return function HF(n){return function xF(n){const e={prefixes:[],items:[]};return lS(n,e).then(()=>e)}(n=(0,Qt.m9)(n))}(this._delegate).then(e=>new vS(e,this.storage))}list(e){return function GF(n,e){return cS(n=(0,Qt.m9)(n),e)}(this._delegate,e||void 0).then(t=>new vS(t,this.storage))}getMetadata(){return function $F(n){return function SF(n){n._throwIfRoot("getMetadata");const e=tS(n.storage,n._location,o0());return n.storage.makeRequestWithTokens(e,Ys)}(n=(0,Qt.m9)(n))}(this._delegate)}updateMetadata(e){return function jF(n,e){return function RF(n,e){n._throwIfRoot("updateMetadata");const t=function fF(n,e,t,r){const u=dl(e.fullServerUrl(),n.host,n._protocol),g=yO(t,r),w=n.maxOperationRetryTime,T=new tu(u,"PATCH",wE(n,r),w);return T.headers={"Content-Type":"application/json; charset=utf-8"},T.body=g,T.errorHandler=s0(e),T}(n.storage,n._location,e,o0());return n.storage.makeRequestWithTokens(t,Ys)}(n=(0,Qt.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function zF(n){return NF(n=(0,Qt.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function qF(n){return function kF(n){n._throwIfRoot("deleteObject");const e=function pF(n,e){const r=dl(e.fullServerUrl(),n.host,n._protocol),g=new tu(r,"DELETE",function d(y,w){},n.maxOperationRetryTime);return g.successCodes=[200,204],g.errorHandler=s0(e),g}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,Ys)}(n=(0,Qt.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw zx(e)}}class CS{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(bS(e))throw tm("ref() expected a child path but got a URL, use refFromURL instead.");return new hl(_S(this._delegate,e),this)}refFromURL(e){if(!bS(e))throw tm("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Bi.makeFromUrl(e,this._delegate.host)}catch{throw tm("refFromUrl() expected a valid full URL but got an invalid one.")}return new hl(_S(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){!function KF(n,e,t,r={}){!function UF(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken="string"==typeof i?i:(0,Qt.Sg)(i,n.app.options.projectId))}(n,e,t,r)}(this._delegate,e,t,r)}}function bS(n){return/^[A-Za-z]+:\/\//.test(n)}function tL(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new CS(t,r)}function wS(n){const e=function rL(n){return new Dr.y(e=>{const t=d=>e.next(d);t(n.snapshot);const u=n.on("state_changed",t);return n.then(d=>{t(d),e.complete()},d=>{t(n.snapshot),(d=>{e.error(d)})(d)}),function(){u()}}).pipe(function Ck(n,e=dh.z){return(0,xr.e)((t,r)=>{let i=null,u=null,d=null;const g=()=>{if(i){i.unsubscribe(),i=null;const w=u;u=null,r.next(w)}};function y(){const w=d+n,T=e.now();if(T<w)return i=this.schedule(void 0,w-T),void r.add(i);g()}t.subscribe(new qn.Q(r,w=>{u=w,d=e.now(),i||(i=e.schedule(y,n),r.add(i))},()=>{g(),r.complete()},void 0,()=>{u=i=null}))})}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,Lt.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function TE(n){return{getDownloadURL:()=>Mt(void 0).pipe(ht.fc,gr(()=>n.getDownloadURL()),ht.iC),getMetadata:()=>Mt(void 0).pipe(ht.fc,gr(()=>n.getMetadata()),ht.iC),delete:()=>(0,Pn.D)(n.delete()),child:e=>TE(n.child(e)),updateMetadata:e=>(0,Pn.D)(n.updateMetadata(e)),put:(e,t)=>wS(n.put(e,t)),putString:(e,t,r)=>wS(n.putString(e,t,r)),list:e=>(0,Pn.D)(n.list(e)),listAll:()=>(0,Pn.D)(n.listAll())}}!function nL(n){const e={TaskState:eo,TaskEvent:vF,StringFormat:Uo,Storage:CS,Reference:hl};n.INTERNAL.registerComponent(new ka.wA("storage-compat",tL,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.17")}(kp.Z);const iL=new l.OlP("angularfire2.storageBucket"),oL=new l.OlP("angularfire2.storage.maxUploadRetryTime"),sL=new l.OlP("angularfire2.storage.maxOperationRetryTime"),aL=new l.OlP("angularfire2.storage.use-emulator");let ES=(()=>{class n{constructor(t,r,i,u,d,g,y,w,T,O){const V=(0,Zr.on)(t,d,r);this.storage=(0,Zr.cc)(`${V.name}.storage.${i}`,"AngularFireStorage",V.name,()=>{const B=d.runOutsideAngular(()=>V.storage(i||void 0)),X=T;return X&&B.useEmulator(...X),y&&B.setMaxUploadRetryTime(y),w&&B.setMaxOperationRetryTime(w),B},[y,w])}ref(t){return TE(this.storage.ref(t))}refFromURL(t){return TE(this.storage.refFromURL(t))}upload(t,r,i){return TE(this.storage.ref(t)).put(r,i)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Zr.Dh),l.LFG(Zr.xv,8),l.LFG(iL,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(ht.HU),l.LFG(oL,8),l.LFG(sL,8),l.LFG(aL,8),l.LFG(js,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),uL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),lL=(()=>{class n{constructor(){xo.Z.registerVersion("angularfire",ht.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[ES],imports:[uL]}),n})(),td=(()=>{class n{constructor(t,r){this.afd=t,this.afs=r}save(t,r){return r.id=""==r.id?this.afd.createId():r.id,this.afd.collection(t).doc(r.id).set(r,{merge:!0})}read(t,r){return r?this.afd.collection(t,i=>r.search?r.order?i.where(r.search.data,"==",r.search.value).orderBy(r.order):i.where(r.search.data,"==",r.search.value):r.order?i.orderBy(r.order):i).valueChanges():this.afd.collection(t).valueChanges()}delete(t,r){return this.afd.collection(t).doc(r).delete()}setUser(t){return this.read("User",{search:{data:"email",value:t}})}getImage(t){return this.afs.ref(t).getDownloadURL()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ux),l.LFG(ES))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function cL(n,e){if(1&n&&(l.TgZ(0,"div",19),l._uU(1),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.hij(" ",t.error.text," ")}}let dL=(()=>{class n{constructor(t,r,i,u){this.auth=t,this.data=r,this.formBuilder=i,this.router=u,this.formLogin=i.group({email:["",dn.compose([dn.required,dn.email])],password:["",dn.compose([dn.required,dn.minLength(6),dn.maxLength(15)])]}),this.hide=!0,this.error={value:!0,text:""}}ngOnInit(){}login(){this.formLogin.valid&&this.auth.login(this.formLogin.value).then(t=>{this.router.navigateByUrl("",{skipLocationChange:!0}).then(()=>{let r=this.data.setUser(this.formLogin.value.email).subscribe(i=>{i[0]&&(this.formLogin.reset(),console.log(i[0]),localStorage.setItem("user",JSON.stringify(i[0])),this.router.navigate(["/c"])),r.unsubscribe()})})}).catch(t=>{let r=t.code;if("pt-BR"==this.auth.language)switch(r){case"auth/invalid-email":this.errors("Erro: e-mail inv\xe1lido");break;case"auth/user-disabled":this.errors("Erro: usu\xe1rio desativado");break;case"auth/user-not-found":this.errors("Erro: usu\xe1rio n\xe3o encontrado");break;case"auth/wrong-password":this.errors("Erro: senha incorreta");break;default:this.errors("Erro: "+t)}else this.errors("Error: "+r)})}errors(t){this.error.value=!0,this.error.text=t,setTimeout(()=>{this.error.value=!1,this.error.text=""},4e3)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Hs),l.Y36(td),l.Y36(Jl),l.Y36(Er))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-login"]],decls:24,vars:7,consts:function(){let e,t,r,i;return e="LOGIN",t=" Prices ",r="Forgot your password?",i="Don't have an account? " + "\ufffd#23\ufffd" + "Register now" + "\ufffd/#23\ufffd" + "",[[1,"auth"],[3,"formGroup","ngSubmit"],e,["appearance","fill",1,"input"],["placeholder","Email","formControlName","email","type","email","autocomplete","current-email","required",""],["placeholder","Password","formControlName","password","autocomplete","current-password",3,"type"],["type","button",3,"click"],[1,"material-symbols-outlined"],["class","error-message",4,"ngIf"],[1,"buttons"],["type","submit","aria-hidden","false","aria-label","Login",1,"btn",3,"disabled"],["type","button","aria-hidden","false","aria-label","Prices",1,"btn"],["routerLink","/payment"],t,[1,"text-alt"],["routerLink","../forgotpassword"],r,i,["routerLink","../register"],[1,"error-message"]]},template:function(t,r){1&t&&(l.TgZ(0,"section",0),l.TgZ(1,"form",1),l.NdJ("ngSubmit",function(){return r.login()}),l.TgZ(2,"h2"),l.SDv(3,2),l.qZA(),l.TgZ(4,"div",3),l._UZ(5,"input",4),l.qZA(),l.TgZ(6,"div",3),l._UZ(7,"input",5),l.TgZ(8,"button",6),l.NdJ("click",function(){return r.hide=!r.hide}),l.TgZ(9,"span",7),l._uU(10),l.qZA(),l.qZA(),l.qZA(),l.YNc(11,cL,2,1,"div",8),l.TgZ(12,"div",9),l.TgZ(13,"button",10),l._uU(14," Continue "),l.qZA(),l.TgZ(15,"button",11),l.TgZ(16,"a",12),l.SDv(17,13),l.qZA(),l.qZA(),l.qZA(),l.TgZ(18,"div",14),l.TgZ(19,"a",15),l.SDv(20,16),l.qZA(),l.TgZ(21,"p"),l.tHW(22,17),l._UZ(23,"a",18),l.N_p(),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&t&&(l.xp6(1),l.Q6J("formGroup",r.formLogin),l.xp6(6),l.Q6J("type",r.hide?"password":"text"),l.xp6(1),l.uIk("aria-label","Hide password")("aria-pressed",r.hide),l.xp6(2),l.hij(" ",r.hide?"visibility_off":"visibility"," "),l.xp6(1),l.Q6J("ngIf",1==r.error.value),l.xp6(2),l.Q6J("disabled",r.formLogin.invalid))},directives:[Wl,Gl,Ra,Vu,jl,Hu,zu,Cr,Us],styles:['body[_ngcontent-%COMP%], *[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}body[_ngcontent-%COMP%]{font-weight:400;font-family:Roboto,sans-serif}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{font-weight:500;font-family:Libre Baskerville,serif}p[_ngcontent-%COMP%]{font-weight:400;font-family:Roboto,sans-serif}.btn[_ngcontent-%COMP%]{width:100%;padding:10px 5px;margin:0 auto;border-radius:10px;background-color:#80242b;color:#fff;font-size:12pt;border:0;cursor:pointer;box-shadow:0 0 3px 2px #0000004d;font-weight:500;font-family:Libre Baskerville,serif;transition:all ease-in-out .25s}.btn[_ngcontent-%COMP%]:disabled{opacity:20%;cursor:not-allowed}.btn[_ngcontent-%COMP%]:hover{box-shadow:0 0 2px #0000004d}@keyframes loading-bar{0%{margin-left:0}50%{margin-left:70%}to{margin-left:0%}}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.mobile[_ngcontent-%COMP%]{display:none}@media screen and (max-width: 768px){.mobile[_ngcontent-%COMP%]{display:block}}.desktop[_ngcontent-%COMP%]{display:block}@media screen and (max-width: 768px){.desktop[_ngcontent-%COMP%]{display:none}}.auth[_ngcontent-%COMP%]{min-height:100vh;width:100%;display:flex;justify-content:center;align-items:center}.auth[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{padding:10px 0;width:90%;max-width:300px;margin:auto;text-align:center}.auth[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24pt;padding:20px;font-weight:700;font-family:Libre Baskerville,serif;color:#80242b}.auth[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#80242b}.auth[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{padding:10px}.auth[_ngcontent-%COMP%]   .text-alt[_ngcontent-%COMP%]{text-align:left;padding-left:10px}.auth[_ngcontent-%COMP%]   .text-alt[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#80242b}.input[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background-color:#fff;padding:10px;margin:10px;height:40px;position:relative;border:1px solid #80242b;border-radius:10px}.input[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:10pt;font-weight:700;font-family:Libre Baskerville,serif;padding-right:5px;color:#80242b}.input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;text-align:left;width:80%;border:none;outline:none;color:#80242b}.input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;right:0;margin-right:3px;color:#80242b;background-color:transparent;border:0;display:flex;justify-content:center;align-items:center;outline:none;cursor:pointer;transition:all ease-in-out .25s;padding:5px;border-radius:100px}.input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ededed}.input[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.input[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.input[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{background-color:#80242b;color:#fff}.input[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{background-color:#db9e9e;color:#000;transition:all ease-in-out .25s;cursor:pointer;padding:5px;margin:2px;border-radius:5px;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.input[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{background-color:#80242b;color:#fff}a[_ngcontent-%COMP%]{color:#80242b;padding:0;margin:0;text-decoration:none}.icon-btn[_ngcontent-%COMP%]{margin-right:3px;color:#80242b;background-color:transparent;border:0;display:flex;justify-content:center;align-items:center;outline:none;cursor:pointer;transition:all ease-in-out .25s;padding:5px;border-radius:100px}.icon-btn[_ngcontent-%COMP%]:hover{background-color:#ededed}.content[_ngcontent-%COMP%]{min-height:100vh;width:100%}.btn[_ngcontent-%COMP%]{margin:10px 0;display:flex;justify-content:center;align-items:center}.btn[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{flex:1;color:#fff}']}),n})();function hL(n,e){if(1&n&&(l.TgZ(0,"div",18),l._uU(1),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Oqu(t.error.text)}}let fL=(()=>{class n{constructor(t,r,i,u){this.formBuilder=t,this.auth=r,this.data=i,this.router=u,this.formRegister=t.group({id:[""],email:["",dn.compose([dn.required,dn.email])],name:["",dn.compose([dn.required])],lastname:["",dn.compose([dn.required])],displayname:[""],password:["",dn.compose([dn.required,dn.minLength(6),dn.maxLength(15)])],admin:[!1],alert:[!1],uid:[""]}),this.hide=!0,this.error={value:!1,text:""}}ngOnInit(){}register(){if(this.formRegister.valid){let t=this.formRegister.value;this.auth.register(t).then(r=>{t.uid=r.user.uid?r.user.uid:"",t.displayname=t.name+" "+t.lastname,delete t.password,this.data.save(this.auth.module,t).then(i=>{this.formRegister.reset(),this.router.navigate(["/login"]).then(()=>{setTimeout(()=>{window.location.reload()},1)})}).catch(i=>{this.errors("pt-BR"==this.auth.language?"Erro: "+i:"Error: "+i.code)})}).catch(r=>{let i=r.code;if("pt-BR"==this.auth.language)switch(i){case"auth/email-already-in-use":this.errors("Erro: e-mail j\xe1 foi usado por outro usu\xe1rio");break;case"auth/invalid-email":this.errors("Erro: e-mail inv\xe1lido");break;case"auth/operation-not-allowed":this.errors("Erro: e-mail e senha n\xe3o permitidos");break;case"auth/weak-password":this.errors("Erro: senha fraca");break;default:this.errors("Erro: "+i)}else this.errors("Error: "+i)})}}errors(t){this.error.value=!0,this.error.text=t,setTimeout(()=>{this.error.value=!1,this.error.text=""},4e3)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Jl),l.Y36(Hs),l.Y36(td),l.Y36(Er))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-register"]],decls:23,vars:7,consts:function(){let e,t,r;return e="REGISTER",t=" Create account ",r="Already have an account? " + "\ufffd#22\ufffd" + "Sign in here" + "\ufffd/#22\ufffd" + "",[[1,"auth"],[3,"formGroup","ngSubmit"],[1,"title"],e,["appearance","fill",1,"input"],["placeholder","Email","formControlName","email","type","email","autocomplete","current-email"],["placeholder","Name","matInput","","formControlName","name","type","text","autocomplete","name"],["placeholder","Last name","matInput","","formControlName","lastname","type","text","autocomplete","name"],["placeholder","Password","formControlName","password","autocomplete","current-password",3,"type"],["type","button",3,"click"],[1,"material-symbols-outlined"],["class","error-message",4,"ngIf"],[1,"buttons"],["type","submit","aria-hidden","false","aria-label","Login",1,"btn",3,"disabled"],t,[1,"text-alt"],r,["routerLink","../login"],[1,"error-message"]]},template:function(t,r){1&t&&(l.TgZ(0,"section",0),l.TgZ(1,"form",1),l.NdJ("ngSubmit",function(){return r.register()}),l.TgZ(2,"h2",2),l.SDv(3,3),l.qZA(),l.TgZ(4,"div",4),l._UZ(5,"input",5),l.qZA(),l.TgZ(6,"div",4),l._UZ(7,"input",6),l.qZA(),l.TgZ(8,"div",4),l._UZ(9,"input",7),l.qZA(),l.TgZ(10,"div",4),l._UZ(11,"input",8),l.TgZ(12,"button",9),l.NdJ("click",function(){return r.hide=!r.hide}),l.TgZ(13,"span",10),l._uU(14),l.qZA(),l.qZA(),l.qZA(),l.YNc(15,hL,2,1,"div",11),l.TgZ(16,"div",12),l.TgZ(17,"button",13),l.SDv(18,14),l.qZA(),l.qZA(),l.TgZ(19,"div",15),l.TgZ(20,"p"),l.tHW(21,16),l._UZ(22,"a",17),l.N_p(),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&t&&(l.xp6(1),l.Q6J("formGroup",r.formRegister),l.xp6(10),l.Q6J("type",r.hide?"password":"text"),l.xp6(1),l.uIk("aria-label","Hide password")("aria-pressed",r.hide),l.xp6(2),l.hij(" ",r.hide?"visibility_off":"visibility"," "),l.xp6(1),l.Q6J("ngIf",1==r.error.value),l.xp6(2),l.Q6J("disabled",r.formRegister.invalid))},directives:[Wl,Gl,Ra,Vu,jl,Hu,Cr,Us],styles:['body[_ngcontent-%COMP%], *[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}body[_ngcontent-%COMP%]{font-weight:400;font-family:Roboto,sans-serif}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{font-weight:500;font-family:Libre Baskerville,serif}p[_ngcontent-%COMP%]{font-weight:400;font-family:Roboto,sans-serif}.btn[_ngcontent-%COMP%]{width:100%;padding:10px 5px;margin:0 auto;border-radius:10px;background-color:#80242b;color:#fff;font-size:12pt;border:0;cursor:pointer;box-shadow:0 0 3px 2px #0000004d;font-weight:500;font-family:Libre Baskerville,serif;transition:all ease-in-out .25s}.btn[_ngcontent-%COMP%]:disabled{opacity:20%;cursor:not-allowed}.btn[_ngcontent-%COMP%]:hover{box-shadow:0 0 2px #0000004d}@keyframes loading-bar{0%{margin-left:0}50%{margin-left:70%}to{margin-left:0%}}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.mobile[_ngcontent-%COMP%]{display:none}@media screen and (max-width: 768px){.mobile[_ngcontent-%COMP%]{display:block}}.desktop[_ngcontent-%COMP%]{display:block}@media screen and (max-width: 768px){.desktop[_ngcontent-%COMP%]{display:none}}.auth[_ngcontent-%COMP%]{min-height:100vh;width:100%;display:flex;justify-content:center;align-items:center}.auth[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{padding:10px 0;width:90%;max-width:300px;margin:auto;text-align:center}.auth[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24pt;padding:20px;font-weight:700;font-family:Libre Baskerville,serif;color:#80242b}.auth[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#80242b}.auth[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{padding:10px}.auth[_ngcontent-%COMP%]   .text-alt[_ngcontent-%COMP%]{text-align:left;padding-left:10px}.auth[_ngcontent-%COMP%]   .text-alt[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#80242b}.input[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background-color:#fff;padding:10px;margin:10px;height:40px;position:relative;border:1px solid #80242b;border-radius:10px}.input[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:10pt;font-weight:700;font-family:Libre Baskerville,serif;padding-right:5px;color:#80242b}.input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;text-align:left;width:80%;border:none;outline:none;color:#80242b}.input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;right:0;margin-right:3px;color:#80242b;background-color:transparent;border:0;display:flex;justify-content:center;align-items:center;outline:none;cursor:pointer;transition:all ease-in-out .25s;padding:5px;border-radius:100px}.input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ededed}.input[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.input[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.input[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{background-color:#80242b;color:#fff}.input[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{background-color:#db9e9e;color:#000;transition:all ease-in-out .25s;cursor:pointer;padding:5px;margin:2px;border-radius:5px;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.input[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{background-color:#80242b;color:#fff}a[_ngcontent-%COMP%]{color:#80242b;padding:0;margin:0;text-decoration:none}.icon-btn[_ngcontent-%COMP%]{margin-right:3px;color:#80242b;background-color:transparent;border:0;display:flex;justify-content:center;align-items:center;outline:none;cursor:pointer;transition:all ease-in-out .25s;padding:5px;border-radius:100px}.icon-btn[_ngcontent-%COMP%]:hover{background-color:#ededed}.content[_ngcontent-%COMP%]{min-height:100vh;width:100%}']}),n})(),IS=(()=>{class n{constructor(t){this.http=t,this.url=co_BASE_API}checkoutStripe(t,r){let i=new fi;return i=i.set("content-type","application/json"),this.http.post(this.url+"/stripe-checkout",{currency:t,uid:r},{headers:i})}retrieveStripe(t){let r=new fi;return r=r.set("content-type","application/json"),this.http.post(this.url+"/stripe-retrive",{uid:t},{headers:r})}paymentStripe(t,r){let i=new fi;return i=i.set("content-type","application/json"),this.http.post(this.url+"/stripe-payment",{uid:t,session:r},{headers:i})}checkStripe(t,r){let i=new fi;return i=i.set("content-type","application/json"),this.http.post(this.url+"/stripe-check",{uid:t,session:r},{headers:i})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(F_))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),TS=(()=>{class n{constructor(){this.text||(this.text="")}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-loading"]],inputs:{text:"text"},decls:4,vars:1,consts:[["id","loading"],[1,"loading"]],template:function(t,r){1&t&&(l.TgZ(0,"section",0),l._UZ(1,"div",1),l.TgZ(2,"span"),l._uU(3),l.qZA(),l.qZA()),2&t&&(l.xp6(3),l.Oqu(r.text))},styles:['body[_ngcontent-%COMP%], *[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}body[_ngcontent-%COMP%]{font-weight:400;font-family:Roboto,sans-serif}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{font-weight:500;font-family:Libre Baskerville,serif}p[_ngcontent-%COMP%]{font-weight:400;font-family:Roboto,sans-serif}.btn[_ngcontent-%COMP%]{width:100%;padding:10px 5px;margin:0 auto;border-radius:10px;background-color:#80242b;color:#fff;font-size:12pt;border:0;cursor:pointer;box-shadow:0 0 3px 2px #0000004d;font-weight:500;font-family:Libre Baskerville,serif;transition:all ease-in-out .25s}.btn[_ngcontent-%COMP%]:disabled{opacity:20%;cursor:not-allowed}.btn[_ngcontent-%COMP%]:hover{box-shadow:0 0 2px #0000004d}@keyframes loading-bar{0%{margin-left:0}50%{margin-left:70%}to{margin-left:0%}}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.mobile[_ngcontent-%COMP%]{display:none}@media screen and (max-width: 768px){.mobile[_ngcontent-%COMP%]{display:block}}.desktop[_ngcontent-%COMP%]{display:block}@media screen and (max-width: 768px){.desktop[_ngcontent-%COMP%]{display:none}}.auth[_ngcontent-%COMP%]{min-height:100vh;width:100%;display:flex;justify-content:center;align-items:center}.auth[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{padding:10px 0;width:90%;max-width:300px;margin:auto;text-align:center}.auth[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24pt;padding:20px;font-weight:700;font-family:Libre Baskerville,serif;color:#80242b}.auth[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#80242b}.auth[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{padding:10px}.auth[_ngcontent-%COMP%]   .text-alt[_ngcontent-%COMP%]{text-align:left;padding-left:10px}.auth[_ngcontent-%COMP%]   .text-alt[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#80242b}.input[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background-color:#fff;padding:10px;margin:10px;height:40px;position:relative;border:1px solid #80242b;border-radius:10px}.input[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:10pt;font-weight:700;font-family:Libre Baskerville,serif;padding-right:5px;color:#80242b}.input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;text-align:left;width:80%;border:none;outline:none;color:#80242b}.input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;right:0;margin-right:3px;color:#80242b;background-color:transparent;border:0;display:flex;justify-content:center;align-items:center;outline:none;cursor:pointer;transition:all ease-in-out .25s;padding:5px;border-radius:100px}.input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ededed}.input[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.input[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.input[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{background-color:#80242b;color:#fff}.input[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{background-color:#db9e9e;color:#000;transition:all ease-in-out .25s;cursor:pointer;padding:5px;margin:2px;border-radius:5px;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.input[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{background-color:#80242b;color:#fff}a[_ngcontent-%COMP%]{color:#80242b;padding:0;margin:0;text-decoration:none}.icon-btn[_ngcontent-%COMP%]{margin-right:3px;color:#80242b;background-color:transparent;border:0;display:flex;justify-content:center;align-items:center;outline:none;cursor:pointer;transition:all ease-in-out .25s;padding:5px;border-radius:100px}.icon-btn[_ngcontent-%COMP%]:hover{background-color:#ededed}.content[_ngcontent-%COMP%]{min-height:100vh;width:100%}#loading[_ngcontent-%COMP%]{position:fixed;display:flex;flex-direction:column;top:0;left:0;justify-content:center;align-items:center;height:100vh;width:100vw;background-color:#0003;z-index:10000}#loading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{max-width:90%;margin:30px auto;text-align:center;font-weight:700;font-family:Libre Baskerville,serif;color:#80242b}.loading[_ngcontent-%COMP%]{display:inline-block;width:80px;height:80px}.loading[_ngcontent-%COMP%]:after{content:" ";display:block;width:64px;height:64px;border-radius:50%;border:6px solid #80242b;border-color:#80242b transparent #DB9E9E transparent;animation:loading 1.2s linear infinite}@keyframes loading{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']}),n})();function pL(n,e){1&n&&l._UZ(0,"router-outlet")}function gL(n,e){if(1&n&&l._UZ(0,"app-loading",3),2&n){const t=l.oxw();l.Q6J("text",t.loading.text)}}let DS=(()=>{class n{constructor(t,r,i){this.pay=t,this.router=r,this.auth=i,this.loadText=["","Loading class"],this.loading={value:!1,text:this.loadText[0]},this.class=!1}ngOnInit(){this.checkPayment()}checkPayment(){let t;t=localStorage.getItem("user"),t=JSON.parse(t),this.setLoading(!0,this.loadText[1]);let r=this.pay.checkStripe(t.uid,t.pay).subscribe(i=>{"ok"==i.status?this.classInit():(localStorage.removeItem("user"),this.setLoading(!1),this.router.navigate(["login"])),r.unsubscribe()},i=>{localStorage.removeItem("user"),this.router.navigate(["login"]).then(()=>{setTimeout(()=>{window.location.reload()},1)}),r.unsubscribe()})}classInit(){this.setLoading(!1),this.class=!0}setLoading(t,r){1==t?(this.loading.value=t,this.loading.text=r||this.loadText[0]):(this.loading.value=t,this.loading.text=this.loadText[0])}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(IS),l.Y36(Er),l.Y36(Hs))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-class"]],decls:3,vars:2,consts:[[1,"content"],[4,"ngIf"],[3,"text",4,"ngIf"],[3,"text"]],template:function(t,r){1&t&&(l.TgZ(0,"section",0),l.YNc(1,pL,1,0,"router-outlet",1),l.qZA(),l.YNc(2,gL,1,1,"app-loading",2)),2&t&&(l.xp6(1),l.Q6J("ngIf",1==r.class),l.xp6(1),l.Q6J("ngIf",1==r.loading.value))},directives:[Cr,Ma,TS],styles:['body[_ngcontent-%COMP%], *[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}body[_ngcontent-%COMP%]{font-weight:400;font-family:Roboto,sans-serif}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{font-weight:500;font-family:Libre Baskerville,serif}p[_ngcontent-%COMP%]{font-weight:400;font-family:Roboto,sans-serif}.btn[_ngcontent-%COMP%]{width:100%;padding:10px 5px;margin:0 auto;border-radius:10px;background-color:#80242b;color:#fff;font-size:12pt;border:0;cursor:pointer;box-shadow:0 0 3px 2px #0000004d;font-weight:500;font-family:Libre Baskerville,serif;transition:all ease-in-out .25s}.btn[_ngcontent-%COMP%]:disabled{opacity:20%;cursor:not-allowed}.btn[_ngcontent-%COMP%]:hover{box-shadow:0 0 2px #0000004d}@keyframes loading-bar{0%{margin-left:0}50%{margin-left:70%}to{margin-left:0%}}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.mobile[_ngcontent-%COMP%]{display:none}@media screen and (max-width: 768px){.mobile[_ngcontent-%COMP%]{display:block}}.desktop[_ngcontent-%COMP%]{display:block}@media screen and (max-width: 768px){.desktop[_ngcontent-%COMP%]{display:none}}.auth[_ngcontent-%COMP%]{min-height:100vh;width:100%;display:flex;justify-content:center;align-items:center}.auth[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{padding:10px 0;width:90%;max-width:300px;margin:auto;text-align:center}.auth[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24pt;padding:20px;font-weight:700;font-family:Libre Baskerville,serif;color:#80242b}.auth[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#80242b}.auth[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{padding:10px}.auth[_ngcontent-%COMP%]   .text-alt[_ngcontent-%COMP%]{text-align:left;padding-left:10px}.auth[_ngcontent-%COMP%]   .text-alt[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#80242b}.input[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background-color:#fff;padding:10px;margin:10px;height:40px;position:relative;border:1px solid #80242b;border-radius:10px}.input[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:10pt;font-weight:700;font-family:Libre Baskerville,serif;padding-right:5px;color:#80242b}.input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;text-align:left;width:80%;border:none;outline:none;color:#80242b}.input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;right:0;margin-right:3px;color:#80242b;background-color:transparent;border:0;display:flex;justify-content:center;align-items:center;outline:none;cursor:pointer;transition:all ease-in-out .25s;padding:5px;border-radius:100px}.input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ededed}.input[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.input[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.input[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{background-color:#80242b;color:#fff}.input[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{background-color:#db9e9e;color:#000;transition:all ease-in-out .25s;cursor:pointer;padding:5px;margin:2px;border-radius:5px;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.input[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{background-color:#80242b;color:#fff}a[_ngcontent-%COMP%]{color:#80242b;padding:0;margin:0;text-decoration:none}.icon-btn[_ngcontent-%COMP%]{margin-right:3px;color:#80242b;background-color:transparent;border:0;display:flex;justify-content:center;align-items:center;outline:none;cursor:pointer;transition:all ease-in-out .25s;padding:5px;border-radius:100px}.icon-btn[_ngcontent-%COMP%]:hover{background-color:#ededed}.content[_ngcontent-%COMP%]{min-height:100vh;width:100%}']}),n})(),MS=(()=>{class n{constructor(t,r){this.sanitizer=t,this.http=r,this.url=co_BASE_API}sendAlert(t){let r=new fi;return r=r.set("content-type","application/json"),this.http.post(this.url+"/send-alert",{user:t},{headers:r})}setValidators(t){let i,r=[];for(const[u,d]of Object.entries(t))switch(u){case"min":i=d,r.push(dn.min(parseInt(i)));break;case"max":i=d,r.push(dn.max(i));break;case"required":1==d&&r.push(dn.required);break;case"requiredTrue":d&&r.push(dn.requiredTrue);break;case"email":1==d&&r.push(dn.email);break;case"minLength":i=d,r.push(dn.minLength(i));break;case"maxLength":i=d,r.push(dn.maxLength(i));break;case"pattern":i=d,r.push(dn.pattern(i));break;case"nullValidator":d&&r.push(dn.nullValidator)}return r}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ua),l.LFG(F_))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function mL(n,e){if(1&n){const t=l.EpF();l.tHW(0,6,1),l.TgZ(1,"button",12),l.NdJ("click",function(){return l.CHM(t),l.oxw(2).setResponse()}),l.qZA(),l.N_p()}if(2&n){const t=l.oxw(2);l.xp6(1),l.pQV(t.response.name),l.QtT(0)}}function _L(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"form",4),l.NdJ("submit",function(){return l.CHM(t),l.oxw().send()}),l.TgZ(1,"label",5),l.tHW(2,6),l.YNc(3,mL,2,1,"button",7),l.N_p(),l.qZA(),l.TgZ(4,"div",8),l._UZ(5,"textarea",9),l.TgZ(6,"button",10),l.TgZ(7,"span",11),l._uU(8,"send"),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&n){const t=l.oxw();l.Q6J("formGroup",t.formComment),l.xp6(3),l.Q6J("ngIf",t.response.id&&t.response.name),l.xp6(3),l.Q6J("disabled",t.formComment.invalid)}}function yL(n,e){1&n&&(l.TgZ(0,"h3"),l.SDv(1,13),l.qZA())}function vL(n,e){1&n&&(l.TgZ(0,"h2"),l.SDv(1,14),l.qZA())}function CL(n,e){if(1&n&&(l.TgZ(0,"h3"),l.SDv(1,16),l.qZA()),2&n){const t=l.oxw().$implicit;l.xp6(1),l.pQV(t.name),l.QtT(1)}}function bL(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"li"),l.TgZ(1,"h4"),l._uU(2),l.qZA(),l.TgZ(3,"p"),l._uU(4),l.qZA(),l.TgZ(5,"button",19),l.NdJ("click",function(){const u=l.CHM(t).$implicit,d=l.oxw(2).$implicit;return l.oxw(3).setResponse(d.id,u.user,u.name,d.class)}),l.TgZ(6,"span",11),l._uU(7,"reply"),l.qZA(),l.qZA(),l.qZA()}if(2&n){const t=e.$implicit;l.xp6(2),l.hij("",t.name,":"),l.xp6(2),l.Oqu(t.comment)}}function wL(n,e){if(1&n&&(l.TgZ(0,"ul",21),l.YNc(1,bL,8,2,"li",22),l.qZA()),2&n){const t=l.oxw().$implicit;l.xp6(1),l.Q6J("ngForOf",t.responses)}}function EL(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"li",18),l.TgZ(1,"h4"),l._uU(2),l.qZA(),l.TgZ(3,"p"),l._uU(4),l.qZA(),l.TgZ(5,"button",19),l.NdJ("click",function(){const u=l.CHM(t).$implicit;return l.oxw(3).setResponse(u.id,u.user,u.name,u.class)}),l.TgZ(6,"span",11),l._uU(7,"reply"),l.qZA(),l.qZA(),l.YNc(8,wL,2,1,"ul",20),l.qZA()}if(2&n){const t=e.$implicit;l.xp6(2),l.hij("",t.name,":"),l.xp6(2),l.Oqu(t.comment),l.xp6(4),l.Q6J("ngIf",t.responses)}}function IL(n,e){if(1&n&&(l.TgZ(0,"ul"),l.YNc(1,EL,9,3,"li",17),l.qZA()),2&n){const t=l.oxw().$implicit;l.xp6(1),l.Q6J("ngForOf",t.comments)}}function TL(n,e){if(1&n&&(l.TgZ(0,"li",15),l.YNc(1,CL,2,1,"h3",2),l.YNc(2,IL,2,1,"ul",2),l.qZA()),2&n){const t=e.$implicit,r=l.oxw();l.xp6(1),l.Q6J("ngIf",t.name),l.xp6(1),l.Q6J("ngIf",r.comments)}}let OS=(()=>{class n{constructor(t,r,i,u){this.fb=t,this.data=r,this.app=i,this.router=u,this.formComment=t.group({comment:["",[dn.required,dn.minLength(3)]]}),this.response={}}ngOnInit(){let t;if(this.select)t={order:"date",search:{data:"class",value:this.select}};else{t={order:"date"};let i=this.data.read("Class",{order:"order"}).subscribe(u=>{this.classes=u,i.unsubscribe()});this.removeAlert()}let r=this.data.read("Comments",t).subscribe(i=>{this.select?(this.comments=[{comments:this.getResponses(this.initComments(i),i)}],r.unsubscribe()):(this.comments=this.setClasses(this.getResponses(this.getComments(i),i)),r.unsubscribe())})}initComments(t){return t.filter(r=>{if(!r.response)return r})}getComments(t){let r=localStorage.getItem("user");r=JSON.parse(r);let i=[],u=t.filter(d=>{if(d.response&&d.user==r.id)return d});for(let d=0;d<t.length;d++)!t[d].response&&(t[d].user==r.id||u.find(g=>g.response==t[d].id))&&(i[i.length]=t[d],i[i.length-1].classes=t[d].class);return i}getResponses(t,r){let i;i=t;for(let u=0;u<i.length;u++)i[u].responses=r.filter(d=>{if(i[u].id==d.response)return d});return i}setResponse(t,r,i,u){this.response=t||r||i||u?{id:t,user:r,name:i,class:u}:{}}setClasses(t){let r=[];for(let i=0;i<this.classes.length;i++)t.find(u=>u.classes==this.classes[i].id)&&(this.classes[i].comments=t.filter(u=>{if(u.classes==this.classes[i].id)return u}),r[r.length]=this.classes[i]);return r}send(){if(!this.formComment.invalid&&this.select){let t=localStorage.getItem("user");t=JSON.parse(t);let r={id:"",user:t.id,name:t.displayname,class:this.select?this.select:this.response.class?this.response.class:"",comment:this.formComment.value.comment,response:this.response.id?this.response.id:"",date:Date.now()};this.response.user&&this.app.sendAlert(this.response.user),this.data.save("Comments",r).then(i=>{this.ngOnInit(),this.setResponse(),this.formComment.reset()}).catch(i=>{this.ngOnInit()})}}removeAlert(){let t=localStorage.getItem("user");t=JSON.parse(t);let r=this.data.read("User",{search:{data:"uid",value:t.uid}}).subscribe(i=>{if(i[0])if(1==i[0].alert){let u=i[0];u.alert=!1,this.data.save("User",u),setTimeout(()=>{window.location.reload(),r.unsubscribe()},100)}else r.unsubscribe();else r.unsubscribe()})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Jl),l.Y36(td),l.Y36(MS),l.Y36(Er))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-comments"]],inputs:{select:"select"},decls:6,vars:4,consts:function(){let e,t,r,i;return e="Comment: " + "\ufffd*3:1\ufffd\ufffd#1:1\ufffd" + " To " + "\ufffd0:1\ufffd" + " " + "\ufffd/#1:1\ufffd\ufffd/*3:1\ufffd" + "",t="Other comments:",r="My comments:",i="- Class: " + "\ufffd0\ufffd" + "",[[3,"formGroup","submit",4,"ngIf"],[1,"comments"],[4,"ngIf"],["class","classes",4,"ngFor","ngForOf"],[3,"formGroup","submit"],["for","comment"],e,[3,"click",4,"ngIf"],[1,"input"],["id","comment","name","comment","formControlName","comment","required","","autocomplete","off"],["type","submit",3,"disabled"],[1,"material-symbols-outlined"],[3,"click"],t,r,[1,"classes"],i,["class","primary",4,"ngFor","ngForOf"],[1,"primary"],["type","button",1,"icon-btn",3,"click"],["class","response",4,"ngIf"],[1,"response"],[4,"ngFor","ngForOf"]]},template:function(t,r){1&t&&(l.YNc(0,_L,9,3,"form",0),l.TgZ(1,"section",1),l.YNc(2,yL,2,0,"h3",2),l.YNc(3,vL,2,0,"h2",2),l.TgZ(4,"ul"),l.YNc(5,TL,3,2,"li",3),l.qZA(),l.qZA()),2&t&&(l.Q6J("ngIf",r.select||r.response.class),l.xp6(2),l.Q6J("ngIf",r.select),l.xp6(1),l.Q6J("ngIf",!r.select),l.xp6(2),l.Q6J("ngForOf",r.comments))},directives:[Cr,$i,Wl,Gl,Ra,Vu,jl,Hu,zu],styles:['body[_ngcontent-%COMP%], *[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}body[_ngcontent-%COMP%]{font-weight:400;font-family:Roboto,sans-serif}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{font-weight:500;font-family:Libre Baskerville,serif}p[_ngcontent-%COMP%]{font-weight:400;font-family:Roboto,sans-serif}.btn[_ngcontent-%COMP%]{width:100%;padding:10px 5px;margin:0 auto;border-radius:10px;background-color:#80242b;color:#fff;font-size:12pt;border:0;cursor:pointer;box-shadow:0 0 3px 2px #0000004d;font-weight:500;font-family:Libre Baskerville,serif;transition:all ease-in-out .25s}.btn[_ngcontent-%COMP%]:disabled{opacity:20%;cursor:not-allowed}.btn[_ngcontent-%COMP%]:hover{box-shadow:0 0 2px #0000004d}@keyframes loading-bar{0%{margin-left:0}50%{margin-left:70%}to{margin-left:0%}}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.mobile[_ngcontent-%COMP%]{display:none}@media screen and (max-width: 768px){.mobile[_ngcontent-%COMP%]{display:block}}.desktop[_ngcontent-%COMP%]{display:block}@media screen and (max-width: 768px){.desktop[_ngcontent-%COMP%]{display:none}}.auth[_ngcontent-%COMP%]{min-height:100vh;width:100%;display:flex;justify-content:center;align-items:center}.auth[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{padding:10px 0;width:90%;max-width:300px;margin:auto;text-align:center}.auth[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24pt;padding:20px;font-weight:700;font-family:Libre Baskerville,serif;color:#80242b}.auth[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#80242b}.auth[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{padding:10px}.auth[_ngcontent-%COMP%]   .text-alt[_ngcontent-%COMP%]{text-align:left;padding-left:10px}.auth[_ngcontent-%COMP%]   .text-alt[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#80242b}.input[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background-color:#fff;padding:10px;margin:10px;height:40px;position:relative;border:1px solid #80242b;border-radius:10px}.input[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:10pt;font-weight:700;font-family:Libre Baskerville,serif;padding-right:5px;color:#80242b}.input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;text-align:left;width:80%;border:none;outline:none;color:#80242b}.input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;right:0;margin-right:3px;color:#80242b;background-color:transparent;border:0;display:flex;justify-content:center;align-items:center;outline:none;cursor:pointer;transition:all ease-in-out .25s;padding:5px;border-radius:100px}.input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ededed}.input[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.input[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.input[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{background-color:#80242b;color:#fff}.input[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{background-color:#db9e9e;color:#000;transition:all ease-in-out .25s;cursor:pointer;padding:5px;margin:2px;border-radius:5px;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.input[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{background-color:#80242b;color:#fff}a[_ngcontent-%COMP%]{color:#80242b;padding:0;margin:0;text-decoration:none}.icon-btn[_ngcontent-%COMP%]{margin-right:3px;color:#80242b;background-color:transparent;border:0;display:flex;justify-content:center;align-items:center;outline:none;cursor:pointer;transition:all ease-in-out .25s;padding:5px;border-radius:100px}.icon-btn[_ngcontent-%COMP%]:hover{background-color:#ededed}.content[_ngcontent-%COMP%]{min-height:100vh;width:100%}label[_ngcontent-%COMP%]{width:90%;margin:0 15px}label[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:transparent;border:0;outline:none;border-bottom:2px solid #80242b;padding:5px;cursor:pointer;transition:all ease-in-out .25s}label[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#db9e9e}.input[_ngcontent-%COMP%]{display:flex;min-height:100px;height:auto;align-items:flex-end}.input[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:100px;flex:1;border:0;max-width:100%;min-width:100%;outline:none;resize:none;font-size:12pt;font-weight:400;font-family:Roboto,sans-serif}.input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled   span[_ngcontent-%COMP%]{color:#ededed}.input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled:hover{background-color:transparent}.comments[_ngcontent-%COMP%]{padding:15px}.comments[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#80242b;font-size:22pt;text-align:center;font-weight:700;font-family:Libre Baskerville,serif}.comments[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:5px;color:#80242b}.comments[_ngcontent-%COMP%]   .classes[_ngcontent-%COMP%]{list-style:none}.comments[_ngcontent-%COMP%]   .classes[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18pt;font-weight:700;font-family:Libre Baskerville,serif}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:5px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .primary[_ngcontent-%COMP%]{list-style:none;margin-bottom:15px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .primary[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:3px;font-weight:700;font-family:Libre Baskerville,serif}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .primary[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:justify}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .primary[_ngcontent-%COMP%]   .response[_ngcontent-%COMP%]{margin-bottom:0}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .primary[_ngcontent-%COMP%]   .response[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;background-color:#db9e9e;padding:5px}']}),n})();var DL=P(3532);var AL=P(5032),SL=P(1144);const RL=["addListener","removeListener"],NL=["addEventListener","removeEventListener"],kL=["on","off"];function EO(n,e,t,r){if((0,Wo.m)(t)&&(r=t,t=void 0),r)return EO(n,e,t).pipe(qo(r));const[i,u]=function VL(n){return(0,Wo.m)(n.addEventListener)&&(0,Wo.m)(n.removeEventListener)}(n)?NL.map(d=>g=>n[d](e,g,t)):function FL(n){return(0,Wo.m)(n.addListener)&&(0,Wo.m)(n.removeListener)}(n)?RL.map(PS(n,e)):function LL(n){return(0,Wo.m)(n.on)&&(0,Wo.m)(n.off)}(n)?kL.map(PS(n,e)):[];if(!i&&(0,SL.z)(n))return(0,Un.z)(d=>EO(d,e,t))((0,no.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new Dr.y(d=>{const g=(...y)=>d.next(1<y.length?y:y[0]);return i(g),()=>u(g)})}function PS(n,e){return t=>r=>n[t](e,r)}let UL=(()=>{class n{transform(t){if("number"==typeof t){let u,r=Math.floor(t/60),i=Math.floor(t%60);return u=i<10?"0"+i:i,r+":"+u}return null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=l.Yjl({name:"videoTime",type:n,pure:!0}),n})();const BL=["screen"],$L=["media"],jL=["controls"],GL=["progressGrid"],HL=["progressValue"],zL=["playPauseIcon"],qL=["volumeBar"],ZL=["volumeIcon"],WL=["fullscreenIcon"];function KL(n,e){if(1&n&&(l.TgZ(0,"video",30,31),l._UZ(2,"source",32),l._UZ(3,"source",33),l._UZ(4,"source",34),l._UZ(5,"source",35),l._UZ(6,"source",36),l._UZ(7,"source",37),l._UZ(8,"source",38),l._UZ(9,"source",39),l.TgZ(10,"p"),l.SDv(11,40),l.qZA(),l.qZA()),2&n){const t=l.oxw();l.xp6(2),l.s9C("src",t.url,l.LSH),l.xp6(1),l.s9C("src",t.url,l.LSH),l.xp6(1),l.s9C("src",t.url,l.LSH),l.xp6(1),l.s9C("src",t.url,l.LSH),l.xp6(1),l.s9C("src",t.url,l.LSH),l.xp6(1),l.s9C("src",t.url,l.LSH),l.xp6(1),l.s9C("src",t.url,l.LSH),l.xp6(1),l.s9C("src",t.url,l.LSH)}}const YL=function(n){return{display:n}},AS=function(n){return{width:n}};let QL=(()=>{class n{constructor(){this.video={currentTime:0,duration:0,percentTime:0,percentBuffer:0,controls:"flex"}}ngOnInit(){setTimeout(()=>{this.setDefault(),window.addEventListener("resize",()=>{this.checkFullscreen(),window.innerWidth<768&&this.changeVolume("1")}),this.media.nativeElement.addEventListener("timeupdate",t=>{this.video.percentTime=100*this.media.nativeElement.currentTime/this.media.nativeElement.duration+"%",this.progressValue.nativeElement.value=100*this.media.nativeElement.currentTime/this.media.nativeElement.duration,this.video.currentTime=this.media.nativeElement.currentTime,this.video.duration=this.media.nativeElement.duration}),this.media.nativeElement.addEventListener("click",t=>{this.control("playPause")}),this.media.nativeElement.addEventListener("dblclick",t=>{this.control("fullscreen")}),function PL(n=0,e=dh.z){return n<0&&(n=0),function OL(n=0,e,t=dh.P){let r=-1;return null!=e&&((0,DL.K)(e)?t=e:r=e),new Dr.y(i=>{let u=function ML(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;u<0&&(u=0);let d=0;return t.schedule(function(){i.closed||(i.next(d++),0<=r?this.schedule(void 0,r):i.complete())},u)})}(n,n,e)}(300).pipe(function xL(n){return(0,xr.e)((e,t)=>{let r=!1,i=null;e.subscribe(new qn.Q(t,d=>{r=!0,i=d})),n.subscribe(new qn.Q(t,()=>{if(r){r=!1;const d=i;i=null,t.next(d)}},AL.Z))})}(EO(this.screen.nativeElement,"mousemove"))).subscribe(t=>{this.showControls()})},500)}hideControls(){this.media.nativeElement.paused||(this.video.controls="none")}showControls(){this.video.controls="flex",clearTimeout(this.timer),this.timer=setTimeout(()=>{this.media.nativeElement.paused||(this.video.controls="none")},2e3)}setDefault(){this.checkFullscreen(),window.innerWidth<768?this.changeVolume("1"):this.changeVolume("0.5")}changeProgress(){this.media.nativeElement.pause(),this.media.nativeElement.currentTime=this.progressValue.nativeElement.value*this.media.nativeElement.duration/100}checkFullscreen(){this.fullscreenIcon.nativeElement.innerHTML=window.innerWidth!=screen.width&&window.innerHeight!=screen.height?"fullscreen":"fullscreen_exit"}control(t){switch(t){case"playPause":this.media.nativeElement.paused?(this.playPauseIcon.nativeElement.innerHTML="pause",this.media.nativeElement.play()):(this.playPauseIcon.nativeElement.innerHTML="play_arrow",this.media.nativeElement.pause());break;case"fullscreen":null===document.fullscreenElement||window.innerWidth!=screen.width&&window.innerHeight!=screen.height?this.screen.nativeElement.requestFullscreen?this.screen.nativeElement.requestFullscreen():this.screen.nativeElement.msRequestFullscreen?this.screen.nativeElement.msRequestFullscreen():this.screen.nativeElement.mozRequestFullScreen?this.screen.nativeElement.mozRequestFullScreen():this.screen.nativeElement.webkitRequestFullscreen&&this.screen.nativeElement.webkitRequestFullscreen():document.exitFullscreen&&document.exitFullscreen();break;case"replay10":this.media.nativeElement.currentTime-=10;break;case"forward10":this.media.nativeElement.currentTime+=10;break;case"mute":this.changeVolume("0")}}changeVolume(t){t&&(this.volumeBar.nativeElement.value=t),this.media.nativeElement.volume=parseFloat(this.volumeBar.nativeElement.value),this.volumeBar.nativeElement.value>=.7&&(this.volumeIcon.nativeElement.innerHTML="volume_up"),this.volumeBar.nativeElement.value<=.69&&this.volumeBar.nativeElement.value>=.3&&(this.volumeIcon.nativeElement.innerHTML="volume_down"),this.volumeBar.nativeElement.value<=.29&&this.volumeBar.nativeElement.value>=.01&&(this.volumeIcon.nativeElement.innerHTML="volume_mute"),0==this.volumeBar.nativeElement.value&&(this.volumeIcon.nativeElement.innerHTML="volume_off")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-video"]],viewQuery:function(t,r){if(1&t&&(l.Gf(BL,5),l.Gf($L,5),l.Gf(jL,5),l.Gf(GL,5),l.Gf(HL,5),l.Gf(zL,5),l.Gf(qL,5),l.Gf(ZL,5),l.Gf(WL,5)),2&t){let i;l.iGM(i=l.CRH())&&(r.screen=i.first),l.iGM(i=l.CRH())&&(r.media=i.first),l.iGM(i=l.CRH())&&(r.controls=i.first),l.iGM(i=l.CRH())&&(r.progressGrid=i.first),l.iGM(i=l.CRH())&&(r.progressValue=i.first),l.iGM(i=l.CRH())&&(r.playPauseIcon=i.first),l.iGM(i=l.CRH())&&(r.volumeBar=i.first),l.iGM(i=l.CRH())&&(r.volumeIcon=i.first),l.iGM(i=l.CRH())&&(r.fullscreenIcon=i.first)}},inputs:{url:"url"},decls:43,vars:16,consts:function(){let e;return e="Your browser does not support the video tag.",[["id","screen"],["screen",""],["preload","auto",4,"ngIf"],[1,"controls",3,"ngStyle"],["controls",""],[1,"command","buttons"],[1,"volume","desktop"],[3,"click"],[1,"material-symbols-outlined"],["volumeIcon",""],[1,"grid"],["type","range","max","1","min","0","step","0.01",1,"bar",3,"change"],["volumeBar",""],[1,"spacer","desktop"],["aria-label","Replay 10",3,"click"],["aria-label","Play / pause",3,"click"],["playPauseIcon",""],["aria-label","Forward 10",3,"click"],[1,"spacer"],["aria-label","Fullscreen",3,"click"],["fullscreenIcon",""],[1,"command","progress"],["progressGrid",""],["type","range","value","0","max","100","min","0","step","0.1",1,"value",3,"change"],["progressValue",""],[1,"bar",3,"ngStyle"],[1,"buffer",3,"ngStyle"],[1,"background"],[1,"command","timer"],[1,"video-current-time"],["preload","auto"],["media",""],["type","video/mp4",3,"src"],["type","video/ogg",3,"src"],["type","video/mov",3,"src"],["type","video/mpg",3,"src"],["type","video/avi",3,"src"],["type","video/wmv",3,"src"],["type","video/webm",3,"src"],["type","video/flv",3,"src"],e]},template:function(t,r){1&t&&(l.TgZ(0,"section",0,1),l.YNc(2,KL,12,8,"video",2),l.TgZ(3,"div",3,4),l.TgZ(5,"div",5),l.TgZ(6,"span",6),l.TgZ(7,"button",7),l.NdJ("click",function(){return r.control("mute")}),l.TgZ(8,"span",8,9),l._uU(10,"volume_down"),l.qZA(),l.qZA(),l.TgZ(11,"div",10),l.TgZ(12,"input",11,12),l.NdJ("change",function(){return r.changeVolume()}),l.qZA(),l.qZA(),l.qZA(),l._UZ(14,"span",13),l.TgZ(15,"button",14),l.NdJ("click",function(){return r.control("replay10")}),l.TgZ(16,"span",8),l._uU(17,"replay_10"),l.qZA(),l.qZA(),l.TgZ(18,"button",15),l.NdJ("click",function(){return r.control("playPause")}),l.TgZ(19,"span",8,16),l._uU(21,"pause"),l.qZA(),l.qZA(),l.TgZ(22,"button",17),l.NdJ("click",function(){return r.control("forward10")}),l.TgZ(23,"span",8),l._uU(24,"forward_10"),l.qZA(),l.qZA(),l._UZ(25,"span",18),l.TgZ(26,"button",19),l.NdJ("click",function(){return r.control("fullscreen")}),l.TgZ(27,"span",8,20),l._uU(29,"fullscreen"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(30,"div",21),l.TgZ(31,"div",10,22),l.TgZ(33,"input",23,24),l.NdJ("change",function(){return r.changeProgress()}),l.qZA(),l._UZ(35,"span",25),l._UZ(36,"span",26),l._UZ(37,"span",27),l.qZA(),l.qZA(),l.TgZ(38,"div",28),l.TgZ(39,"span",29),l._uU(40),l.ALo(41,"videoTime"),l.ALo(42,"videoTime"),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&t&&(l.xp6(2),l.Q6J("ngIf",r.url),l.xp6(1),l.Q6J("ngStyle",l.VKq(10,YL,r.video.controls)),l.xp6(32),l.Q6J("ngStyle",l.VKq(12,AS,r.video.percentTime)),l.xp6(1),l.Q6J("ngStyle",l.VKq(14,AS,r.video.percentBuffer)),l.xp6(4),l.AsE(" ",l.lcZ(41,6,r.video.currentTime)," / ",l.lcZ(42,8,r.video.duration)," "))},directives:[Cr,br],pipes:[UL],styles:['body[_ngcontent-%COMP%], *[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}body[_ngcontent-%COMP%]{font-weight:400;font-family:Roboto,sans-serif}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{font-weight:500;font-family:Libre Baskerville,serif}p[_ngcontent-%COMP%]{font-weight:400;font-family:Roboto,sans-serif}.btn[_ngcontent-%COMP%]{width:100%;padding:10px 5px;margin:0 auto;border-radius:10px;background-color:#80242b;color:#fff;font-size:12pt;border:0;cursor:pointer;box-shadow:0 0 3px 2px #0000004d;font-weight:500;font-family:Libre Baskerville,serif;transition:all ease-in-out .25s}.btn[_ngcontent-%COMP%]:disabled{opacity:20%;cursor:not-allowed}.btn[_ngcontent-%COMP%]:hover{box-shadow:0 0 2px #0000004d}@keyframes loading-bar{0%{margin-left:0}50%{margin-left:70%}to{margin-left:0%}}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.mobile[_ngcontent-%COMP%]{display:none}@media screen and (max-width: 768px){.mobile[_ngcontent-%COMP%]{display:block}}.desktop[_ngcontent-%COMP%]{display:block}@media screen and (max-width: 768px){.desktop[_ngcontent-%COMP%]{display:none}}.auth[_ngcontent-%COMP%]{min-height:100vh;width:100%;display:flex;justify-content:center;align-items:center}.auth[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{padding:10px 0;width:90%;max-width:300px;margin:auto;text-align:center}.auth[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24pt;padding:20px;font-weight:700;font-family:Libre Baskerville,serif;color:#80242b}.auth[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#80242b}.auth[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{padding:10px}.auth[_ngcontent-%COMP%]   .text-alt[_ngcontent-%COMP%]{text-align:left;padding-left:10px}.auth[_ngcontent-%COMP%]   .text-alt[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#80242b}.input[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background-color:#fff;padding:10px;margin:10px;height:40px;position:relative;border:1px solid #80242b;border-radius:10px}.input[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:10pt;font-weight:700;font-family:Libre Baskerville,serif;padding-right:5px;color:#80242b}.input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;text-align:left;width:80%;border:none;outline:none;color:#80242b}.input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;right:0;margin-right:3px;color:#80242b;background-color:transparent;border:0;display:flex;justify-content:center;align-items:center;outline:none;cursor:pointer;transition:all ease-in-out .25s;padding:5px;border-radius:100px}.input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ededed}.input[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.input[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.input[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{background-color:#80242b;color:#fff}.input[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{background-color:#db9e9e;color:#000;transition:all ease-in-out .25s;cursor:pointer;padding:5px;margin:2px;border-radius:5px;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.input[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{background-color:#80242b;color:#fff}a[_ngcontent-%COMP%]{color:#80242b;padding:0;margin:0;text-decoration:none}.icon-btn[_ngcontent-%COMP%]{margin-right:3px;color:#80242b;background-color:transparent;border:0;display:flex;justify-content:center;align-items:center;outline:none;cursor:pointer;transition:all ease-in-out .25s;padding:5px;border-radius:100px}.icon-btn[_ngcontent-%COMP%]:hover{background-color:#ededed}.content[_ngcontent-%COMP%]{min-height:100vh;width:100%}#screen[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:relative;background-color:#0c0c0c;height:600px}#screen[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{max-width:100%;max-height:100%}#screen[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]{position:absolute;bottom:0;left:50%;transform:translate(-50%);flex-direction:column;align-items:center;justify-content:center;width:95%;padding-bottom:30px;z-index:100}#screen[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .command[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:row;justify-content:center;align-items:center}#screen[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .command.buttons[_ngcontent-%COMP%]{display:flex;width:100%}#screen[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .command.buttons[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]{flex:1}#screen[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .command.buttons[_ngcontent-%COMP%]   .volume[_ngcontent-%COMP%]{position:relative}#screen[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .command.buttons[_ngcontent-%COMP%]   .volume[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%);bottom:40px;box-shadow:0 0 5px 3px #00000049;width:10px;height:100px;max-height:100vh;display:none;flex-direction:row;align-items:flex-end;cursor:pointer}#screen[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .command.buttons[_ngcontent-%COMP%]   .volume[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]{flex:1;transform:rotate(-90deg);padding:0;margin:0 0 44px -45px;width:100px}#screen[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .command.buttons[_ngcontent-%COMP%]   .volume[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]:focus{outline:none}#screen[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .command.buttons[_ngcontent-%COMP%]   .volume[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]{-webkit-appearance:none}#screen[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .command.buttons[_ngcontent-%COMP%]   .volume[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]:focus{outline:none}#screen[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .command.buttons[_ngcontent-%COMP%]   .volume[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]::-webkit-slider-runnable-track{width:100%;height:5px;cursor:pointer;box-shadow:0 0 #000;background:#D9D9D9;border-radius:1px;border:1px solid #000000}#screen[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .command.buttons[_ngcontent-%COMP%]   .volume[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]::-webkit-slider-thumb{box-shadow:0 0 #fff;border:2px solid #D9D9D9;height:18px;width:18px;border-radius:25px;background:#DB9E9E;cursor:pointer;-webkit-appearance:none;margin-top:-8px}#screen[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .command.buttons[_ngcontent-%COMP%]   .volume[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]:focus::-webkit-slider-runnable-track{background:#D9D9D9}#screen[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .command.buttons[_ngcontent-%COMP%]   .volume[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]::-moz-range-track{width:100%;height:5px;cursor:pointer;box-shadow:0 0 #000;background:#D9D9D9;border-radius:1px;border:1px solid #000000}#screen[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .command.buttons[_ngcontent-%COMP%]   .volume[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]::-moz-range-thumb{box-shadow:0 0 #fff;border:2px solid #DB9E9E;height:18px;width:18px;border-radius:25px;background:#FFFFFF;cursor:pointer}#screen[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .command.buttons[_ngcontent-%COMP%]   .volume[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]::-ms-track{width:100%;height:5px;cursor:pointer;background:transparent;border-color:transparent;color:transparent}#screen[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .command.buttons[_ngcontent-%COMP%]   .volume[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]::-ms-fill-lower{background:#D9D9D9;border:1px solid #000000;border-radius:2px;box-shadow:0 0 #000}#screen[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .command.buttons[_ngcontent-%COMP%]   .volume[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]::-ms-fill-upper{background:#D9D9D9;border:1px solid #000000;border-radius:2px;box-shadow:0 0 #000}#screen[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .command.buttons[_ngcontent-%COMP%]   .volume[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]::-ms-thumb{margin-top:1px;box-shadow:0 0 #fff;border:2px solid #DB9E9E;height:18px;width:18px;border-radius:25px;background:#FFFFFF;cursor:pointer}#screen[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .command.buttons[_ngcontent-%COMP%]   .volume[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]:focus::-ms-fill-lower{background:#D9D9D9}#screen[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .command.buttons[_ngcontent-%COMP%]   .volume[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]:focus::-ms-fill-upper{background:#D9D9D9}#screen[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .command.buttons[_ngcontent-%COMP%]   .volume[_ngcontent-%COMP%]:hover   .grid[_ngcontent-%COMP%]{display:flex}#screen[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .command.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:0;background-color:transparent;width:40px;height:40px;border-radius:100%;color:#fff;display:flex;justify-content:center;align-items:center;cursor:pointer}#screen[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .command.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:24pt;text-shadow:2px 0 rgba(0,0,0,.286),-2px 0 rgba(0,0,0,.286),0 2px rgba(0,0,0,.286),0 -2px rgba(0,0,0,.286),1px 1px rgba(0,0,0,.286),-1px -1px rgba(0,0,0,.286),1px -1px rgba(0,0,0,.286),-1px 1px rgba(0,0,0,.286)}#screen[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .command.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{background-color:#00000049}#screen[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .command.progress[_ngcontent-%COMP%]{flex:1;margin:5px 0;height:auto;width:100%}#screen[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .command.progress[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]{height:10px;width:100%;margin:5px 0;background-color:transparent;position:relative;z-index:100}#screen[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .command.progress[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:100%;width:100%;float:right;background-color:#80242b;z-index:-1}#screen[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .command.progress[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]   .buffer[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:100%;background-color:#db9e9e;z-index:-2}#screen[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .command.progress[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:100%;width:100%;background-color:#fff;z-index:-3}#screen[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .command.progress[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{-webkit-appearance:none;margin:10px 0;width:100%;z-index:200}#screen[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .command.progress[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]:focus{outline:none}#screen[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .command.progress[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]::-webkit-slider-runnable-track{width:100%;height:10px;margin-top:-20px;cursor:pointer;box-shadow:0 0 #000;background:transparent;border-radius:0;border:0px solid #000000}#screen[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .command.progress[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]::-webkit-slider-thumb{box-shadow:0 0 1px #000;border:0px solid #ffffff;height:20px;width:20px;border-radius:50px;background:#80242b;cursor:pointer;-webkit-appearance:none;margin-top:-5.5px}#screen[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .command.progress[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]:focus::-webkit-slider-runnable-track{background:transparent}#screen[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .command.progress[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]::-moz-range-track{width:100%;height:7px;cursor:pointer;box-shadow:0 0 #000;background:transparent;border-radius:0;border:0px solid #000000}#screen[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .command.progress[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]::-moz-range-thumb{box-shadow:0 0 1px #000;border:0px solid #ffffff;height:20px;width:20px;border-radius:50px;background:#80242b;cursor:pointer}#screen[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .command.progress[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]::-ms-track{width:100%;height:7px;cursor:pointer;background:transparent;border-color:transparent;color:transparent}#screen[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .command.progress[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]::-ms-fill-lower{background:transparent;border:0px solid #000000;border-radius:0;box-shadow:0 0 #000}#screen[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .command.progress[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]::-ms-fill-upper{background:transparent;border:0px solid #000000;border-radius:0;box-shadow:0 0 #000}#screen[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .command.progress[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]::-ms-thumb{box-shadow:0 0 1px #000;border:0px solid #ffffff;height:18px;width:18px;border-radius:50px;background:#80242b;cursor:pointer}#screen[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .command.progress[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]:focus::-ms-fill-lower{background:transparent}#screen[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .command.progress[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]:focus::-ms-fill-upper{background:transparent}#screen[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .command.timer[_ngcontent-%COMP%]{width:100%}#screen[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .command.timer[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:100%;color:#fff;justify-content:flex-start;align-items:flex-start}@media screen and (max-width: 768px){#screen[_ngcontent-%COMP%]{height:auto}}']}),n})();const JL=function(n){return{select:n}};function XL(n,e){if(1&n&&(l.TgZ(0,"li",9),l.TgZ(1,"a",10),l._uU(2),l.qZA(),l.qZA()),2&n){const t=e.$implicit,r=l.oxw(4);l.Q6J("ngClass",l.VKq(4,JL,t.id==r.select)),l.xp6(1),l.MGl("routerLink","/c/content/",t.id,""),l.xp6(1),l.AsE("",t.name,"",t.id==r.select?" --watching":"","")}}function e2(n,e){if(1&n&&(l.TgZ(0,"ul"),l.YNc(1,XL,3,6,"li",8),l.qZA()),2&n){const t=l.oxw().$implicit;l.xp6(1),l.Q6J("ngForOf",t.classes)}}function t2(n,e){if(1&n&&(l.TgZ(0,"li"),l._UZ(1,"input",3),l.TgZ(2,"label"),l.TgZ(3,"label",4),l.TgZ(4,"h2"),l._uU(5),l._UZ(6,"div",5),l.TgZ(7,"span",6),l._uU(8," expand_more "),l.qZA(),l.qZA(),l.qZA(),l.YNc(9,e2,2,1,"ul",7),l.qZA(),l.qZA()),2&n){const t=e.$implicit;l.xp6(1),l.s9C("name",t.id),l.s9C("id",t.id),l.xp6(2),l.s9C("for",t.id),l.xp6(2),l.hij(" ",t.name," "),l.xp6(4),l.Q6J("ngIf",t.classes)}}function n2(n,e){if(1&n&&(l.TgZ(0,"ul",1),l.YNc(1,t2,10,5,"li",2),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngForOf",t.modules)}}let xS=(()=>{class n{constructor(t,r){this.data=t,this.auth=r,this.modules=[],this.classes=[],this.select||(this.select="")}ngOnInit(){let t=this.data.read("Class",{order:"order"}).subscribe(i=>{this.classes=i,t.unsubscribe()}),r=this.data.read("Modules",{order:"order",search:{data:"language",value:this.auth.language}}).subscribe(i=>{this.setModules(i),r.unsubscribe()})}setModules(t){for(let r=0;r<t.length;r++)t[r].classes=this.getClasses(t[r].id);this.modules=t}getClasses(t){return this.classes.filter(r=>{if(r.module==t)return r})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(td),l.Y36(Hs))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-sumary"]],inputs:{select:"select"},decls:1,vars:1,consts:[["class","sumary",4,"ngIf"],[1,"sumary"],[4,"ngFor","ngForOf"],["type","checkbox",3,"name","id"],[3,"for"],[1,"spacer"],[1,"material-symbols-outlined"],[4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[3,"routerLink"]],template:function(t,r){1&t&&l.YNc(0,n2,2,1,"ul",0),2&t&&l.Q6J("ngIf",r.modules)},directives:[Cr,$i,Vr,Us],styles:['body[_ngcontent-%COMP%], *[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}body[_ngcontent-%COMP%]{font-weight:400;font-family:Roboto,sans-serif}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{font-weight:500;font-family:Libre Baskerville,serif}p[_ngcontent-%COMP%]{font-weight:400;font-family:Roboto,sans-serif}.btn[_ngcontent-%COMP%]{width:100%;padding:10px 5px;margin:0 auto;border-radius:10px;background-color:#80242b;color:#fff;font-size:12pt;border:0;cursor:pointer;box-shadow:0 0 3px 2px #0000004d;font-weight:500;font-family:Libre Baskerville,serif;transition:all ease-in-out .25s}.btn[_ngcontent-%COMP%]:disabled{opacity:20%;cursor:not-allowed}.btn[_ngcontent-%COMP%]:hover{box-shadow:0 0 2px #0000004d}@keyframes loading-bar{0%{margin-left:0}50%{margin-left:70%}to{margin-left:0%}}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.mobile[_ngcontent-%COMP%]{display:none}@media screen and (max-width: 768px){.mobile[_ngcontent-%COMP%]{display:block}}.desktop[_ngcontent-%COMP%]{display:block}@media screen and (max-width: 768px){.desktop[_ngcontent-%COMP%]{display:none}}.auth[_ngcontent-%COMP%]{min-height:100vh;width:100%;display:flex;justify-content:center;align-items:center}.auth[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{padding:10px 0;width:90%;max-width:300px;margin:auto;text-align:center}.auth[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24pt;padding:20px;font-weight:700;font-family:Libre Baskerville,serif;color:#80242b}.auth[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#80242b}.auth[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{padding:10px}.auth[_ngcontent-%COMP%]   .text-alt[_ngcontent-%COMP%]{text-align:left;padding-left:10px}.auth[_ngcontent-%COMP%]   .text-alt[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#80242b}.input[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background-color:#fff;padding:10px;margin:10px;height:40px;position:relative;border:1px solid #80242b;border-radius:10px}.input[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:10pt;font-weight:700;font-family:Libre Baskerville,serif;padding-right:5px;color:#80242b}.input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;text-align:left;width:80%;border:none;outline:none;color:#80242b}.input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;right:0;margin-right:3px;color:#80242b;background-color:transparent;border:0;display:flex;justify-content:center;align-items:center;outline:none;cursor:pointer;transition:all ease-in-out .25s;padding:5px;border-radius:100px}.input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ededed}.input[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.input[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.input[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{background-color:#80242b;color:#fff}.input[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{background-color:#db9e9e;color:#000;transition:all ease-in-out .25s;cursor:pointer;padding:5px;margin:2px;border-radius:5px;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.input[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{background-color:#80242b;color:#fff}a[_ngcontent-%COMP%]{color:#80242b;padding:0;margin:0;text-decoration:none}.icon-btn[_ngcontent-%COMP%]{margin-right:3px;color:#80242b;background-color:transparent;border:0;display:flex;justify-content:center;align-items:center;outline:none;cursor:pointer;transition:all ease-in-out .25s;padding:5px;border-radius:100px}.icon-btn[_ngcontent-%COMP%]:hover{background-color:#ededed}.content[_ngcontent-%COMP%]{min-height:100vh;width:100%}.sumary[_ngcontent-%COMP%]{padding:5px}.sumary[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.sumary[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{transform:rotate(180deg)}.sumary[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{height:auto;margin-bottom:5px}.sumary[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{height:auto;padding:5px;margin:2px 0;border-radius:2px}.sumary[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{padding:10px;background-color:#db9e9e;width:100%;margin-bottom:5px;border-radius:3px;cursor:pointer;display:flex;align-items:center}.sumary[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]{flex:1;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.sumary[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{transition:all ease-in-out .25s;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.sumary[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{transition:ease ease-in-out .1s;overflow:hidden;height:0}.sumary[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{transition:all ease-in-out .1s;list-style:decimal;height:0;cursor:pointer;display:flex}.sumary[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#ededed}.sumary[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.select[_ngcontent-%COMP%]{background-color:#80242b}.sumary[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.select[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff}']}),n})();function r2(n,e){if(1&n&&(l.TgZ(0,"h2"),l._uU(1),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Oqu(t.class.name)}}function i2(n,e){if(1&n&&(l.TgZ(0,"div",13),l.TgZ(1,"object",14),l._UZ(2,"embed",15),l.TgZ(3,"p"),l.SDv(4,16),l.qZA(),l.qZA(),l.TgZ(5,"p"),l.tHW(6,17),l._UZ(7,"a",18),l.N_p(),l.qZA(),l.qZA()),2&n){const t=l.oxw(2);l.xp6(1),l.Q6J("data",t.getPDF(t.file),l.uOi),l.xp6(1),l.Q6J("src",t.getPDF(t.file),l.uOi),l.xp6(5),l.Q6J("href",t.getPDF(t.file),l.LSH)}}function o2(n,e){if(1&n&&(l.TgZ(0,"div",19),l._UZ(1,"app-video",20),l.qZA()),2&n){const t=l.oxw(2);l.xp6(1),l.Q6J("url",t.file)}}function s2(n,e){if(1&n&&(l.TgZ(0,"section",10),l.YNc(1,i2,8,3,"div",11),l.YNc(2,o2,2,1,"div",12),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngIf","pdf"==t.extension&&t.file),l.xp6(1),l.Q6J("ngIf","pdf"!=t.extension&&t.file)}}function a2(n,e){if(1&n&&(l.TgZ(0,"div"),l._UZ(1,"app-sumary",21),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Q6J("select",t.class.id)}}function u2(n,e){if(1&n&&(l.TgZ(0,"div"),l._UZ(1,"app-comments",21),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Q6J("select",t.class.id)}}let l2=(()=>{class n{constructor(t,r,i,u){this.route=t,this.data=r,this.sanitizer=i,this.router=u,this.baseRef="files/",this.extension="",this.options="classlist"}ngOnInit(){this.route.paramMap.subscribe(t=>{let r=t.get("url");this.getClass(r)})}getClass(t){let r=this.data.read("Class").pipe((0,Lt.U)(i=>{i.filter(u=>{if(u.id==t){this.class=u,this.extension=u.file.split(".").pop();let d=this.data.getImage(this.baseRef+u.file).subscribe(g=>{this.file=g,d.unsubscribe()});return u}})})).subscribe(i=>{this.class||this.router.navigate(["**"]),r.unsubscribe()})}getPDF(t){return this.sanitizer.bypassSecurityTrustResourceUrl(t+"#toolbar=0")}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(wa),l.Y36(td),l.Y36(ua),l.Y36(Er))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-content"]],decls:14,vars:6,consts:function(){let e,t,r,i;return e=" Comments ",t=" Class List ",r=" Your browser does not support the file ",i="Can't see? " + "\ufffd#7\ufffd" + "Download" + "\ufffd/#7\ufffd" + "",[[4,"ngIf"],["class","file",4,"ngIf"],[1,"extras"],[1,"select"],["type","radio","id","comments","name","options",3,"checked","click"],["for","comments"],e,["type","radio","id","classlist","name","options",3,"checked","click"],["for","classlist"],t,[1,"file"],["class","pdf",4,"ngIf"],["class","video",4,"ngIf"],[1,"pdf"],["type","application/pdf",2,"min-width","300px","min-height","300px",3,"data"],["width","100%","height","800px",3,"src"],r,i,["download","file",3,"href"],[1,"video"],[3,"url"],[3,"select"]]},template:function(t,r){1&t&&(l.YNc(0,r2,2,1,"h2",0),l.YNc(1,s2,3,2,"section",1),l.TgZ(2,"section",2),l.TgZ(3,"ul",3),l.TgZ(4,"li"),l.TgZ(5,"input",4),l.NdJ("click",function(){return r.options="comments"}),l.qZA(),l.TgZ(6,"label",5),l.SDv(7,6),l.qZA(),l.qZA(),l.TgZ(8,"li"),l.TgZ(9,"input",7),l.NdJ("click",function(){return r.options="classlist"}),l.qZA(),l.TgZ(10,"label",8),l.SDv(11,9),l.qZA(),l.qZA(),l.qZA(),l.YNc(12,a2,2,1,"div",0),l.YNc(13,u2,2,1,"div",0),l.qZA()),2&t&&(l.Q6J("ngIf",r.class),l.xp6(1),l.Q6J("ngIf",r.class),l.xp6(4),l.Q6J("checked","comments"==r.options),l.xp6(4),l.Q6J("checked","classlist"==r.options),l.xp6(3),l.Q6J("ngIf","classlist"==r.options&&r.class),l.xp6(1),l.Q6J("ngIf","comments"==r.options&&r.class.id))},directives:[Cr,QL,xS,OS],styles:['body[_ngcontent-%COMP%], *[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}body[_ngcontent-%COMP%]{font-weight:400;font-family:Roboto,sans-serif}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{font-weight:500;font-family:Libre Baskerville,serif}p[_ngcontent-%COMP%]{font-weight:400;font-family:Roboto,sans-serif}.btn[_ngcontent-%COMP%]{width:100%;padding:10px 5px;margin:0 auto;border-radius:10px;background-color:#80242b;color:#fff;font-size:12pt;border:0;cursor:pointer;box-shadow:0 0 3px 2px #0000004d;font-weight:500;font-family:Libre Baskerville,serif;transition:all ease-in-out .25s}.btn[_ngcontent-%COMP%]:disabled{opacity:20%;cursor:not-allowed}.btn[_ngcontent-%COMP%]:hover{box-shadow:0 0 2px #0000004d}@keyframes loading-bar{0%{margin-left:0}50%{margin-left:70%}to{margin-left:0%}}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.mobile[_ngcontent-%COMP%]{display:none}@media screen and (max-width: 768px){.mobile[_ngcontent-%COMP%]{display:block}}.desktop[_ngcontent-%COMP%]{display:block}@media screen and (max-width: 768px){.desktop[_ngcontent-%COMP%]{display:none}}.auth[_ngcontent-%COMP%]{min-height:100vh;width:100%;display:flex;justify-content:center;align-items:center}.auth[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{padding:10px 0;width:90%;max-width:300px;margin:auto;text-align:center}.auth[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24pt;padding:20px;font-weight:700;font-family:Libre Baskerville,serif;color:#80242b}.auth[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#80242b}.auth[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{padding:10px}.auth[_ngcontent-%COMP%]   .text-alt[_ngcontent-%COMP%]{text-align:left;padding-left:10px}.auth[_ngcontent-%COMP%]   .text-alt[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#80242b}.input[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background-color:#fff;padding:10px;margin:10px;height:40px;position:relative;border:1px solid #80242b;border-radius:10px}.input[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:10pt;font-weight:700;font-family:Libre Baskerville,serif;padding-right:5px;color:#80242b}.input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;text-align:left;width:80%;border:none;outline:none;color:#80242b}.input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;right:0;margin-right:3px;color:#80242b;background-color:transparent;border:0;display:flex;justify-content:center;align-items:center;outline:none;cursor:pointer;transition:all ease-in-out .25s;padding:5px;border-radius:100px}.input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ededed}.input[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.input[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.input[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{background-color:#80242b;color:#fff}.input[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{background-color:#db9e9e;color:#000;transition:all ease-in-out .25s;cursor:pointer;padding:5px;margin:2px;border-radius:5px;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.input[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{background-color:#80242b;color:#fff}a[_ngcontent-%COMP%]{color:#80242b;padding:0;margin:0;text-decoration:none}.icon-btn[_ngcontent-%COMP%]{margin-right:3px;color:#80242b;background-color:transparent;border:0;display:flex;justify-content:center;align-items:center;outline:none;cursor:pointer;transition:all ease-in-out .25s;padding:5px;border-radius:100px}.icon-btn[_ngcontent-%COMP%]:hover{background-color:#ededed}.content[_ngcontent-%COMP%]{min-height:100vh;width:100%}h2[_ngcontent-%COMP%]{width:95%;text-align:center;padding:10px 0;margin:10px 0;font-size:24pt;color:#80242b;font-weight:700;font-family:Libre Baskerville,serif}.file[_ngcontent-%COMP%]   .pdf[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.file[_ngcontent-%COMP%]   .pdf[_ngcontent-%COMP%]   object[_ngcontent-%COMP%]{width:95%;height:90vh}.file[_ngcontent-%COMP%]   .pdf[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{padding:10px 5px}.extras[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]{display:flex}.extras[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{flex:1;list-style:none;display:flex;padding:5px 0;margin:5px 0}.extras[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.extras[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{background-color:#80242b;color:#fff}.extras[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{flex:1;text-align:center;background-color:#ededed;transition:all ease-in-out .25s;padding:5px;cursor:pointer}.extras[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{background-color:#db9e9e}']}),n})();function c2(n,e){1&n&&(l.TgZ(0,"li"),l.TgZ(1,"a",9),l.TgZ(2,"span",3),l._uU(3," login "),l.qZA(),l.qZA(),l.qZA())}function d2(n,e){1&n&&(l.TgZ(0,"li"),l.TgZ(1,"a",10),l.TgZ(2,"span",3),l._uU(3," account_circle "),l.qZA(),l.qZA(),l.qZA())}const h2=function(n){return{alert:n}};function f2(n,e){if(1&n&&(l.TgZ(0,"li",11),l.TgZ(1,"a",12),l.TgZ(2,"span",3),l._uU(3," forum "),l.qZA(),l.qZA(),l.qZA()),2&n){const t=l.oxw();l.Q6J("ngClass",l.VKq(1,h2,t.user.alert))}}function p2(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"li"),l.TgZ(1,"button",13),l.NdJ("click",function(){return l.CHM(t),l.oxw().logout()}),l.TgZ(2,"span",3),l._uU(3," logout "),l.qZA(),l.qZA(),l.qZA()}}let g2=(()=>{class n{constructor(t,r,i){this.auth=t,this.data=r,this.router=i}ngOnInit(){let t=this.auth.authState().subscribe(r=>{r&&(this.loadUser(r.uid),t.unsubscribe())})}loadUser(t){const i=this.data.read(this.auth.module,{search:{data:"uid",value:t}}).subscribe(u=>{u[0]?this.user=u[0]:this.logout(),i.unsubscribe()})}logout(){this.auth.logout(),localStorage.removeItem("user"),this.router.navigate(["login"]).then(t=>{this.user=void 0,this.ngOnInit()})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Hs),l.Y36(td),l.Y36(Er))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-header"]],decls:22,vars:4,consts:[["routerLink","./"],["src","https://firebasestorage.googleapis.com/v0/b/claudiagiuberti.appspot.com/o/baseImages%2Flogo_white.png?alt=media&token=45082de2-816d-401e-804f-db26e2ae6238","alt","Welcome to the class"],[1,"spacer"],[1,"material-symbols-outlined"],[1,"dropdown"],["href","/pt-BR/class"],["href","/en-US/class"],[4,"ngIf"],[3,"ngClass",4,"ngIf"],["routerLink","/login"],["routerLink","/c/profile"],[3,"ngClass"],["routerLink","/c/comments"],[3,"click"]],template:function(t,r){1&t&&(l.TgZ(0,"header"),l.TgZ(1,"h1"),l.TgZ(2,"a",0),l._UZ(3,"img",1),l.qZA(),l.qZA(),l._UZ(4,"span",2),l.TgZ(5,"nav"),l.TgZ(6,"ul"),l.TgZ(7,"li"),l.TgZ(8,"a"),l.TgZ(9,"span",3),l._uU(10," translate "),l.qZA(),l.TgZ(11,"ul",4),l.TgZ(12,"li"),l.TgZ(13,"a",5),l._uU(14,"pt-BR"),l.qZA(),l.qZA(),l.TgZ(15,"li"),l.TgZ(16,"a",6),l._uU(17,"en-US"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.YNc(18,c2,4,0,"li",7),l.YNc(19,d2,4,0,"li",7),l.YNc(20,f2,4,3,"li",8),l.YNc(21,p2,4,0,"li",7),l.qZA(),l.qZA(),l.qZA()),2&t&&(l.xp6(18),l.Q6J("ngIf",!r.user),l.xp6(1),l.Q6J("ngIf",r.user),l.xp6(1),l.Q6J("ngIf",r.user),l.xp6(1),l.Q6J("ngIf",r.user))},directives:[Us,Cr,Vr],styles:['body[_ngcontent-%COMP%], *[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}body[_ngcontent-%COMP%]{font-weight:400;font-family:Roboto,sans-serif}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{font-weight:500;font-family:Libre Baskerville,serif}p[_ngcontent-%COMP%]{font-weight:400;font-family:Roboto,sans-serif}.btn[_ngcontent-%COMP%]{width:100%;padding:10px 5px;margin:0 auto;border-radius:10px;background-color:#80242b;color:#fff;font-size:12pt;border:0;cursor:pointer;box-shadow:0 0 3px 2px #0000004d;font-weight:500;font-family:Libre Baskerville,serif;transition:all ease-in-out .25s}.btn[_ngcontent-%COMP%]:disabled{opacity:20%;cursor:not-allowed}.btn[_ngcontent-%COMP%]:hover{box-shadow:0 0 2px #0000004d}@keyframes loading-bar{0%{margin-left:0}50%{margin-left:70%}to{margin-left:0%}}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.mobile[_ngcontent-%COMP%]{display:none}@media screen and (max-width: 768px){.mobile[_ngcontent-%COMP%]{display:block}}.desktop[_ngcontent-%COMP%]{display:block}@media screen and (max-width: 768px){.desktop[_ngcontent-%COMP%]{display:none}}.auth[_ngcontent-%COMP%]{min-height:100vh;width:100%;display:flex;justify-content:center;align-items:center}.auth[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{padding:10px 0;width:90%;max-width:300px;margin:auto;text-align:center}.auth[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24pt;padding:20px;font-weight:700;font-family:Libre Baskerville,serif;color:#80242b}.auth[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#80242b}.auth[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{padding:10px}.auth[_ngcontent-%COMP%]   .text-alt[_ngcontent-%COMP%]{text-align:left;padding-left:10px}.auth[_ngcontent-%COMP%]   .text-alt[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#80242b}.input[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background-color:#fff;padding:10px;margin:10px;height:40px;position:relative;border:1px solid #80242b;border-radius:10px}.input[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:10pt;font-weight:700;font-family:Libre Baskerville,serif;padding-right:5px;color:#80242b}.input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;text-align:left;width:80%;border:none;outline:none;color:#80242b}.input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;right:0;margin-right:3px;color:#80242b;background-color:transparent;border:0;display:flex;justify-content:center;align-items:center;outline:none;cursor:pointer;transition:all ease-in-out .25s;padding:5px;border-radius:100px}.input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ededed}.input[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.input[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.input[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{background-color:#80242b;color:#fff}.input[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{background-color:#db9e9e;color:#000;transition:all ease-in-out .25s;cursor:pointer;padding:5px;margin:2px;border-radius:5px;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.input[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{background-color:#80242b;color:#fff}a[_ngcontent-%COMP%]{color:#80242b;padding:0;margin:0;text-decoration:none}.icon-btn[_ngcontent-%COMP%]{margin-right:3px;color:#80242b;background-color:transparent;border:0;display:flex;justify-content:center;align-items:center;outline:none;cursor:pointer;transition:all ease-in-out .25s;padding:5px;border-radius:100px}.icon-btn[_ngcontent-%COMP%]:hover{background-color:#ededed}.content[_ngcontent-%COMP%]{min-height:100vh;width:100%}header[_ngcontent-%COMP%]{background-color:#80242b;display:flex}header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{height:80px;padding:10px}header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:100%;max-width:100%}header[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]{flex:1}header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;height:100%;justify-content:center;align-items:center}header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;display:inline-flex;justify-content:center;align-items:center;padding:0 15px;margin:0}header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.alert[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative}header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.alert[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before{content:" ";position:absolute;top:-5px;right:-5px;border-radius:100%;box-shadow:0 0 2px 2px #0000004d;width:10px;height:10px;background-color:#db9e9e}header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;border:0;color:#fff;background-color:transparent;font-size:12pt;height:20px;line-height:20px;text-decoration:none;display:flex;justify-content:center;align-items:center;cursor:pointer;position:relative;outline:0}header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%], header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]{position:absolute;top:24px;left:0;background-color:#fff;color:#80242b;display:none;flex-direction:column;width:80px;height:auto;box-shadow:0 0 3px 1px #0000004d;outline:0}header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:5px 10px;display:flex;width:100%;transition:all ease-in-out .25s}header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{flex:1;color:#80242b;outline:0}header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover, header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#db9e9e}header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   .dropdown[_ngcontent-%COMP%], header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   .dropdown[_ngcontent-%COMP%]{display:flex}@media screen and (max-width: 425px){header[_ngcontent-%COMP%]{justify-content:center;align-items:center;flex-direction:column}header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:20px}}']}),n})(),m2=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-footer"]],decls:0,vars:0,template:function(t,r){},styles:[""]}),n})(),_2=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-core"]],decls:3,vars:0,template:function(t,r){1&t&&(l._UZ(0,"app-header"),l._UZ(1,"router-outlet"),l._UZ(2,"app-footer"))},directives:[g2,Ma,m2],styles:[""]}),n})();function y2(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",6),l.TgZ(1,"input",7),l.NdJ("click",function(){const u=l.CHM(t).$implicit;return l.oxw(2).selectCurrency(u)}),l.qZA(),l.TgZ(2,"label",8),l._uU(3),l.qZA(),l.qZA()}if(2&n){const t=e.$implicit;l.xp6(1),l.s9C("id",t),l.xp6(1),l.s9C("for",t),l.xp6(1),l.Oqu(t)}}function v2(n,e){if(1&n&&(l.TgZ(0,"div",4),l.YNc(1,y2,4,3,"div",5),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngForOf",t.currencyList)}}function C2(n,e){if(1&n&&(l.TgZ(0,"div",14),l.TgZ(1,"p",15),l._uU(2),l.ALo(3,"currency"),l.qZA(),l.TgZ(4,"p",16),l._uU(5),l.ALo(6,"currency"),l.qZA(),l.qZA()),2&n){const t=l.oxw(2);l.xp6(2),l.hij(" ",l.xi3(3,2,t.selectedPay.price,t.selectedPay.currency)," "),l.xp6(3),l.hij(" ",l.xi3(6,5,t.selectedPay.promotion,t.selectedPay.currency)," ")}}function b2(n,e){if(1&n&&(l.TgZ(0,"div",14),l.TgZ(1,"p",16),l._uU(2),l.ALo(3,"currency"),l.qZA(),l.qZA()),2&n){const t=l.oxw(2);l.xp6(2),l.hij(" ",l.xi3(3,1,t.selectedPay.price,t.selectedPay.currency)," ")}}function w2(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"ul",9),l.TgZ(1,"li"),l.TgZ(2,"button",10),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return i.selectPay(i.selectedPay.currency)}),l.YNc(3,C2,7,8,"div",11),l.YNc(4,b2,4,4,"div",11),l.TgZ(5,"div",12),l.SDv(6,13),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&n){const t=l.oxw();l.xp6(3),l.Q6J("ngIf",t.selectedPay.promotion),l.xp6(1),l.Q6J("ngIf",!t.selectedPay.promotion)}}function E2(n,e){if(1&n&&(l.TgZ(0,"div",14),l.TgZ(1,"p",15),l._uU(2),l.ALo(3,"currency"),l.qZA(),l.TgZ(4,"p",16),l._uU(5),l.ALo(6,"currency"),l.qZA(),l.qZA()),2&n){const t=l.oxw().$implicit;l.xp6(2),l.hij(" ",l.xi3(3,2,t.price,t.currency)," "),l.xp6(3),l.hij(" ",l.xi3(6,5,t.promotion,t.currency)," ")}}function I2(n,e){if(1&n&&(l.TgZ(0,"div",14),l.TgZ(1,"p",16),l._uU(2),l.ALo(3,"currency"),l.qZA(),l.qZA()),2&n){const t=l.oxw().$implicit;l.xp6(2),l.hij(" ",l.xi3(3,1,t.price,t.currency)," ")}}function T2(n,e){if(1&n&&(l.TgZ(0,"li"),l.TgZ(1,"button"),l.TgZ(2,"a",18),l.YNc(3,E2,7,8,"div",11),l.YNc(4,I2,4,4,"div",11),l.TgZ(5,"div",12),l.SDv(6,19),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&n){const t=e.$implicit;l.xp6(3),l.Q6J("ngIf",t.promotion),l.xp6(1),l.Q6J("ngIf",!t.promotion)}}function D2(n,e){if(1&n&&(l.TgZ(0,"ul",9),l.YNc(1,T2,7,2,"li",17),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngForOf",t.values)}}function M2(n,e){if(1&n&&l._UZ(0,"app-loading",20),2&n){const t=l.oxw();l.Q6J("text",t.loading.text)}}let O2=(()=>{class n{constructor(t,r,i,u){this.data=t,this.pay=r,this.router=i,this.auth=u,this.currencyList=[],this.loadText=["","Loading payment method","Loading payment","Verify payments"],this.loading={value:!1,text:this.loadText[0]},this.title=""}ngOnInit(){this.auth.authState().subscribe(t=>{if(t){let r=localStorage.getItem("user");this.user=JSON.parse(r),this.checkSessions(),this.title="Choose payment method"}else this.loadPayments(!0),this.title="Payment methods"})}loadPayments(t){this.setLoading(!0,this.loadText[1]);let r=this.data.read("Payment").pipe((0,Lt.U)(i=>i.filter(u=>(1==t||(this.currencyList[this.currencyList.length]=u.currency),u)))).subscribe(i=>{1==t?this.values=i:this.payment=i,this.setLoading(!1),r.unsubscribe()})}selectPay(t){this.setLoading(!0,this.loadText[2]);let r=this.pay.checkoutStripe(t,this.user.uid).subscribe(i=>{i&&Stripe("pk_test_51JwAR3HGU7CF3eIXKlFJGsXUG1abE1Rxvgb9dmEDlVP42VkCyOXWpTxMGjUwgfyrHtQ5TCVYFEdvJJzzEQSkGizz00lDvvqoNf").redirectToCheckout({sessionId:i.session.id}).then(u=>{r.unsubscribe()}).catch(u=>{r.unsubscribe()})},i=>{window.alert("erro"+i),this.setLoading(!1),r.unsubscribe()})}checkSessions(){this.setLoading(!0,this.loadText[3]);let t=this.pay.retrieveStripe(this.user.uid).subscribe(r=>{let i=r.sessions,u=!1;if(i[0])for(let d=0;d<i.length;d++)"paid"==i[d].payment_status&&(u=!0,this.userPayment(i[d])),0==u&&d==i.length-1&&(this.loadPayments(),t.unsubscribe()),1==u&&d==i.length-1&&(this.setLoading(!1),t.unsubscribe());else this.loadPayments(),t.unsubscribe()},r=>{console.log("error"),console.log(r),this.setLoading(!1),t.unsubscribe()})}userPayment(t){let r=this.pay.paymentStripe(this.user.uid,t.id).subscribe(i=>{localStorage.removeItem("user"),localStorage.setItem("user",JSON.stringify(i.result)),setTimeout(()=>{this.router.navigate([""]),r.unsubscribe()},10)},i=>{console.log("error"),console.log(i),r.unsubscribe()})}selectCurrency(t){this.payment.filter(r=>{r.currency==t&&(this.selectedPay=r)})}setLoading(t,r){1==t?(this.loading.value=t,this.loading.text=r||this.loadText[0]):(this.loading.value=t,this.loading.text=this.loadText[0])}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(td),l.Y36(IS),l.Y36(Er),l.Y36(Hs))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-payment"]],decls:7,vars:5,consts:function(){let e,t;return e="Select",t="Select",[[1,"content"],["class","input",4,"ngIf"],["class","payments",4,"ngIf"],[3,"text",4,"ngIf"],[1,"input"],["class","list",4,"ngFor","ngForOf"],[1,"list"],["name","currency","type","radio",3,"id","click"],[3,"for"],[1,"payments"],[3,"click"],["class","pay",4,"ngIf"],[1,"btn"],e,[1,"pay"],[1,"promotion"],[1,"price"],[4,"ngFor","ngForOf"],["routerLink","/login"],t,[3,"text"]]},template:function(t,r){1&t&&(l.TgZ(0,"section",0),l.TgZ(1,"h2"),l._uU(2),l.qZA(),l.YNc(3,v2,2,1,"div",1),l.YNc(4,w2,7,2,"ul",2),l.YNc(5,D2,2,1,"ul",2),l.qZA(),l.YNc(6,M2,1,1,"app-loading",3)),2&t&&(l.xp6(2),l.Oqu(r.title),l.xp6(1),l.Q6J("ngIf",r.currencyList),l.xp6(1),l.Q6J("ngIf",r.selectedPay),l.xp6(1),l.Q6J("ngIf",r.values),l.xp6(1),l.Q6J("ngIf",1==r.loading.value))},directives:[Cr,$i,Us,TS],pipes:[xi],styles:['body[_ngcontent-%COMP%], *[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}body[_ngcontent-%COMP%]{font-weight:400;font-family:Roboto,sans-serif}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{font-weight:500;font-family:Libre Baskerville,serif}p[_ngcontent-%COMP%]{font-weight:400;font-family:Roboto,sans-serif}.btn[_ngcontent-%COMP%]{width:100%;padding:10px 5px;margin:0 auto;border-radius:10px;background-color:#80242b;color:#fff;font-size:12pt;border:0;cursor:pointer;box-shadow:0 0 3px 2px #0000004d;font-weight:500;font-family:Libre Baskerville,serif;transition:all ease-in-out .25s}.btn[_ngcontent-%COMP%]:disabled{opacity:20%;cursor:not-allowed}.btn[_ngcontent-%COMP%]:hover{box-shadow:0 0 2px #0000004d}@keyframes loading-bar{0%{margin-left:0}50%{margin-left:70%}to{margin-left:0%}}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.mobile[_ngcontent-%COMP%]{display:none}@media screen and (max-width: 768px){.mobile[_ngcontent-%COMP%]{display:block}}.desktop[_ngcontent-%COMP%]{display:block}@media screen and (max-width: 768px){.desktop[_ngcontent-%COMP%]{display:none}}.auth[_ngcontent-%COMP%]{min-height:100vh;width:100%;display:flex;justify-content:center;align-items:center}.auth[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{padding:10px 0;width:90%;max-width:300px;margin:auto;text-align:center}.auth[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24pt;padding:20px;font-weight:700;font-family:Libre Baskerville,serif;color:#80242b}.auth[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#80242b}.auth[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{padding:10px}.auth[_ngcontent-%COMP%]   .text-alt[_ngcontent-%COMP%]{text-align:left;padding-left:10px}.auth[_ngcontent-%COMP%]   .text-alt[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#80242b}.input[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background-color:#fff;padding:10px;margin:10px;height:40px;position:relative;border:1px solid #80242b;border-radius:10px}.input[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:10pt;font-weight:700;font-family:Libre Baskerville,serif;padding-right:5px;color:#80242b}.input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;text-align:left;width:80%;border:none;outline:none;color:#80242b}.input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;right:0;margin-right:3px;color:#80242b;background-color:transparent;border:0;display:flex;justify-content:center;align-items:center;outline:none;cursor:pointer;transition:all ease-in-out .25s;padding:5px;border-radius:100px}.input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ededed}.input[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.input[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.input[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{background-color:#80242b;color:#fff}.input[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{background-color:#db9e9e;color:#000;transition:all ease-in-out .25s;cursor:pointer;padding:5px;margin:2px;border-radius:5px;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.input[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{background-color:#80242b;color:#fff}a[_ngcontent-%COMP%]{color:#80242b;padding:0;margin:0;text-decoration:none}.icon-btn[_ngcontent-%COMP%]{margin-right:3px;color:#80242b;background-color:transparent;border:0;display:flex;justify-content:center;align-items:center;outline:none;cursor:pointer;transition:all ease-in-out .25s;padding:5px;border-radius:100px}.icon-btn[_ngcontent-%COMP%]:hover{background-color:#ededed}.content[_ngcontent-%COMP%]{min-height:100vh;width:100%}h2[_ngcontent-%COMP%]{font-weight:700;font-family:Libre Baskerville,serif;font-size:24pt;max-width:95%;color:#80242b;margin:20px auto;text-align:center}.payments[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:flex-start;margin:auto;width:90%;max-width:1040px}.payments[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{flex:1;display:block;width:100%;text-align:center;margin:10px 0}.payments[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;background-color:#ededed;padding:10px;border-radius:5px;border:0;width:95%;margin:auto;cursor:pointer;transition:all ease-in-out .25s}.payments[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background-color:transparent}.payments[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .pay[_ngcontent-%COMP%]{margin:20px 0}.payments[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .pay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding-bottom:10px}.payments[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .pay[_ngcontent-%COMP%]   p.promotion[_ngcontent-%COMP%]{font-size:12pt;text-decoration:line-through}.payments[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .pay[_ngcontent-%COMP%]   p.price[_ngcontent-%COMP%]{font-size:16pt;font-weight:700;font-family:Roboto,sans-serif;color:#80242b}@media screen and (max-width: 768px){.payments[_ngcontent-%COMP%]{flex-direction:column}}']}),n})();function P2(n,e){if(1&n&&(l.TgZ(0,"label",10),l._uU(1),l.qZA()),2&n){const t=l.oxw().$implicit;l.s9C("for",t.name),l.xp6(1),l.Oqu(t.label)}}function A2(n,e){if(1&n&&(l.TgZ(0,"li"),l.TgZ(1,"div",7),l.YNc(2,P2,2,2,"label",8),l._UZ(3,"input",9),l.qZA(),l.qZA()),2&n){const t=e.$implicit;l.xp6(2),l.Q6J("ngIf",t.label),l.xp6(1),l.s9C("id",t.name),l.s9C("name",t.name),l.s9C("type",t.type),l.s9C("formControlName",t.name),l.s9C("autocomplete",t.autocomplete)}}function x2(n,e){if(1&n&&(l.TgZ(0,"label",10),l._uU(1),l.qZA()),2&n){const t=l.oxw().$implicit;l.s9C("for",t.name),l.xp6(1),l.Oqu(t.label)}}function S2(n,e){if(1&n&&(l.TgZ(0,"li"),l.TgZ(1,"div",7),l.YNc(2,x2,2,2,"label",8),l._UZ(3,"input",9),l.qZA(),l.qZA()),2&n){const t=e.$implicit;l.xp6(2),l.Q6J("ngIf",t.label),l.xp6(1),l.s9C("id",t.name),l.s9C("name",t.name),l.s9C("type",t.type),l.s9C("formControlName",t.name),l.s9C("autocomplete",t.autocomplete)}}let R2=(()=>{class n{constructor(t,r,i,u,d){this.fb=t,this.auth=r,this.app=i,this.classes=u,this.data=d,this.profile={group:t.group({}),controls:[{name:"id",value:"",type:"text",input:!1,hide:!1,validators:{required:!1}},{name:"email",label:"E-mail: ",value:"",type:"email",input:!0,hide:!1,validators:{required:!0,email:!0}},{name:"name",label:"Name: ",value:"",type:"text",input:!0,hide:!1,validators:{required:!0}},{name:"lastname",label:"Lastname: ",value:"",type:"text",input:!0,hide:!1,validators:{required:!0}},{name:"displayname",value:"",type:"text",input:!1,hide:!1,validators:{required:!1}}]},this.password={group:t.group({}),controls:[{name:"password",label:"New password: ",value:"",type:"password",input:!0,hide:!0,autocomplete:"new-password",validators:{required:!0}},{name:"repassword",label:"Rewrite: ",value:"",type:"password",input:!0,hide:!0,autocomplete:"new-password",validators:{required:!0}}]}}ngOnInit(){let t=localStorage.getItem("user");this.user=JSON.parse(t);for(const r of this.profile.controls){let i=this.app.setValidators(r.validators);this.profile.group.addControl(r.name,this.fb.control(r.value,i))}for(const r of this.password.controls){let i=this.app.setValidators(r.validators);this.password.group.addControl(r.name,this.fb.control(r.value,i))}this.setValue(this.profile.group,this.user)}setValue(t,r){for(const[i,u]of Object.entries(r))t.patchValue({[i]:u})}setControls(t){return t.filter(r=>{if(1==r.input)return r})}updateEmail(t){return this.classes.setLoading(!0,"Changing name"),this.auth.updateEmail(this.user.uid,t)}updatePassword(){if(!this.password.group.invalid&&this.password.group.value.password==this.password.group.value.repassword){this.classes.setLoading(!0,"Changing password");let t=this.auth.updatePassword(this.user.uid,this.password.group.value.password).subscribe(r=>{this.password.group.reset(),this.classes.setLoading(!1),t.unsubscribe()},r=>{this.password.group.reset(),this.classes.setLoading(!1),t.unsubscribe()})}}updateProfile(){this.profile.group.invalid||(this.classes.setLoading(!0,"Updating profile"),this.user.name=this.profile.group.value.name,this.user.lastname=this.profile.group.value.lastname,this.user.displayname=this.user.name+" "+this.user.lastname,this.data.save("User",this.user).then(t=>{if(localStorage.setItem("user",JSON.stringify(this.user)),this.user.email!=this.profile.group.value.email){this.classes.setLoading(!0,"Updanting email"),console.log(this.profile.group.value.email);let r=this.updateEmail(this.profile.group.value.email).subscribe(i=>{this.user.email=this.profile.group.value.email,localStorage.setItem("user",JSON.stringify(this.user)),this.classes.setLoading(!1),window.location.reload(),r.unsubscribe()},i=>{console.log(i),this.classes.setLoading(!0,"Error"),this.classes.setLoading(!1),r.unsubscribe()});setTimeout(()=>{this.ngOnInit(),this.classes.setLoading(!1)},1e3)}else this.ngOnInit(),this.classes.setLoading(!1)}).catch(t=>{this.classes.setLoading(!0,"Error"),setTimeout(()=>{this.ngOnInit(),this.classes.setLoading(!1)},1e3)}))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Jl),l.Y36(Hs),l.Y36(MS),l.Y36(DS),l.Y36(td))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-profile"]],decls:14,vars:6,consts:function(){let e,t,r,i;return e="Profile info:",t="Change profile",r="Redefine password:",i="Change password",[[3,"formGroup","ngSubmit"],e,[4,"ngFor","ngForOf"],["type","submit",1,"btn",3,"disabled"],t,r,i,[1,"input"],[3,"for",4,"ngIf"],[3,"id","name","type","formControlName","autocomplete"],[3,"for"]]},template:function(t,r){1&t&&(l.TgZ(0,"form",0),l.NdJ("ngSubmit",function(){return r.updateProfile()}),l.TgZ(1,"h2"),l.SDv(2,1),l.qZA(),l.TgZ(3,"ul"),l.YNc(4,A2,4,6,"li",2),l.qZA(),l.TgZ(5,"button",3),l.SDv(6,4),l.qZA(),l.qZA(),l.TgZ(7,"form",0),l.NdJ("ngSubmit",function(){return r.updatePassword()}),l.TgZ(8,"h2"),l.SDv(9,5),l.qZA(),l.TgZ(10,"ul"),l.YNc(11,S2,4,6,"li",2),l.qZA(),l.TgZ(12,"button",3),l.SDv(13,6),l.qZA(),l.qZA()),2&t&&(l.Q6J("formGroup",r.profile.group),l.xp6(4),l.Q6J("ngForOf",r.setControls(r.profile.controls)),l.xp6(1),l.Q6J("disabled",r.profile.group.invalid),l.xp6(2),l.Q6J("formGroup",r.password.group),l.xp6(4),l.Q6J("ngForOf",r.setControls(r.password.controls)),l.xp6(1),l.Q6J("disabled",r.password.group.invalid||r.password.group.value.password!=r.password.group.value.repassword))},directives:[Wl,Gl,Ra,$i,Cr,Vu,jl,Hu],styles:['body[_ngcontent-%COMP%], *[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}body[_ngcontent-%COMP%]{font-weight:400;font-family:Roboto,sans-serif}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{font-weight:500;font-family:Libre Baskerville,serif}p[_ngcontent-%COMP%]{font-weight:400;font-family:Roboto,sans-serif}.btn[_ngcontent-%COMP%]{width:100%;padding:10px 5px;margin:0 auto;border-radius:10px;background-color:#80242b;color:#fff;font-size:12pt;border:0;cursor:pointer;box-shadow:0 0 3px 2px #0000004d;font-weight:500;font-family:Libre Baskerville,serif;transition:all ease-in-out .25s}.btn[_ngcontent-%COMP%]:disabled{opacity:20%;cursor:not-allowed}.btn[_ngcontent-%COMP%]:hover{box-shadow:0 0 2px #0000004d}@keyframes loading-bar{0%{margin-left:0}50%{margin-left:70%}to{margin-left:0%}}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.mobile[_ngcontent-%COMP%]{display:none}@media screen and (max-width: 768px){.mobile[_ngcontent-%COMP%]{display:block}}.desktop[_ngcontent-%COMP%]{display:block}@media screen and (max-width: 768px){.desktop[_ngcontent-%COMP%]{display:none}}.auth[_ngcontent-%COMP%]{min-height:100vh;width:100%;display:flex;justify-content:center;align-items:center}.auth[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{padding:10px 0;width:90%;max-width:300px;margin:auto;text-align:center}.auth[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24pt;padding:20px;font-weight:700;font-family:Libre Baskerville,serif;color:#80242b}.auth[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#80242b}.auth[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{padding:10px}.auth[_ngcontent-%COMP%]   .text-alt[_ngcontent-%COMP%]{text-align:left;padding-left:10px}.auth[_ngcontent-%COMP%]   .text-alt[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#80242b}.input[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background-color:#fff;padding:10px;margin:10px;height:40px;position:relative;border:1px solid #80242b;border-radius:10px}.input[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:10pt;font-weight:700;font-family:Libre Baskerville,serif;padding-right:5px;color:#80242b}.input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;text-align:left;width:80%;border:none;outline:none;color:#80242b}.input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;right:0;margin-right:3px;color:#80242b;background-color:transparent;border:0;display:flex;justify-content:center;align-items:center;outline:none;cursor:pointer;transition:all ease-in-out .25s;padding:5px;border-radius:100px}.input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ededed}.input[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.input[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.input[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{background-color:#80242b;color:#fff}.input[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{background-color:#db9e9e;color:#000;transition:all ease-in-out .25s;cursor:pointer;padding:5px;margin:2px;border-radius:5px;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.input[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{background-color:#80242b;color:#fff}a[_ngcontent-%COMP%]{color:#80242b;padding:0;margin:0;text-decoration:none}.icon-btn[_ngcontent-%COMP%]{margin-right:3px;color:#80242b;background-color:transparent;border:0;display:flex;justify-content:center;align-items:center;outline:none;cursor:pointer;transition:all ease-in-out .25s;padding:5px;border-radius:100px}.icon-btn[_ngcontent-%COMP%]:hover{background-color:#ededed}.content[_ngcontent-%COMP%]{min-height:100vh;width:100%}form[_ngcontent-%COMP%]{padding:0 10px}form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{padding:10px;margin-top:15px;font-weight:700;font-family:Libre Baskerville,serif;color:#80242b;text-align:center}']}),n})(),a0=(()=>{class n{constructor(t,r){this.auth=t,this.router=r}canActivate(t,r){return this.auth.authState().pipe((0,Lt.U)(i=>{let u=localStorage.getItem("user");switch(u=JSON.parse(u),t.url[0].path){case"c":if(!i||!u)return this.router.navigate(["/login"]),!1;if(!u.pay)return this.router.navigate(["/payment"]),!1;break;case"login":case"register":case"forgotpassword":if(i&&u)return this.router.navigate(["/c"]),!1;this.auth.logout(),localStorage.removeItem("user")}return!0}))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Hs),l.LFG(Er))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const N2=[{path:"",redirectTo:"class",pathMatch:"full"},{path:"",component:_2,children:[{path:"c",component:DS,canActivate:[a0],children:[{path:"",component:xS},{path:"content/:url",component:l2},{path:"comments",component:OS},{path:"profile",component:R2},{path:"**",redirectTo:"",pathMatch:"full"}]},{path:"login",component:dL,canActivate:[a0]},{path:"register",component:fL,canActivate:[a0]},{path:"forgotpassword",component:cb,canActivate:[a0]},{path:"payment",component:O2},{path:"**",redirectTo:"c",pathMatch:"full"}]}];let k2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Wm.forRoot(N2)],Wm]}),n})();class L2 extends qn.Q{constructor(){super(...arguments),this.activeGroups=0,this.teardownAttempted=!1}unsubscribe(){this.teardownAttempted=!0,0===this.activeGroups&&super.unsubscribe()}}var V2=P(655),IO=P(6148);function U2(n){return new Dr.y(function(e){return{unsubscribe:(0,x_.v)(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e))}})}class DE{constructor(e){return e}}class ME{constructor(){return(0,ht.vb)("auth")}}const TO=new l.OlP("angularfire2.auth-instances");function j2(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new DE(r)}}const G2={provide:ME,deps:[[new l.FiY,TO]]},H2={provide:DE,useFactory:function $2(n,e){const t=(0,ht.JM)("auth",n,e);return t&&new DE(t)},deps:[[new l.FiY,TO],ho]};let z2=(()=>{class n{constructor(){(0,Qn.KN)("angularfire",ht.q4.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[H2,G2]}),n})();function q2(n,...e){return{ngModule:z2,providers:[{provide:TO,useFactory:j2(n),multi:!0,deps:[l.R0b,l.zs3,ht.HU,fo,[new l.FiY,js],...e]}]}}const Z2=(0,ht.u3)(U2,!0),W2=(0,ht.u3)(x_.n,!0);class u0{constructor(e){return e}}const RS="analytics",NS=ht.nk.async,Y2=(0,ht.u3)(IO.IH,!0),Q2=(0,ht.u3)(IO.Kz,!0),J2=(0,ht.u3)(IO.Iv,!0);let DO=(()=>{class n{constructor(t,r,i){let u;this.disposables=[],(0,Qn.KN)("angularfire",ht.q4.full,"user-tracking"),this.initialized=r.runOutsideAngular(()=>new Promise(d=>{u=d})),NS().then(()=>{const d=i.get(u0);d?this.disposables=[Z2(t).subscribe(g=>{J2(d,null==g?void 0:g.uid),u()})]:u()})}ngOnDestroy(){this.disposables.forEach(t=>t.unsubscribe())}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(DE),l.LFG(l.R0b),l.LFG(l.zs3))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const kS="firebase_screen_id",MO="outlet",l0="screen_class",FS="screen_name";let cV=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const OO={},dV=n=>{const e=[n[l0],n[MO]].join("#");if(OO.hasOwnProperty(e))return OO[e];{const t=cV++;return OO[e]=t,t}};let LS=(()=>{class n{constructor(t,r,i,u,d,g){(0,Qn.KN)("angularfire",ht.q4.full,"screen-tracking"),NS().then(()=>{const y=g.get(u0);!t||!y||u.runOutsideAngular(()=>{this.disposable=((n,e,t)=>n.events.pipe(Ei(i=>i instanceof Os)).pipe(gr(i=>{var u;const g=(null===(u=n.parseUrl(n.url.replace(/(?:\().+(?:\))/g,B=>B.replace("://",":///"))).root.children[i.snapshot.outlet])||void 0===u?void 0:u.toString())||"",y=n.routerState.root.children.map(B=>B).find(B=>B.outlet===i.snapshot.outlet);if(!y)return Mt(null);let w=y;for(;w.firstChild;)w=w.firstChild;const T=w.pathFromRoot.map(B=>{var X;return null===(X=B.routeConfig)||void 0===X?void 0:X.path}).filter(B=>B).join("/")||"/",O={[FS]:T,page_path:`/${g}`,firebase_event_origin:"auto",firebase_screen:T,[MO]:i.snapshot.outlet};e&&(O.page_title=e.getTitle());let V=y.component;if(V){if(V===Vs){let B=i.snapshot;for(;B.firstChild;)B=B.firstChild;V=B.component}}else V=i.snapshot.component;if("string"==typeof V)return Mt(Object.assign(Object.assign({},O),{[l0]:V}));if(V){const B=t.resolveComponentFactory(V);return Mt(Object.assign(Object.assign({},O),{[l0]:B.selector}))}return Mt(null)}),Ei(i=>!!i),(0,Lt.U)(i=>Object.assign({firebase_screen_class:i[l0],[kS]:dV(i)},i)),function F2(n,e,t,r){return(0,xr.e)((i,u)=>{let d;e&&"function"!=typeof e?({duration:t,element:d,connector:r}=e):d=e;const g=new Map,y=V=>{g.forEach(V),V(u)},w=V=>y(B=>B.error(V)),T=new L2(u,V=>{try{const B=n(V);let X=g.get(B);if(!X){g.set(B,X=r?r():new qi.x);const Se=function O(V,B){const X=new Dr.y(Se=>{T.activeGroups++;const Ne=B.subscribe(Se);return()=>{Ne.unsubscribe(),0==--T.activeGroups&&T.teardownAttempted&&T.unsubscribe()}});return X.key=V,X}(B,X);if(u.next(Se),t){const Ne=new qn.Q(X,()=>{X.complete(),null==Ne||Ne.unsubscribe()},void 0,void 0,()=>g.delete(B));T.add((0,no.Xf)(t(Se)).subscribe(Ne))}}X.next(d?d(V):V)}catch(B){w(B)}},()=>y(V=>V.complete()),w,()=>g.clear());i.subscribe(T)})}(i=>i[MO]),(0,Un.z)(i=>i.pipe(db((u,d)=>JSON.stringify(u)===JSON.stringify(d)),ro(void 0),Zu(),(0,Lt.U)(([u,d])=>u?Object.assign({firebase_previous_class:u[l0],firebase_previous_screen:u[FS],firebase_previous_id:u[kS]},d):d)))))(t,r,i).pipe(gr(w=>(0,V2.mG)(this,void 0,void 0,function*(){return d&&(yield d.initialized),Q2(y,"screen_view",w)}))).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Er,8),l.LFG(sa,8),l.LFG(l._Vd),l.LFG(l.R0b),l.LFG(DO,8),l.LFG(l.zs3))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const PO=new l.OlP("angularfire2.analytics-instances");function pV(n){return(e,t)=>{if(!ht.nk.sync())return null;const r=e.runOutsideAngular(()=>n(t));return new u0(r)}}const gV={provide:class K2{constructor(){return(0,ht.vb)(RS)}},deps:[[new l.FiY,PO]]},mV={provide:u0,useFactory:function fV(n,e){if(!ht.nk.sync())return null;const t=(0,ht.JM)(RS,n,e);return t&&new u0(t)},deps:[[new l.FiY,PO],ho]};let _V=(()=>{class n{constructor(t,r){(0,Qn.KN)("angularfire",ht.q4.full,"analytics")}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(LS,8),l.LFG(DO,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[mV,gV,{provide:l.ip1,useValue:ht.nk.async,multi:!0}]}),n})();function yV(n,...e){return{ngModule:_V,providers:[{provide:PO,useFactory:pV(n),multi:!0,deps:[l.R0b,l.zs3,ht.HU,fo,...e]}]}}class AO{constructor(e){return e}}const VS="firestore",xO=new l.OlP("angularfire2.firestore-instances");function bV(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new AO(r)}}const wV={provide:class vV{constructor(){return(0,ht.vb)(VS)}},deps:[[new l.FiY,xO]]},EV={provide:AO,useFactory:function CV(n,e){const t=(0,ht.JM)(VS,n,e);return t&&new AO(t)},deps:[[new l.FiY,xO],ho]};let IV=(()=>{class n{constructor(){(0,Qn.KN)("angularfire",ht.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[EV,wV]}),n})();function TV(n,...e){return{ngModule:IV,providers:[{provide:xO,useFactory:bV(n),multi:!0,deps:[l.R0b,l.zs3,ht.HU,fo,[new l.FiY,ME],[new l.FiY,js],...e]}]}}const DV=(0,ht.u3)(dN,!0),RO="functions";class xV{constructor(e,t,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then(i=>this.auth=i,()=>{}),this.messaging||t.get().then(i=>this.messaging=i,()=>{}),this.appCheck||r.get().then(i=>this.appCheck=i,()=>{})}getAuthToken(){var e=this;return(0,ve.Z)(function*(){if(e.auth)try{const t=yield e.auth.getToken();return null==t?void 0:t.accessToken}catch{return}})()}getMessagingToken(){var e=this;return(0,ve.Z)(function*(){if(e.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return yield e.messaging.getToken()}catch{return}})()}getAppCheckToken(){var e=this;return(0,ve.Z)(function*(){if(e.appCheck){const t=yield e.appCheck.getToken();return t.error?null:t.token}return null})()}getContext(){var e=this;return(0,ve.Z)(function*(){return{authToken:yield e.getAuthToken(),messagingToken:yield e.getMessagingToken(),appCheckToken:yield e.getAppCheckToken()}})()}}const NO="us-central1";class RV{constructor(e,t,r,i,u=NO,d){this.app=e,this.fetchImpl=d,this.emulatorOrigin=null,this.contextProvider=new xV(t,r,i),this.cancelAllRequests=new Promise(g=>{this.deleteService=()=>Promise.resolve(g())});try{const g=new URL(u);this.customDomain=g.origin,this.region=NO}catch{this.customDomain=null,this.region=u}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;return null!==this.emulatorOrigin?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:null!==this.customDomain?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}const jS="@firebase/functions";function GV(n=(0,Sr.getApp)(),e=NO){return(0,Sr._getProvider)((0,Qt.m9)(n),RO).getImmediate({identifier:e})}!function jV(n,e){(0,Sr._registerComponent)(new ka.wA(RO,(r,{instanceIdentifier:i})=>{const u=r.getProvider("app").getImmediate(),d=r.getProvider("auth-internal"),g=r.getProvider("messaging-internal"),y=r.getProvider("app-check-internal");return new RV(u,d,g,y,i,n)},"PUBLIC").setMultipleInstances(!0)),(0,Sr.registerVersion)(jS,"0.8.4",e),(0,Sr.registerVersion)(jS,"0.8.4","esm2017")}(fetch.bind(self));class LO{constructor(e){return e}}const HS="functions",VO=new l.OlP("angularfire2.functions-instances");function qV(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new LO(r)}}const ZV={provide:class HV{constructor(){return(0,ht.vb)(HS)}},deps:[[new l.FiY,VO]]},WV={provide:LO,useFactory:function zV(n,e){const t=(0,ht.JM)(HS,n,e);return t&&new LO(t)},deps:[[new l.FiY,VO],ho]};let KV=(()=>{class n{constructor(){(0,Qn.KN)("angularfire",ht.q4.full,"fn")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[WV,ZV]}),n})();function YV(n,...e){return{ngModule:KV,providers:[{provide:VO,useFactory:qV(n),multi:!0,deps:[l.R0b,l.zs3,ht.HU,fo,[new l.FiY,ME],[new l.FiY,js],...e]}]}}const QV=(0,ht.u3)(GV,!0);var JV=P(3226);class UO{constructor(e){return e}}const zS="remote-config",BO=new l.OlP("angularfire2.remote-config-instances");function tU(n){return(e,t)=>{if(!ht._J.sync())return null;const r=e.runOutsideAngular(()=>n(t));return new UO(r)}}const nU={provide:class XV{constructor(){return(0,ht.vb)(zS)}},deps:[[new l.FiY,BO]]},rU={provide:UO,useFactory:function eU(n,e){if(!ht._J.sync())return null;const t=(0,ht.JM)(zS,n,e);return t&&new UO(t)},deps:[[new l.FiY,BO],ho]};let iU=(()=>{class n{constructor(){(0,Qn.KN)("angularfire",ht.q4.full,"rc")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[rU,nU,{provide:l.ip1,useValue:ht._J.async,multi:!0}]}),n})();function oU(n,...e){return{ngModule:iU,providers:[{provide:BO,useFactory:tU(n),multi:!0,deps:[l.R0b,l.zs3,ht.HU,fo,...e]}]}}const sU=(0,ht.u3)(JV.sN,!0);class $O{constructor(e){return e}}const qS="storage",jO=new l.OlP("angularfire2.storage-instances");function lU(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new $O(r)}}const cU={provide:class aU{constructor(){return(0,ht.vb)(qS)}},deps:[[new l.FiY,jO]]},dU={provide:$O,useFactory:function uU(n,e){const t=(0,ht.JM)(qS,n,e);return t&&new $O(t)},deps:[[new l.FiY,jO],ho]};let hU=(()=>{class n{constructor(){(0,Qn.KN)("angularfire",ht.q4.full,"gcs")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[dU,cU]}),n})();function fU(n,...e){return{ngModule:hU,providers:[{provide:jO,useFactory:lU(n),multi:!0,deps:[l.R0b,l.zs3,ht.HU,fo,[new l.FiY,ME],[new l.FiY,js],...e]}]}}const pU=(0,ht.u3)(WF,!0);let gU=(()=>{class n{constructor(t){this.titleService=t,this.title="Claudia Giuberti",t.setTitle(this.title)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(sa))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&l._UZ(0,"router-outlet")},directives:[Ma],styles:['body[_ngcontent-%COMP%], *[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}body[_ngcontent-%COMP%]{font-weight:400;font-family:Roboto,sans-serif}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{font-weight:500;font-family:Libre Baskerville,serif}p[_ngcontent-%COMP%]{font-weight:400;font-family:Roboto,sans-serif}.btn[_ngcontent-%COMP%]{width:100%;padding:10px 5px;margin:0 auto;border-radius:10px;background-color:#80242b;color:#fff;font-size:12pt;border:0;cursor:pointer;box-shadow:0 0 3px 2px #0000004d;font-weight:500;font-family:Libre Baskerville,serif;transition:all ease-in-out .25s}.btn[_ngcontent-%COMP%]:disabled{opacity:20%;cursor:not-allowed}.btn[_ngcontent-%COMP%]:hover{box-shadow:0 0 2px #0000004d}@keyframes loading-bar{0%{margin-left:0}50%{margin-left:70%}to{margin-left:0%}}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.mobile[_ngcontent-%COMP%]{display:none}@media screen and (max-width: 768px){.mobile[_ngcontent-%COMP%]{display:block}}.desktop[_ngcontent-%COMP%]{display:block}@media screen and (max-width: 768px){.desktop[_ngcontent-%COMP%]{display:none}}.auth[_ngcontent-%COMP%]{min-height:100vh;width:100%;display:flex;justify-content:center;align-items:center}.auth[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{padding:10px 0;width:90%;max-width:300px;margin:auto;text-align:center}.auth[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24pt;padding:20px;font-weight:700;font-family:Libre Baskerville,serif;color:#80242b}.auth[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#80242b}.auth[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{padding:10px}.auth[_ngcontent-%COMP%]   .text-alt[_ngcontent-%COMP%]{text-align:left;padding-left:10px}.auth[_ngcontent-%COMP%]   .text-alt[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#80242b}.input[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background-color:#fff;padding:10px;margin:10px;height:40px;position:relative;border:1px solid #80242b;border-radius:10px}.input[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:10pt;font-weight:700;font-family:Libre Baskerville,serif;padding-right:5px;color:#80242b}.input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;text-align:left;width:80%;border:none;outline:none;color:#80242b}.input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;right:0;margin-right:3px;color:#80242b;background-color:transparent;border:0;display:flex;justify-content:center;align-items:center;outline:none;cursor:pointer;transition:all ease-in-out .25s;padding:5px;border-radius:100px}.input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ededed}.input[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.input[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.input[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{background-color:#80242b;color:#fff}.input[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{background-color:#db9e9e;color:#000;transition:all ease-in-out .25s;cursor:pointer;padding:5px;margin:2px;border-radius:5px;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.input[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{background-color:#80242b;color:#fff}a[_ngcontent-%COMP%]{color:#80242b;padding:0;margin:0;text-decoration:none}.icon-btn[_ngcontent-%COMP%]{margin-right:3px;color:#80242b;background-color:transparent;border:0;display:flex;justify-content:center;align-items:center;outline:none;cursor:pointer;transition:all ease-in-out .25s;padding:5px;border-radius:100px}.icon-btn[_ngcontent-%COMP%]:hover{background-color:#ededed}.content[_ngcontent-%COMP%]{min-height:100vh;width:100%}']}),n})(),mU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n,bootstrap:[gU]}),n.\u0275inj=l.cJS({providers:[LS,DO,a0],imports:[[yd,k2,sc(()=>PC(co_firebase)),yV(()=>Y2()),q2(()=>W2()),TV(()=>DV()),YV(()=>QV()),oU(()=>sU()),fU(()=>pU()),Zr.hO.initializeApp(co_firebase),vk,lL,SI,Ep,qI]]}),n})();(0,l.G48)(),_d().bootstrapModule(mU).catch(n=>console.error(n))},6148:(vt,De,P)=>{P.d(De,{IH:()=>On,Gb:()=>qt,Kz:()=>Te,Iv:()=>Z});var l=P(5861),L=P(9681),x=P(1877),re=P(2090),we=P(4859);P(2833);const fe="analytics",de="firebase_id",Y="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",oe="https://www.googletagmanager.com/gtag/js",Ue=new x.Yd("@firebase/analytics");function Re(he){return Promise.all(he.map(N=>N.catch(S=>S)))}function Ke(he,N){const S=document.createElement("script");S.src=`${oe}?l=${he}&id=${N}`,S.async=!0,document.head.appendChild(S)}function je(he,N,S,F,ie,Oe){return le.apply(this,arguments)}function le(){return(le=(0,l.Z)(function*(he,N,S,F,ie,Oe){const it=F[ie];try{if(it)yield N[it];else{const _t=(yield Re(S)).find(St=>St.measurementId===ie);_t&&(yield N[_t.appId])}}catch(ot){Ue.error(ot)}he("config",ie,Oe)})).apply(this,arguments)}function Ee(he,N,S,F,ie){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,l.Z)(function*(he,N,S,F,ie){try{let Oe=[];if(ie&&ie.send_to){let it=ie.send_to;Array.isArray(it)||(it=[it]);const ot=yield Re(S);for(const _t of it){const St=ot.find(_n=>_n.measurementId===_t),Gt=St&&N[St.appId];if(!Gt){Oe=[];break}Oe.push(Gt)}}0===Oe.length&&(Oe=Object.values(N)),yield Promise.all(Oe),he("event",F,ie||{})}catch(Oe){Ue.error(Oe)}})).apply(this,arguments)}function Ve(){const he=window.document.getElementsByTagName("script");for(const N of Object.values(he))if(N.src&&N.src.includes(oe))return N;return null}const ae=new re.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),U=new class R{constructor(N={},S=1e3){this.throttleMetadata=N,this.intervalMillis=S}getThrottleMetadata(N){return this.throttleMetadata[N]}setThrottleMetadata(N,S){this.throttleMetadata[N]=S}deleteThrottleMetadata(N){delete this.throttleMetadata[N]}};function G(he){return new Headers({Accept:"application/json","x-goog-api-key":he})}function te(he){return K.apply(this,arguments)}function K(){return(K=(0,l.Z)(function*(he){var N;const{appId:S,apiKey:F}=he,ie={method:"GET",headers:G(F)},Oe=Y.replace("{app-id}",S),it=yield fetch(Oe,ie);if(200!==it.status&&304!==it.status){let ot="";try{const _t=yield it.json();(null===(N=_t.error)||void 0===N?void 0:N.message)&&(ot=_t.error.message)}catch{}throw ae.create("config-fetch-failed",{httpStatus:it.status,responseMessage:ot})}return it.json()})).apply(this,arguments)}function _e(he){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,l.Z)(function*(he,N=U,S){const{appId:F,apiKey:ie,measurementId:Oe}=he.options;if(!F)throw ae.create("no-app-id");if(!ie){if(Oe)return{measurementId:Oe,appId:F};throw ae.create("no-api-key")}const it=N.getThrottleMetadata(F)||{backoffCount:0,throttleEndTimeMillis:Date.now()},ot=new Xt;return setTimeout((0,l.Z)(function*(){ot.abort()}),void 0!==S?S:6e4),At({appId:F,apiKey:ie,measurementId:Oe},it,ot,N)})).apply(this,arguments)}function At(he,N,S){return ct.apply(this,arguments)}function ct(){return(ct=(0,l.Z)(function*(he,{throttleEndTimeMillis:N,backoffCount:S},F,ie=U){var Oe,it;const{appId:ot,measurementId:_t}=he;try{yield Ye(F,N)}catch(St){if(_t)return Ue.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${_t} provided in the "measurementId" field in the local Firebase config. [${null===(Oe=St)||void 0===Oe?void 0:Oe.message}]`),{appId:ot,measurementId:_t};throw St}try{const St=yield te(he);return ie.deleteThrottleMetadata(ot),St}catch(St){const Gt=St;if(!pt(Gt)){if(ie.deleteThrottleMetadata(ot),_t)return Ue.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${_t} provided in the "measurementId" field in the local Firebase config. [${null==Gt?void 0:Gt.message}]`),{appId:ot,measurementId:_t};throw St}const _n=503===Number(null===(it=null==Gt?void 0:Gt.customData)||void 0===it?void 0:it.httpStatus)?(0,re.$s)(S,ie.intervalMillis,30):(0,re.$s)(S,ie.intervalMillis),ke={throttleEndTimeMillis:Date.now()+_n,backoffCount:S+1};return ie.setThrottleMetadata(ot,ke),Ue.debug(`Calling attemptFetch again in ${_n} millis`),At(he,ke,F,ie)}})).apply(this,arguments)}function Ye(he,N){return new Promise((S,F)=>{const ie=Math.max(N-Date.now(),0),Oe=setTimeout(S,ie);he.addEventListener(()=>{clearTimeout(Oe),F(ae.create("fetch-throttle",{throttleEndTimeMillis:N}))})})}function pt(he){if(!(he instanceof re.ZR&&he.customData))return!1;const N=Number(he.customData.httpStatus);return 429===N||500===N||503===N||504===N}class Xt{constructor(){this.listeners=[]}addEventListener(N){this.listeners.push(N)}abort(){this.listeners.forEach(N=>N())}}let an,Mn;function gt(){return(gt=(0,l.Z)(function*(he,N,S,F,ie){if(ie&&ie.global)he("event",S,F);else{const Oe=yield N;he("event",S,Object.assign(Object.assign({},F),{send_to:Oe}))}})).apply(this,arguments)}function ur(){return(ur=(0,l.Z)(function*(he,N,S,F){if(F&&F.global)return he("set",{user_id:S}),Promise.resolve();he("config",yield N,{update:!0,user_id:S})})).apply(this,arguments)}function cr(he){Mn=he}function st(he){an=he}function ne(){return Me.apply(this,arguments)}function Me(){return(Me=(0,l.Z)(function*(){var he;if(!(0,re.hl)())return Ue.warn(ae.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,re.eu)()}catch(N){return Ue.warn(ae.create("indexeddb-unavailable",{errorInfo:null===(he=N)||void 0===he?void 0:he.toString()}).message),!1}return!0})).apply(this,arguments)}function at(){return(at=(0,l.Z)(function*(he,N,S,F,ie,Oe,it){var ot;const _t=_e(he);_t.then(Ct=>{S[Ct.measurementId]=Ct.appId,he.options.measurementId&&Ct.measurementId!==he.options.measurementId&&Ue.warn(`The measurement ID in the local Firebase config (${he.options.measurementId}) does not match the measurement ID fetched from the server (${Ct.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ct=>Ue.error(Ct)),N.push(_t);const St=ne().then(Ct=>{if(Ct)return F.getId()}),[Gt,_n]=yield Promise.all([_t,St]);Ve()||Ke(Oe,Gt.measurementId),Mn&&(ie("consent","default",Mn),cr(void 0)),ie("js",new Date);const ke=null!==(ot=null==it?void 0:it.config)&&void 0!==ot?ot:{};return ke.origin="firebase",ke.update=!0,null!=_n&&(ke[de]=_n),ie("config",Gt.measurementId,ke),an&&(ie("set",an),st(void 0)),Gt.measurementId})).apply(this,arguments)}class Dt{constructor(N){this.app=N}_delete(){return delete Bt[this.app.options.appId],Promise.resolve()}}let Bt={},en=[];const Yt={};let Xe,rt,Cn="dataLayer",Fn=!1;function jt(he,N,S){!function Ln(){const he=[];if((0,re.ru)()&&he.push("This is a browser extension environment."),(0,re.zI)()||he.push("Cookies are not available."),he.length>0){const N=he.map((F,ie)=>`(${ie+1}) ${F}`).join(" "),S=ae.create("invalid-analytics-context",{errorInfo:N});Ue.warn(S.message)}}();const F=he.options.appId;if(!F)throw ae.create("no-app-id");if(!he.options.apiKey){if(!he.options.measurementId)throw ae.create("no-api-key");Ue.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${he.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Bt[F])throw ae.create("already-exists",{id:F});if(!Fn){!function Ge(he){let N=[];Array.isArray(window[he])?N=window[he]:window[he]=N}(Cn);const{wrappedGtag:Oe,gtagCore:it}=function ut(he,N,S,F,ie){let Oe=function(...it){window[F].push(arguments)};return window[ie]&&"function"==typeof window[ie]&&(Oe=window[ie]),window[ie]=function Fe(he,N,S,F){function Oe(){return(Oe=(0,l.Z)(function*(it,ot,_t){try{"event"===it?yield Ee(he,N,S,ot,_t):"config"===it?yield je(he,N,S,F,ot,_t):"consent"===it?he("consent","update",_t):he("set",ot)}catch(St){Ue.error(St)}})).apply(this,arguments)}return function ie(it,ot,_t){return Oe.apply(this,arguments)}}(Oe,he,N,S),{gtagCore:Oe,wrappedGtag:window[ie]}}(Bt,en,Yt,Cn,"gtag");rt=Oe,Xe=it,Fn=!0}return Bt[F]=function Je(he,N,S,F,ie,Oe,it){return at.apply(this,arguments)}(he,en,Yt,N,Xe,Cn,S),new Dt(he)}function On(he=(0,L.getApp)()){he=(0,re.m9)(he);const N=(0,L._getProvider)(he,fe);return N.isInitialized()?N.getImmediate():function pn(he,N={}){const S=(0,L._getProvider)(he,fe);if(S.isInitialized()){const ie=S.getImmediate();if((0,re.vZ)(N,S.getOptions()))return ie;throw ae.create("already-initialized")}return S.initialize({options:N})}(he)}function qt(){return xt.apply(this,arguments)}function xt(){return(xt=(0,l.Z)(function*(){if((0,re.ru)()||!(0,re.zI)()||!(0,re.hl)())return!1;try{return yield(0,re.eu)()}catch{return!1}})).apply(this,arguments)}function Z(he,N,S){he=(0,re.m9)(he),function Jn(he,N,S,F){return ur.apply(this,arguments)}(rt,Bt[he.app.options.appId],N,S).catch(F=>Ue.error(F))}function Te(he,N,S,F){he=(0,re.m9)(he),function zt(he,N,S,F,ie){return gt.apply(this,arguments)}(rt,Bt[he.app.options.appId],N,S,F).catch(ie=>Ue.error(ie))}const It="@firebase/analytics";!function un(){(0,L._registerComponent)(new we.wA(fe,(N,{options:S})=>jt(N.getProvider("app").getImmediate(),N.getProvider("installations-internal").getImmediate(),S),"PUBLIC")),(0,L._registerComponent)(new we.wA("analytics-internal",function he(N){try{const S=N.getProvider(fe).getImmediate();return{logEvent:(F,ie,Oe)=>Te(S,F,ie,Oe)}}catch(S){throw ae.create("interop-component-reg-failed",{reason:S})}},"PRIVATE")),(0,L.registerVersion)(It,"0.8.0"),(0,L.registerVersion)(It,"0.8.0","esm2017")}()},5867:(vt,De,P)=>{P.d(De,{C6:()=>l.getApps,KN:()=>l.registerVersion,Mq:()=>l.getApp,ZF:()=>l.initializeApp});var l=P(9681);(0,l.registerVersion)("firebase","9.10.0","app")},127:(vt,De,P)=>{P.d(De,{Z:()=>l.Z});var l=P(3942);l.Z.registerVersion("firebase","9.10.0","app-compat")},5881:(vt,De,P)=>{P.r(De);var l=P(5861),L=P(3942),x=P(7143),re=P(2090),fe=(P(9681),P(1877),P(4859));function de(){return window}function Y(){return(Y=(0,l.Z)(function*(N,S,F){var ie;const{BuildInfo:Oe}=de();(0,x.aq)(S.sessionId,"AuthEvent did not contain a session ID");const it=yield le(S.sessionId),ot={};return(0,x.ar)()?ot.ibi=Oe.packageName:(0,x.as)()?ot.apn=Oe.packageName:(0,x.at)(N,"operation-not-supported-in-this-environment"),Oe.displayName&&(ot.appDisplayName=Oe.displayName),ot.sessionId=it,(0,x.au)(N,F,S.type,void 0,null!==(ie=S.eventId)&&void 0!==ie?ie:void 0,ot)})).apply(this,arguments)}function Ue(){return(Ue=(0,l.Z)(function*(N){const{BuildInfo:S}=de(),F={};(0,x.ar)()?F.iosBundleId=S.packageName:(0,x.as)()?F.androidPackageName=S.packageName:(0,x.at)(N,"operation-not-supported-in-this-environment"),yield(0,x.av)(N,F)})).apply(this,arguments)}function Ge(){return(Ge=(0,l.Z)(function*(N,S,F){const{cordova:ie}=de();let Oe=()=>{};try{yield new Promise((it,ot)=>{let _t=null;function St(){var ke;it();const Ct=null===(ke=ie.plugins.browsertab)||void 0===ke?void 0:ke.close;"function"==typeof Ct&&Ct(),"function"==typeof(null==F?void 0:F.close)&&F.close()}function Gt(){_t||(_t=window.setTimeout(()=>{ot((0,x.aw)(N,"redirect-cancelled-by-user"))},2e3))}function _n(){"visible"===(null==document?void 0:document.visibilityState)&&Gt()}S.addPassiveListener(St),document.addEventListener("resume",Gt,!1),(0,x.as)()&&document.addEventListener("visibilitychange",_n,!1),Oe=()=>{S.removePassiveListener(St),document.removeEventListener("resume",Gt,!1),document.removeEventListener("visibilitychange",_n,!1),_t&&window.clearTimeout(_t)}})}finally{Oe()}})).apply(this,arguments)}function le(N){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,l.Z)(function*(N){const S=Ae(N),F=yield crypto.subtle.digest("SHA-256",S);return Array.from(new Uint8Array(F)).map(Oe=>Oe.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Ae(N){if((0,x.aq)(/[0-9a-zA-Z]+/.test(N),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(N);const S=new ArrayBuffer(N.length),F=new Uint8Array(S);for(let ie=0;ie<N.length;ie++)F[ie]=N.charCodeAt(ie);return F}class ut extends x.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(S=>{this.resolveInialized=S})}addPassiveListener(S){this.passiveListeners.add(S)}removePassiveListener(S){this.passiveListeners.delete(S)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(S){return this.resolveInialized(),this.passiveListeners.forEach(F=>F(S)),super.onEvent(S)}initialized(){var S=this;return(0,l.Z)(function*(){yield S.initPromise})()}}function ae(N){return ge.apply(this,arguments)}function ge(){return(ge=(0,l.Z)(function*(N){const S=yield U()._get(G(N));return S&&(yield U()._remove(G(N))),S})).apply(this,arguments)}function R(){const N=[],S="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let F=0;F<20;F++){const ie=Math.floor(Math.random()*S.length);N.push(S.charAt(ie))}return N.join("")}function U(){return(0,x.ay)(x.b)}function G(N){return(0,x.az)("authEvent",N.config.apiKey,N.name)}function _e(N){if(!(null==N?void 0:N.includes("?")))return{};const[S,...F]=N.split("?");return(0,re.zd)(F.join("?"))}function Ye(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,x.aw)("no-auth-event")}}function gt(){var N;return(null===(N=null==self?void 0:self.location)||void 0===N?void 0:N.protocol)||null}function fn(N=(0,re.z$)()){return!("file:"!==gt()&&"ionic:"!==gt()&&"capacitor:"!==gt()||!N.toLowerCase().match(/iphone|ipad|ipod|android/))}function lr(){try{const N=self.localStorage,S=x.aI();if(N)return N.setItem(S,"1"),N.removeItem(S),!function $n(N=(0,re.z$)()){return function ur(){return(0,re.w1)()&&11===(null==document?void 0:document.documentMode)}()||function vn(N=(0,re.z$)()){return/Edge\/\d+/.test(N)}(N)}()||(0,re.hl)()}catch{return xn()&&(0,re.hl)()}return!1}function xn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Mn(){return(function Kt(){return"http:"===gt()||"https:"===gt()}()||(0,re.ru)()||fn())&&!function Jn(){return(0,re.b$)()||(0,re.UG)()}()&&lr()&&!xn()}function cr(){return fn()&&typeof document<"u"}function ne(){return(ne=(0,l.Z)(function*(){return!!cr()&&new Promise(N=>{const S=setTimeout(()=>{N(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(S),N(!0)})})})).apply(this,arguments)}const Je={LOCAL:"local",NONE:"none",SESSION:"session"},at=x.ax,Dt="persistence";function en(N){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,l.Z)(function*(N){yield N._initializationPromise;const S=Ft(),F=x.az(Dt,N.config.apiKey,N.name);S&&S.setItem(F,N._getPersistence())})).apply(this,arguments)}function Ft(){var N;try{return(null===(N=function Me(){return typeof window<"u"?window:null}())||void 0===N?void 0:N.sessionStorage)||null}catch{return null}}const Xe=x.ax;class rt{constructor(){this.browserResolver=x.ay(x.k),this.cordovaResolver=x.ay(class At{constructor(){this._redirectPersistence=x.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=x.aB,this._overrideRedirectResult=x.aC}_initialize(S){var F=this;return(0,l.Z)(function*(){const ie=S._key();let Oe=F.eventManagers.get(ie);return Oe||(Oe=new ut(S),F.eventManagers.set(ie,Oe),F.attachCallbackListeners(S,Oe)),Oe})()}_openPopup(S){(0,x.at)(S,"operation-not-supported-in-this-environment")}_openRedirect(S,F,ie,Oe){var it=this;return(0,l.Z)(function*(){!function je(N){var S,F,ie,Oe,it,ot,_t,St,Gt,_n;const ke=de();(0,x.ax)("function"==typeof(null===(S=null==ke?void 0:ke.universalLinks)||void 0===S?void 0:S.subscribe),N,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,x.ax)(typeof(null===(F=null==ke?void 0:ke.BuildInfo)||void 0===F?void 0:F.packageName)<"u",N,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,x.ax)("function"==typeof(null===(it=null===(Oe=null===(ie=null==ke?void 0:ke.cordova)||void 0===ie?void 0:ie.plugins)||void 0===Oe?void 0:Oe.browsertab)||void 0===it?void 0:it.openUrl),N,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,x.ax)("function"==typeof(null===(St=null===(_t=null===(ot=null==ke?void 0:ke.cordova)||void 0===ot?void 0:ot.plugins)||void 0===_t?void 0:_t.browsertab)||void 0===St?void 0:St.isAvailable),N,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,x.ax)("function"==typeof(null===(_n=null===(Gt=null==ke?void 0:ke.cordova)||void 0===Gt?void 0:Gt.InAppBrowser)||void 0===_n?void 0:_n.open),N,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(S);const ot=yield it._initialize(S);yield ot.initialized(),ot.resetRedirect(),(0,x.aD)(),yield it._originValidation(S);const _t=function Ve(N,S,F=null){return{type:S,eventId:F,urlResponse:null,sessionId:R(),postBody:null,tenantId:N.tenantId,error:(0,x.aw)(N,"no-auth-event")}}(S,ie,Oe);yield function Ze(N,S){return U()._set(G(N),S)}(S,_t);const St=yield function q(N,S,F){return Y.apply(this,arguments)}(S,_t,F),Gt=yield function Re(N){const{cordova:S}=de();return new Promise(F=>{S.plugins.browsertab.isAvailable(ie=>{let Oe=null;ie?S.plugins.browsertab.openUrl(N):Oe=S.InAppBrowser.open(N,(0,x.ap)()?"_blank":"_system","location=yes"),F(Oe)})})}(St);return function Ke(N,S,F){return Ge.apply(this,arguments)}(S,ot,Gt)})()}_isIframeWebStorageSupported(S,F){throw new Error("Method not implemented.")}_originValidation(S){const F=S._key();return this.originValidationPromises[F]||(this.originValidationPromises[F]=function oe(N){return Ue.apply(this,arguments)}(S)),this.originValidationPromises[F]}attachCallbackListeners(S,F){const{universalLinks:ie,handleOpenURL:Oe,BuildInfo:it}=de(),ot=setTimeout((0,l.Z)(function*(){yield ae(S),F.onEvent(Ye())}),500),_t=function(){var _n=(0,l.Z)(function*(ke){clearTimeout(ot);const Ct=yield ae(S);let gn=null;Ct&&(null==ke?void 0:ke.url)&&(gn=function Q(N,S){var F,ie;const Oe=function K(N){const S=_e(N),F=S.link?decodeURIComponent(S.link):void 0,ie=_e(F).link,Oe=S.deep_link_id?decodeURIComponent(S.deep_link_id):void 0;return _e(Oe).link||Oe||ie||F||N}(S);if(Oe.includes("/__/auth/callback")){const it=_e(Oe),ot=it.firebaseError?function te(N){try{return JSON.parse(N)}catch{return null}}(decodeURIComponent(it.firebaseError)):null,_t=null===(ie=null===(F=null==ot?void 0:ot.code)||void 0===F?void 0:F.split("auth/"))||void 0===ie?void 0:ie[1],St=_t?(0,x.aw)(_t):null;return St?{type:N.type,eventId:N.eventId,tenantId:N.tenantId,error:St,urlResponse:null,sessionId:null,postBody:null}:{type:N.type,eventId:N.eventId,tenantId:N.tenantId,sessionId:N.sessionId,urlResponse:Oe,postBody:null}}return null}(Ct,ke.url)),F.onEvent(gn||Ye())});return function(Ct){return _n.apply(this,arguments)}}();typeof ie<"u"&&"function"==typeof ie.subscribe&&ie.subscribe(null,_t);const St=Oe,Gt=`${it.packageName.toLowerCase()}://`;de().handleOpenURL=function(){var _n=(0,l.Z)(function*(ke){if(ke.toLowerCase().startsWith(Gt)&&_t({url:ke}),"function"==typeof St)try{St(ke)}catch(Ct){console.error(Ct)}});return function(ke){return _n.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=x.a,this._completeRedirectFn=x.aB,this._overrideRedirectResult=x.aC}_initialize(S){var F=this;return(0,l.Z)(function*(){return yield F.selectUnderlyingResolver(),F.assertedUnderlyingResolver._initialize(S)})()}_openPopup(S,F,ie,Oe){var it=this;return(0,l.Z)(function*(){return yield it.selectUnderlyingResolver(),it.assertedUnderlyingResolver._openPopup(S,F,ie,Oe)})()}_openRedirect(S,F,ie,Oe){var it=this;return(0,l.Z)(function*(){return yield it.selectUnderlyingResolver(),it.assertedUnderlyingResolver._openRedirect(S,F,ie,Oe)})()}_isIframeWebStorageSupported(S,F){this.assertedUnderlyingResolver._isIframeWebStorageSupported(S,F)}_originValidation(S){return this.assertedUnderlyingResolver._originValidation(S)}get _shouldInitProactively(){return cr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Xe(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var S=this;return(0,l.Z)(function*(){if(S.underlyingResolver)return;const F=yield function st(){return ne.apply(this,arguments)}();S.underlyingResolver=F?S.cordovaResolver:S.browserResolver})()}}function Fn(N){return N.unwrap()}function Ln(N){return On(N)}function On(N){const{_tokenResponse:S}=N instanceof re.ZR?N.customData:N;if(!S)return null;if(!(N instanceof re.ZR)&&"temporaryProof"in S&&"phoneNumber"in S)return x.P.credentialFromResult(N);const F=S.providerId;if(!F||F===x.o.PASSWORD)return null;let ie;switch(F){case x.o.GOOGLE:ie=x.Q;break;case x.o.FACEBOOK:ie=x.N;break;case x.o.GITHUB:ie=x.T;break;case x.o.TWITTER:ie=x.W;break;default:const{oauthIdToken:Oe,oauthAccessToken:it,oauthTokenSecret:ot,pendingToken:_t,nonce:St}=S;return it||ot||Oe||_t?_t?F.startsWith("saml.")?x.aL._create(F,_t):x.J._fromParams({providerId:F,signInMethod:F,pendingToken:_t,idToken:Oe,accessToken:it}):new x.U(F).credential({idToken:Oe,accessToken:it,rawNonce:St}):null}return N instanceof re.ZR?ie.credentialFromError(N):ie.credentialFromResult(N)}function pn(N,S){return S.catch(F=>{throw F instanceof re.ZR&&function jt(N,S){var F,ie;const Oe=null===(F=S.customData)||void 0===F?void 0:F._tokenResponse;if("auth/multi-factor-auth-required"===(null===(ie=S)||void 0===ie?void 0:ie.code))S.resolver=new H(N,x.an(N,S));else if(Oe){const it=On(S),ot=S;it&&(ot.credential=it,ot.tenantId=Oe.tenantId||void 0,ot.email=Oe.email||void 0,ot.phoneNumber=Oe.phoneNumber||void 0)}}(N,F),F}).then(F=>{const Oe=F.user;return{operationType:F.operationType,credential:Ln(F),additionalUserInfo:x.al(F),user:Z.getOrCreate(Oe)}})}function qt(N,S){return xt.apply(this,arguments)}function xt(){return(xt=(0,l.Z)(function*(N,S){const F=yield S;return{verificationId:F.verificationId,confirm:ie=>pn(N,F.confirm(ie))}})).apply(this,arguments)}class H{constructor(S,F){this.resolver=F,this.auth=function dr(N){return N.wrapped()}(S)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(S){return pn(Fn(this.auth),this.resolver.resolveSignIn(S))}}class Z{constructor(S){this._delegate=S,this.multiFactor=x.ao(S)}static getOrCreate(S){return Z.USER_MAP.has(S)||Z.USER_MAP.set(S,new Z(S)),Z.USER_MAP.get(S)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(S){return this._delegate.getIdTokenResult(S)}getIdToken(S){return this._delegate.getIdToken(S)}linkAndRetrieveDataWithCredential(S){return this.linkWithCredential(S)}linkWithCredential(S){var F=this;return(0,l.Z)(function*(){return pn(F.auth,x.Z(F._delegate,S))})()}linkWithPhoneNumber(S,F){var ie=this;return(0,l.Z)(function*(){return qt(ie.auth,x.l(ie._delegate,S,F))})()}linkWithPopup(S){var F=this;return(0,l.Z)(function*(){return pn(F.auth,x.d(F._delegate,S,rt))})()}linkWithRedirect(S){var F=this;return(0,l.Z)(function*(){return yield en(x.aE(F.auth)),x.g(F._delegate,S,rt)})()}reauthenticateAndRetrieveDataWithCredential(S){return this.reauthenticateWithCredential(S)}reauthenticateWithCredential(S){var F=this;return(0,l.Z)(function*(){return pn(F.auth,x._(F._delegate,S))})()}reauthenticateWithPhoneNumber(S,F){return qt(this.auth,x.r(this._delegate,S,F))}reauthenticateWithPopup(S){return pn(this.auth,x.e(this._delegate,S,rt))}reauthenticateWithRedirect(S){var F=this;return(0,l.Z)(function*(){return yield en(x.aE(F.auth)),x.h(F._delegate,S,rt)})()}sendEmailVerification(S){return x.ab(this._delegate,S)}unlink(S){var F=this;return(0,l.Z)(function*(){return yield x.ak(F._delegate,S),F})()}updateEmail(S){return x.ag(this._delegate,S)}updatePassword(S){return x.ah(this._delegate,S)}updatePhoneNumber(S){return x.u(this._delegate,S)}updateProfile(S){return x.af(this._delegate,S)}verifyBeforeUpdateEmail(S,F){return x.ac(this._delegate,S,F)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Z.USER_MAP=new WeakMap;const $=x.ax;let J=(()=>{class N{constructor(F,ie){if(this.app=F,ie.isInitialized())return this._delegate=ie.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Oe}=F.options;$(Oe,"invalid-api-key",{appName:F.name}),$(Oe,"invalid-api-key",{appName:F.name});const it=typeof window<"u"?rt:void 0;this._delegate=ie.initialize({options:{persistence:Te(Oe,F.name),popupRedirectResolver:it}}),this._delegate._updateErrorMap(x.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Z.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(F){this._delegate.languageCode=F}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(F){this._delegate.tenantId=F}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(F,ie){x.G(this._delegate,F,ie)}applyActionCode(F){return x.a2(this._delegate,F)}checkActionCode(F){return x.a3(this._delegate,F)}confirmPasswordReset(F,ie){return x.a1(this._delegate,F,ie)}createUserWithEmailAndPassword(F,ie){var Oe=this;return(0,l.Z)(function*(){return pn(Oe._delegate,x.a5(Oe._delegate,F,ie))})()}fetchProvidersForEmail(F){return this.fetchSignInMethodsForEmail(F)}fetchSignInMethodsForEmail(F){return x.aa(this._delegate,F)}isSignInWithEmailLink(F){return x.a8(this._delegate,F)}getRedirectResult(){var F=this;return(0,l.Z)(function*(){$(Mn(),F._delegate,"operation-not-supported-in-this-environment");const ie=yield x.j(F._delegate,rt);return ie?pn(F._delegate,Promise.resolve(ie)):{credential:null,user:null}})()}addFrameworkForLogging(F){!function pt(N,S){(0,x.aE)(N)._logFramework(S)}(this._delegate,F)}onAuthStateChanged(F,ie,Oe){const{next:it,error:ot,complete:_t}=W(F,ie,Oe);return this._delegate.onAuthStateChanged(it,ot,_t)}onIdTokenChanged(F,ie,Oe){const{next:it,error:ot,complete:_t}=W(F,ie,Oe);return this._delegate.onIdTokenChanged(it,ot,_t)}sendSignInLinkToEmail(F,ie){return x.a7(this._delegate,F,ie)}sendPasswordResetEmail(F,ie){return x.a0(this._delegate,F,ie||void 0)}setPersistence(F){var ie=this;return(0,l.Z)(function*(){let Oe;switch(function Bt(N,S){at(Object.values(Je).includes(S),N,"invalid-persistence-type"),(0,re.b$)()?at(S!==Je.SESSION,N,"unsupported-persistence-type"):(0,re.UG)()?at(S===Je.NONE,N,"unsupported-persistence-type"):xn()?at(S===Je.NONE||S===Je.LOCAL&&(0,re.hl)(),N,"unsupported-persistence-type"):at(S===Je.NONE||lr(),N,"unsupported-persistence-type")}(ie._delegate,F),F){case Je.SESSION:Oe=x.a;break;case Je.LOCAL:Oe=(yield x.ay(x.i)._isAvailable())?x.i:x.b;break;case Je.NONE:Oe=x.L;break;default:return x.at("argument-error",{appName:ie._delegate.name})}return ie._delegate.setPersistence(Oe)})()}signInAndRetrieveDataWithCredential(F){return this.signInWithCredential(F)}signInAnonymously(){return pn(this._delegate,x.X(this._delegate))}signInWithCredential(F){return pn(this._delegate,x.Y(this._delegate,F))}signInWithCustomToken(F){return pn(this._delegate,x.$(this._delegate,F))}signInWithEmailAndPassword(F,ie){return pn(this._delegate,x.a6(this._delegate,F,ie))}signInWithEmailLink(F,ie){return pn(this._delegate,x.a9(this._delegate,F,ie))}signInWithPhoneNumber(F,ie){return qt(this._delegate,x.s(this._delegate,F,ie))}signInWithPopup(F){var ie=this;return(0,l.Z)(function*(){return $(Mn(),ie._delegate,"operation-not-supported-in-this-environment"),pn(ie._delegate,x.c(ie._delegate,F,rt))})()}signInWithRedirect(F){var ie=this;return(0,l.Z)(function*(){return $(Mn(),ie._delegate,"operation-not-supported-in-this-environment"),yield en(ie._delegate),x.f(ie._delegate,F,rt)})()}updateCurrentUser(F){return this._delegate.updateCurrentUser(F)}verifyPasswordResetCode(F){return x.a4(this._delegate,F)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return N.Persistence=Je,N})();function W(N,S,F){let ie=N;"function"!=typeof N&&({next:ie,error:S,complete:F}=N);const Oe=ie;return{next:ot=>Oe(ot&&Z.getOrCreate(ot)),error:S,complete:F}}function Te(N,S){const F=function Cn(N,S){const F=Ft();if(!F)return[];const ie=x.az(Dt,N,S);switch(F.getItem(ie)){case Je.NONE:return[x.L];case Je.LOCAL:return[x.i,x.a];case Je.SESSION:return[x.a];default:return[]}}(N,S);if(typeof self<"u"&&!F.includes(x.i)&&F.push(x.i),typeof window<"u")for(const ie of[x.b,x.a])F.includes(ie)||F.push(ie);return F.includes(x.L)||F.push(x.L),F}class et{constructor(){this.providerId="phone",this._delegate=new x.P(Fn(L.Z.auth()))}static credential(S,F){return x.P.credential(S,F)}verifyPhoneNumber(S,F){return this._delegate.verifyPhoneNumber(S,F)}unwrap(){return this._delegate}}et.PHONE_SIGN_IN_METHOD=x.P.PHONE_SIGN_IN_METHOD,et.PROVIDER_ID=x.P.PROVIDER_ID;const It=x.ax;class sn{constructor(S,F,ie=L.Z.app()){var Oe;It(null===(Oe=ie.options)||void 0===Oe?void 0:Oe.apiKey,"invalid-api-key",{appName:ie.name}),this._delegate=new x.R(S,F,ie.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function he(N){N.INTERNAL.registerComponent(new fe.wA("auth-compat",S=>{const F=S.getProvider("app-compat").getImmediate(),ie=S.getProvider("auth");return new J(F,ie)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:x.A.EMAIL_SIGNIN,PASSWORD_RESET:x.A.PASSWORD_RESET,RECOVER_EMAIL:x.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:x.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:x.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:x.A.VERIFY_EMAIL}},EmailAuthProvider:x.M,FacebookAuthProvider:x.N,GithubAuthProvider:x.T,GoogleAuthProvider:x.Q,OAuthProvider:x.U,SAMLAuthProvider:x.V,PhoneAuthProvider:et,PhoneMultiFactorGenerator:x.m,RecaptchaVerifier:sn,TwitterAuthProvider:x.W,Auth:J,AuthCredential:x.H,Error:re.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),N.registerVersion("@firebase/auth-compat","0.2.20")}(L.Z)},3226:(vt,De,P)=>{P.d(De,{sN:()=>Ee,Gb:()=>Mn});var l=P(5861),L=P(9681),x=P(2090),re=P(4859),we=P(1877);P(2833);const fe="@firebase/remote-config",q="remote-config",oe=new x.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});function Ee(st=(0,L.getApp)()){return st=(0,x.m9)(st),(0,L._getProvider)(st,q).getImmediate()}class K{constructor(ne,Me,Je,at){this.client=ne,this.storage=Me,this.storageCache=Je,this.logger=at}isCachedDataFresh(ne,Me){if(!Me)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Je=Date.now()-Me,at=Je<=ne;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Je}. Cache max age millis (minimumFetchIntervalMillis setting): ${ne}. Is cache hit: ${at}.`),at}fetch(ne){var Me=this;return(0,l.Z)(function*(){const[Je,at]=yield Promise.all([Me.storage.getLastSuccessfulFetchTimestampMillis(),Me.storage.getLastSuccessfulFetchResponse()]);if(at&&Me.isCachedDataFresh(ne.cacheMaxAgeMillis,Je))return at;ne.eTag=at&&at.eTag;const Dt=yield Me.client.fetch(ne),Bt=[Me.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Dt.status&&Bt.push(Me.storage.setLastSuccessfulFetchResponse(Dt)),yield Promise.all(Bt),Dt})()}}function _e(st=navigator){return st.languages&&st.languages[0]||st.language}class Qe{constructor(ne,Me,Je,at,Dt,Bt){this.firebaseInstallations=ne,this.sdkVersion=Me,this.namespace=Je,this.projectId=at,this.apiKey=Dt,this.appId=Bt}fetch(ne){var Me=this;return(0,l.Z)(function*(){var Je,at,Dt;const[Bt,en]=yield Promise.all([Me.firebaseInstallations.getId(),Me.firebaseInstallations.getToken()]),Cn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${Me.projectId}/namespaces/${Me.namespace}:fetch?key=${Me.apiKey}`,Ft={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":ne.eTag||"*"},Xe={sdk_version:Me.sdkVersion,app_instance_id:Bt,app_instance_id_token:en,app_id:Me.appId,language_code:_e()},rt={method:"POST",headers:Ft,body:JSON.stringify(Xe)},Fn=fetch(Cn,rt),dr=new Promise((xt,H)=>{ne.signal.addEventListener(()=>{const Z=new Error("The operation was aborted.");Z.name="AbortError",H(Z)})});let Ln;try{yield Promise.race([Fn,dr]),Ln=yield Fn}catch(xt){let H="fetch-client-network";throw"AbortError"===(null===(Je=xt)||void 0===Je?void 0:Je.name)&&(H="fetch-timeout"),oe.create(H,{originalErrorMessage:null===(at=xt)||void 0===at?void 0:at.message})}let jt=Ln.status;const On=Ln.headers.get("ETag")||void 0;let pn,qt;if(200===Ln.status){let xt;try{xt=yield Ln.json()}catch(H){throw oe.create("fetch-client-parse",{originalErrorMessage:null===(Dt=H)||void 0===Dt?void 0:Dt.message})}pn=xt.entries,qt=xt.state}if("INSTANCE_STATE_UNSPECIFIED"===qt?jt=500:"NO_CHANGE"===qt?jt=304:("NO_TEMPLATE"===qt||"EMPTY_CONFIG"===qt)&&(pn={}),304!==jt&&200!==jt)throw oe.create("fetch-status",{httpStatus:jt});return{status:jt,eTag:On,config:pn}})()}}class Ye{constructor(ne,Me){this.client=ne,this.storage=Me}fetch(ne){var Me=this;return(0,l.Z)(function*(){const Je=(yield Me.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return Me.attemptFetch(ne,Je)})()}attemptFetch(ne,{throttleEndTimeMillis:Me,backoffCount:Je}){var at=this;return(0,l.Z)(function*(){yield function At(st,ne){return new Promise((Me,Je)=>{const at=Math.max(ne-Date.now(),0),Dt=setTimeout(Me,at);st.addEventListener(()=>{clearTimeout(Dt),Je(oe.create("fetch-throttle",{throttleEndTimeMillis:ne}))})})}(ne.signal,Me);try{const Dt=yield at.client.fetch(ne);return yield at.storage.deleteThrottleMetadata(),Dt}catch(Dt){if(!function ct(st){if(!(st instanceof x.ZR&&st.customData))return!1;const ne=Number(st.customData.httpStatus);return 429===ne||500===ne||503===ne||504===ne}(Dt))throw Dt;const Bt={throttleEndTimeMillis:Date.now()+(0,x.$s)(Je),backoffCount:Je+1};return yield at.storage.setThrottleMetadata(Bt),at.attemptFetch(ne,Bt)}})()}}class an{constructor(ne,Me,Je,at,Dt){this.app=ne,this._client=Me,this._storageCache=Je,this._storage=at,this._logger=Dt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function zt(st,ne){var Me;const Je=st.target.error||void 0;return oe.create(ne,{originalErrorMessage:Je&&(null===(Me=Je)||void 0===Me?void 0:Me.message)})}const gt="app_namespace_store";class ur{constructor(ne,Me,Je,at=function Jn(){return new Promise((st,ne)=>{var Me;try{const Je=indexedDB.open("firebase_remote_config",1);Je.onerror=at=>{ne(zt(at,"storage-open"))},Je.onsuccess=at=>{st(at.target.result)},Je.onupgradeneeded=at=>{0===at.oldVersion&&at.target.result.createObjectStore(gt,{keyPath:"compositeKey"})}}catch(Je){ne(oe.create("storage-open",{originalErrorMessage:null===(Me=Je)||void 0===Me?void 0:Me.message}))}})}()){this.appId=ne,this.appName=Me,this.namespace=Je,this.openDbPromise=at}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(ne){return this.set("last_fetch_status",ne)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(ne){return this.set("last_successful_fetch_timestamp_millis",ne)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(ne){return this.set("last_successful_fetch_response",ne)}getActiveConfig(){return this.get("active_config")}setActiveConfig(ne){return this.set("active_config",ne)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(ne){return this.set("active_config_etag",ne)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(ne){return this.set("throttle_metadata",ne)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(ne){var Me=this;return(0,l.Z)(function*(){const Je=yield Me.openDbPromise;return new Promise((at,Dt)=>{var Bt;const Yt=Je.transaction([gt],"readonly").objectStore(gt),Cn=Me.createCompositeKey(ne);try{const Ft=Yt.get(Cn);Ft.onerror=Xe=>{Dt(zt(Xe,"storage-get"))},Ft.onsuccess=Xe=>{const rt=Xe.target.result;at(rt?rt.value:void 0)}}catch(Ft){Dt(oe.create("storage-get",{originalErrorMessage:null===(Bt=Ft)||void 0===Bt?void 0:Bt.message}))}})})()}set(ne,Me){var Je=this;return(0,l.Z)(function*(){const at=yield Je.openDbPromise;return new Promise((Dt,Bt)=>{var en;const Cn=at.transaction([gt],"readwrite").objectStore(gt),Ft=Je.createCompositeKey(ne);try{const Xe=Cn.put({compositeKey:Ft,value:Me});Xe.onerror=rt=>{Bt(zt(rt,"storage-set"))},Xe.onsuccess=()=>{Dt()}}catch(Xe){Bt(oe.create("storage-set",{originalErrorMessage:null===(en=Xe)||void 0===en?void 0:en.message}))}})})()}delete(ne){var Me=this;return(0,l.Z)(function*(){const Je=yield Me.openDbPromise;return new Promise((at,Dt)=>{var Bt;const Yt=Je.transaction([gt],"readwrite").objectStore(gt),Cn=Me.createCompositeKey(ne);try{const Ft=Yt.delete(Cn);Ft.onerror=Xe=>{Dt(zt(Xe,"storage-delete"))},Ft.onsuccess=()=>{at()}}catch(Ft){Dt(oe.create("storage-delete",{originalErrorMessage:null===(Bt=Ft)||void 0===Bt?void 0:Bt.message}))}})})()}createCompositeKey(ne){return[this.appId,this.appName,this.namespace,ne].join()}}class vn{constructor(ne){this.storage=ne}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var ne=this;return(0,l.Z)(function*(){const Me=ne.storage.getLastFetchStatus(),Je=ne.storage.getLastSuccessfulFetchTimestampMillis(),at=ne.storage.getActiveConfig(),Dt=yield Me;Dt&&(ne.lastFetchStatus=Dt);const Bt=yield Je;Bt&&(ne.lastSuccessfulFetchTimestampMillis=Bt);const en=yield at;en&&(ne.activeConfig=en)})()}setLastFetchStatus(ne){return this.lastFetchStatus=ne,this.storage.setLastFetchStatus(ne)}setLastSuccessfulFetchTimestampMillis(ne){return this.lastSuccessfulFetchTimestampMillis=ne,this.storage.setLastSuccessfulFetchTimestampMillis(ne)}setActiveConfig(ne){return this.activeConfig=ne,this.storage.setActiveConfig(ne)}}function Mn(){return cr.apply(this,arguments)}function cr(){return(cr=(0,l.Z)(function*(){if(!(0,x.hl)())return!1;try{return yield(0,x.eu)()}catch{return!1}})).apply(this,arguments)}!function $n(){(0,L._registerComponent)(new re.wA(q,function st(ne,{instanceIdentifier:Me}){const Je=ne.getProvider("app").getImmediate(),at=ne.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw oe.create("registration-window");if(!(0,x.hl)())throw oe.create("indexed-db-unavailable");const{projectId:Dt,apiKey:Bt,appId:en}=Je.options;if(!Dt)throw oe.create("registration-project-id");if(!Bt)throw oe.create("registration-api-key");if(!en)throw oe.create("registration-app-id");const Yt=new ur(en,Je.name,Me=Me||"firebase"),Cn=new vn(Yt),Ft=new we.Yd(fe);Ft.logLevel=we.in.ERROR;const Xe=new Qe(at,L.SDK_VERSION,Me,Dt,Bt,en),rt=new Ye(Xe,Yt),Fn=new K(rt,Yt,Cn,Ft),dr=new an(Je,Fn,Cn,Yt,Ft);return function ut(st){const ne=(0,x.m9)(st);ne._initializePromise||(ne._initializePromise=ne._storageCache.loadFromStorage().then(()=>{ne._isInitializationComplete=!0}))}(dr),dr},"PUBLIC").setMultipleInstances(!0)),(0,L.registerVersion)(fe,"0.3.11"),(0,L.registerVersion)(fe,"0.3.11","esm2017")}()},8306:(vt,De,P)=>{P.d(De,{y:()=>q});var l=P(930),L=P(727),x=P(8822),re=P(4671);var fe=P(2416),de=P(576),me=P(2806);let q=(()=>{class Re{constructor(Ge){Ge&&(this._subscribe=Ge)}lift(Ge){const je=new Re;return je.source=this,je.operator=Ge,je}subscribe(Ge,je,le){const Ee=function Ue(Re){return Re&&Re instanceof l.Lv||function oe(Re){return Re&&(0,de.m)(Re.next)&&(0,de.m)(Re.error)&&(0,de.m)(Re.complete)}(Re)&&(0,L.Nn)(Re)}(Ge)?Ge:new l.Hp(Ge,je,le);return(0,me.x)(()=>{const{operator:Ae,source:Fe}=this;Ee.add(Ae?Ae.call(Ee,Fe):Fe?this._subscribe(Ee):this._trySubscribe(Ee))}),Ee}_trySubscribe(Ge){try{return this._subscribe(Ge)}catch(je){Ge.error(je)}}forEach(Ge,je){return new(je=Y(je))((le,Ee)=>{let Ae;Ae=this.subscribe(Fe=>{try{Ge(Fe)}catch(ut){Ee(ut),null==Ae||Ae.unsubscribe()}},Ee,le)})}_subscribe(Ge){var je;return null===(je=this.source)||void 0===je?void 0:je.subscribe(Ge)}[x.L](){return this}pipe(...Ge){return function be(Re){return 0===Re.length?re.y:1===Re.length?Re[0]:function(Ge){return Re.reduce((je,le)=>le(je),Ge)}}(Ge)(this)}toPromise(Ge){return new(Ge=Y(Ge))((je,le)=>{let Ee;this.subscribe(Ae=>Ee=Ae,Ae=>le(Ae),()=>je(Ee))})}}return Re.create=Ke=>new Re(Ke),Re})();function Y(Re){var Ke;return null!==(Ke=Re??fe.v.Promise)&&void 0!==Ke?Ke:Promise}},7579:(vt,De,P)=>{P.d(De,{x:()=>fe});var l=P(8306),L=P(727);const re=(0,P(3888).d)(me=>function(){me(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var we=P(8737),be=P(2806);let fe=(()=>{class me extends l.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Y){const oe=new de(this,this);return oe.operator=Y,oe}_throwIfClosed(){if(this.closed)throw new re}next(Y){(0,be.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const oe=this.observers.slice();for(const Ue of oe)Ue.next(Y)}})}error(Y){(0,be.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Y;const{observers:oe}=this;for(;oe.length;)oe.shift().error(Y)}})}complete(){(0,be.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Y}=this;for(;Y.length;)Y.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var Y;return(null===(Y=this.observers)||void 0===Y?void 0:Y.length)>0}_trySubscribe(Y){return this._throwIfClosed(),super._trySubscribe(Y)}_subscribe(Y){return this._throwIfClosed(),this._checkFinalizedStatuses(Y),this._innerSubscribe(Y)}_innerSubscribe(Y){const{hasError:oe,isStopped:Ue,observers:Re}=this;return oe||Ue?L.Lc:(Re.push(Y),new L.w0(()=>(0,we.P)(Re,Y)))}_checkFinalizedStatuses(Y){const{hasError:oe,thrownError:Ue,isStopped:Re}=this;oe?Y.error(Ue):Re&&Y.complete()}asObservable(){const Y=new l.y;return Y.source=this,Y}}return me.create=(q,Y)=>new de(q,Y),me})();class de extends fe{constructor(q,Y){super(),this.destination=q,this.source=Y}next(q){var Y,oe;null===(oe=null===(Y=this.destination)||void 0===Y?void 0:Y.next)||void 0===oe||oe.call(Y,q)}error(q){var Y,oe;null===(oe=null===(Y=this.destination)||void 0===Y?void 0:Y.error)||void 0===oe||oe.call(Y,q)}complete(){var q,Y;null===(Y=null===(q=this.destination)||void 0===q?void 0:q.complete)||void 0===Y||Y.call(q)}_subscribe(q){var Y,oe;return null!==(oe=null===(Y=this.source)||void 0===Y?void 0:Y.subscribe(q))&&void 0!==oe?oe:L.Lc}}},930:(vt,De,P)=>{P.d(De,{Hp:()=>Ue,Lv:()=>oe});var l=P(576),L=P(727),x=P(2416),re=P(7849),we=P(5032);const be=me("C",void 0,void 0);function me(le,Ee,Ae){return{kind:le,value:Ee,error:Ae}}var q=P(3410),Y=P(2806);class oe extends L.w0{constructor(Ee){super(),this.isStopped=!1,Ee?(this.destination=Ee,(0,L.Nn)(Ee)&&Ee.add(this)):this.destination=je}static create(Ee,Ae,Fe){return new Ue(Ee,Ae,Fe)}next(Ee){this.isStopped?Ge(function de(le){return me("N",le,void 0)}(Ee),this):this._next(Ee)}error(Ee){this.isStopped?Ge(function fe(le){return me("E",void 0,le)}(Ee),this):(this.isStopped=!0,this._error(Ee))}complete(){this.isStopped?Ge(be,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ee){this.destination.next(Ee)}_error(Ee){try{this.destination.error(Ee)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class Ue extends oe{constructor(Ee,Ae,Fe){let ut;if(super(),(0,l.m)(Ee))ut=Ee;else if(Ee){let Ve;({next:ut,error:Ae,complete:Fe}=Ee),this&&x.v.useDeprecatedNextContext?(Ve=Object.create(Ee),Ve.unsubscribe=()=>this.unsubscribe()):Ve=Ee,ut=null==ut?void 0:ut.bind(Ve),Ae=null==Ae?void 0:Ae.bind(Ve),Fe=null==Fe?void 0:Fe.bind(Ve)}this.destination={next:ut?Re(ut):we.Z,error:Re(Ae??Ke),complete:Fe?Re(Fe):we.Z}}}function Re(le,Ee){return(...Ae)=>{try{le(...Ae)}catch(Fe){x.v.useDeprecatedSynchronousErrorHandling?(0,Y.O)(Fe):(0,re.h)(Fe)}}}function Ke(le){throw le}function Ge(le,Ee){const{onStoppedNotification:Ae}=x.v;Ae&&q.z.setTimeout(()=>Ae(le,Ee))}const je={closed:!0,next:we.Z,error:Ke,complete:we.Z}},727:(vt,De,P)=>{P.d(De,{Lc:()=>be,w0:()=>we,Nn:()=>fe});var l=P(576);const x=(0,P(3888).d)(me=>function(Y){me(this),this.message=Y?`${Y.length} errors occurred during unsubscription:\n${Y.map((oe,Ue)=>`${Ue+1}) ${oe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Y});var re=P(8737);class we{constructor(q){this.initialTeardown=q,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let q;if(!this.closed){this.closed=!0;const{_parentage:Y}=this;if(Y)if(this._parentage=null,Array.isArray(Y))for(const Re of Y)Re.remove(this);else Y.remove(this);const{initialTeardown:oe}=this;if((0,l.m)(oe))try{oe()}catch(Re){q=Re instanceof x?Re.errors:[Re]}const{_teardowns:Ue}=this;if(Ue){this._teardowns=null;for(const Re of Ue)try{de(Re)}catch(Ke){q=q??[],Ke instanceof x?q=[...q,...Ke.errors]:q.push(Ke)}}if(q)throw new x(q)}}add(q){var Y;if(q&&q!==this)if(this.closed)de(q);else{if(q instanceof we){if(q.closed||q._hasParent(this))return;q._addParent(this)}(this._teardowns=null!==(Y=this._teardowns)&&void 0!==Y?Y:[]).push(q)}}_hasParent(q){const{_parentage:Y}=this;return Y===q||Array.isArray(Y)&&Y.includes(q)}_addParent(q){const{_parentage:Y}=this;this._parentage=Array.isArray(Y)?(Y.push(q),Y):Y?[Y,q]:q}_removeParent(q){const{_parentage:Y}=this;Y===q?this._parentage=null:Array.isArray(Y)&&(0,re.P)(Y,q)}remove(q){const{_teardowns:Y}=this;Y&&(0,re.P)(Y,q),q instanceof we&&q._removeParent(this)}}we.EMPTY=(()=>{const me=new we;return me.closed=!0,me})();const be=we.EMPTY;function fe(me){return me instanceof we||me&&"closed"in me&&(0,l.m)(me.remove)&&(0,l.m)(me.add)&&(0,l.m)(me.unsubscribe)}function de(me){(0,l.m)(me)?me():me.unsubscribe()}},2416:(vt,De,P)=>{P.d(De,{v:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(vt,De,P)=>{P.d(De,{E:()=>L});const L=new(P(8306).y)(we=>we.complete())},8996:(vt,De,P)=>{P.d(De,{D:()=>ut});var l=P(8421),L=P(5363),x=P(9468),be=P(8306),de=P(2202),me=P(576),q=P(9672);function oe(Ve,Ze){if(!Ve)throw new Error("Iterable cannot be null");return new be.y(ae=>{(0,q.f)(ae,Ze,()=>{const ge=Ve[Symbol.asyncIterator]();(0,q.f)(ae,Ze,()=>{ge.next().then(Q=>{Q.done?ae.complete():ae.next(Q.value)})},0,!0)})})}var Ue=P(3670),Re=P(8239),Ke=P(1144),Ge=P(6495),je=P(2206),le=P(4532),Ee=P(3260);function ut(Ve,Ze){return Ze?function Fe(Ve,Ze){if(null!=Ve){if((0,Ue.c)(Ve))return function re(Ve,Ze){return(0,l.Xf)(Ve).pipe((0,x.R)(Ze),(0,L.Q)(Ze))}(Ve,Ze);if((0,Ke.z)(Ve))return function fe(Ve,Ze){return new be.y(ae=>{let ge=0;return Ze.schedule(function(){ge===Ve.length?ae.complete():(ae.next(Ve[ge++]),ae.closed||this.schedule())})})}(Ve,Ze);if((0,Re.t)(Ve))return function we(Ve,Ze){return(0,l.Xf)(Ve).pipe((0,x.R)(Ze),(0,L.Q)(Ze))}(Ve,Ze);if((0,je.D)(Ve))return oe(Ve,Ze);if((0,Ge.T)(Ve))return function Y(Ve,Ze){return new be.y(ae=>{let ge;return(0,q.f)(ae,Ze,()=>{ge=Ve[de.h](),(0,q.f)(ae,Ze,()=>{let Q,R;try{({value:Q,done:R}=ge.next())}catch(U){return void ae.error(U)}R?ae.complete():ae.next(Q)},0,!0)}),()=>(0,me.m)(null==ge?void 0:ge.return)&&ge.return()})}(Ve,Ze);if((0,Ee.L)(Ve))return function Ae(Ve,Ze){return oe((0,Ee.Q)(Ve),Ze)}(Ve,Ze)}throw(0,le.z)(Ve)}(Ve,Ze):(0,l.Xf)(Ve)}},8421:(vt,De,P)=>{P.d(De,{Xf:()=>Ue});var l=P(5987),L=P(1144),x=P(8239),re=P(8306),we=P(3670),be=P(2206),fe=P(4532),de=P(6495),me=P(3260),q=P(576),Y=P(7849),oe=P(8822);function Ue(Fe){if(Fe instanceof re.y)return Fe;if(null!=Fe){if((0,we.c)(Fe))return function Re(Fe){return new re.y(ut=>{const Ve=Fe[oe.L]();if((0,q.m)(Ve.subscribe))return Ve.subscribe(ut);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Fe);if((0,L.z)(Fe))return function Ke(Fe){return new re.y(ut=>{for(let Ve=0;Ve<Fe.length&&!ut.closed;Ve++)ut.next(Fe[Ve]);ut.complete()})}(Fe);if((0,x.t)(Fe))return function Ge(Fe){return new re.y(ut=>{Fe.then(Ve=>{ut.closed||(ut.next(Ve),ut.complete())},Ve=>ut.error(Ve)).then(null,Y.h)})}(Fe);if((0,be.D)(Fe))return le(Fe);if((0,de.T)(Fe))return function je(Fe){return new re.y(ut=>{for(const Ve of Fe)if(ut.next(Ve),ut.closed)return;ut.complete()})}(Fe);if((0,me.L)(Fe))return function Ee(Fe){return le((0,me.Q)(Fe))}(Fe)}throw(0,fe.z)(Fe)}function le(Fe){return new re.y(ut=>{(function Ae(Fe,ut){var Ve,Ze,ae,ge;return(0,l.mG)(this,void 0,void 0,function*(){try{for(Ve=(0,l.KL)(Fe);!(Ze=yield Ve.next()).done;)if(ut.next(Ze.value),ut.closed)return}catch(Q){ae={error:Q}}finally{try{Ze&&!Ze.done&&(ge=Ve.return)&&(yield ge.call(Ve))}finally{if(ae)throw ae.error}}ut.complete()})})(Fe,ut).catch(Ve=>ut.error(Ve))})}},6451:(vt,De,P)=>{P.d(De,{T:()=>be});var l=P(8189),L=P(8421),x=P(515),re=P(3269),we=P(8996);function be(...fe){const de=(0,re.yG)(fe),me=(0,re._6)(fe,1/0),q=fe;return q.length?1===q.length?(0,L.Xf)(q[0]):(0,l.J)(me)((0,we.D)(q,de)):x.E}},5403:(vt,De,P)=>{P.d(De,{Q:()=>L});var l=P(930);class L extends l.Lv{constructor(re,we,be,fe,de){super(re),this.onFinalize=de,this._next=we?function(me){try{we(me)}catch(q){re.error(q)}}:super._next,this._error=fe?function(me){try{fe(me)}catch(q){re.error(q)}finally{this.unsubscribe()}}:super._error,this._complete=be?function(){try{be()}catch(me){re.error(me)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var re;const{closed:we}=this;super.unsubscribe(),!we&&(null===(re=this.onFinalize)||void 0===re||re.call(this))}}},4004:(vt,De,P)=>{P.d(De,{U:()=>x});var l=P(4482),L=P(5403);function x(re,we){return(0,l.e)((be,fe)=>{let de=0;be.subscribe(new L.Q(fe,me=>{fe.next(re.call(we,me,de++))}))})}},8189:(vt,De,P)=>{P.d(De,{J:()=>x});var l=P(5577),L=P(4671);function x(re=1/0){return(0,l.z)(L.y,re)}},5577:(vt,De,P)=>{P.d(De,{z:()=>de});var l=P(4004),L=P(8421),x=P(4482),re=P(9672),we=P(5403),fe=P(576);function de(me,q,Y=1/0){return(0,fe.m)(q)?de((oe,Ue)=>(0,l.U)((Re,Ke)=>q(oe,Re,Ue,Ke))((0,L.Xf)(me(oe,Ue))),Y):("number"==typeof q&&(Y=q),(0,x.e)((oe,Ue)=>function be(me,q,Y,oe,Ue,Re,Ke,Ge){const je=[];let le=0,Ee=0,Ae=!1;const Fe=()=>{Ae&&!je.length&&!le&&q.complete()},ut=Ze=>le<oe?Ve(Ze):je.push(Ze),Ve=Ze=>{Re&&q.next(Ze),le++;let ae=!1;(0,L.Xf)(Y(Ze,Ee++)).subscribe(new we.Q(q,ge=>{null==Ue||Ue(ge),Re?ut(ge):q.next(ge)},()=>{ae=!0},void 0,()=>{if(ae)try{for(le--;je.length&&le<oe;){const ge=je.shift();Ke?(0,re.f)(q,Ke,()=>Ve(ge)):Ve(ge)}Fe()}catch(ge){q.error(ge)}}))};return me.subscribe(new we.Q(q,ut,()=>{Ae=!0,Fe()})),()=>{null==Ge||Ge()}}(oe,Ue,me,Y)))}},5363:(vt,De,P)=>{P.d(De,{Q:()=>re});var l=P(9672),L=P(4482),x=P(5403);function re(we,be=0){return(0,L.e)((fe,de)=>{fe.subscribe(new x.Q(de,me=>(0,l.f)(de,we,()=>de.next(me),be),()=>(0,l.f)(de,we,()=>de.complete(),be),me=>(0,l.f)(de,we,()=>de.error(me),be)))})}},3099:(vt,De,P)=>{P.d(De,{B:()=>be});var l=P(8996),L=P(5698),x=P(7579),re=P(930),we=P(4482);function be(de={}){const{connector:me=(()=>new x.x),resetOnError:q=!0,resetOnComplete:Y=!0,resetOnRefCountZero:oe=!0}=de;return Ue=>{let Re=null,Ke=null,Ge=null,je=0,le=!1,Ee=!1;const Ae=()=>{null==Ke||Ke.unsubscribe(),Ke=null},Fe=()=>{Ae(),Re=Ge=null,le=Ee=!1},ut=()=>{const Ve=Re;Fe(),null==Ve||Ve.unsubscribe()};return(0,we.e)((Ve,Ze)=>{je++,!Ee&&!le&&Ae();const ae=Ge=Ge??me();Ze.add(()=>{je--,0===je&&!Ee&&!le&&(Ke=fe(ut,oe))}),ae.subscribe(Ze),Re||(Re=new re.Hp({next:ge=>ae.next(ge),error:ge=>{Ee=!0,Ae(),Ke=fe(Fe,q,ge),ae.error(ge)},complete:()=>{le=!0,Ae(),Ke=fe(Fe,Y),ae.complete()}}),(0,l.D)(Ve).subscribe(Re))})(Ue)}}function fe(de,me,...q){return!0===me?(de(),null):!1===me?null:me(...q).pipe((0,L.q)(1)).subscribe(()=>de())}},9468:(vt,De,P)=>{P.d(De,{R:()=>L});var l=P(4482);function L(x,re=0){return(0,l.e)((we,be)=>{be.add(x.schedule(()=>we.subscribe(be),re))})}},5698:(vt,De,P)=>{P.d(De,{q:()=>re});var l=P(515),L=P(4482),x=P(5403);function re(we){return we<=0?()=>l.E:(0,L.e)((be,fe)=>{let de=0;be.subscribe(new x.Q(fe,me=>{++de<=we&&(fe.next(me),we<=de&&fe.complete())}))})}},8505:(vt,De,P)=>{P.d(De,{b:()=>we});var l=P(576),L=P(4482),x=P(5403),re=P(4671);function we(be,fe,de){const me=(0,l.m)(be)||fe||de?{next:be,error:fe,complete:de}:be;return me?(0,L.e)((q,Y)=>{var oe;null===(oe=me.subscribe)||void 0===oe||oe.call(me);let Ue=!0;q.subscribe(new x.Q(Y,Re=>{var Ke;null===(Ke=me.next)||void 0===Ke||Ke.call(me,Re),Y.next(Re)},()=>{var Re;Ue=!1,null===(Re=me.complete)||void 0===Re||Re.call(me),Y.complete()},Re=>{var Ke;Ue=!1,null===(Ke=me.error)||void 0===Ke||Ke.call(me,Re),Y.error(Re)},()=>{var Re,Ke;Ue&&(null===(Re=me.unsubscribe)||void 0===Re||Re.call(me)),null===(Ke=me.finalize)||void 0===Ke||Ke.call(me)}))}):re.y}},4408:(vt,De,P)=>{P.d(De,{o:()=>we});var l=P(727);class L extends l.w0{constructor(fe,de){super()}schedule(fe,de=0){return this}}const x={setInterval(...be){const{delegate:fe}=x;return((null==fe?void 0:fe.setInterval)||setInterval)(...be)},clearInterval(be){const{delegate:fe}=x;return((null==fe?void 0:fe.clearInterval)||clearInterval)(be)},delegate:void 0};var re=P(8737);class we extends L{constructor(fe,de){super(fe,de),this.scheduler=fe,this.work=de,this.pending=!1}schedule(fe,de=0){if(this.closed)return this;this.state=fe;const me=this.id,q=this.scheduler;return null!=me&&(this.id=this.recycleAsyncId(q,me,de)),this.pending=!0,this.delay=de,this.id=this.id||this.requestAsyncId(q,this.id,de),this}requestAsyncId(fe,de,me=0){return x.setInterval(fe.flush.bind(fe,this),me)}recycleAsyncId(fe,de,me=0){if(null!=me&&this.delay===me&&!1===this.pending)return de;x.clearInterval(de)}execute(fe,de){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const me=this._execute(fe,de);if(me)return me;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(fe,de){let q,me=!1;try{this.work(fe)}catch(Y){me=!0,q=Y||new Error("Scheduled action threw falsy error")}if(me)return this.unsubscribe(),q}unsubscribe(){if(!this.closed){const{id:fe,scheduler:de}=this,{actions:me}=de;this.work=this.state=this.scheduler=null,this.pending=!1,(0,re.P)(me,this),null!=fe&&(this.id=this.recycleAsyncId(de,fe,null)),this.delay=null,super.unsubscribe()}}}},7565:(vt,De,P)=>{P.d(De,{v:()=>x});var l=P(6063);class L{constructor(we,be=L.now){this.schedulerActionCtor=we,this.now=be}schedule(we,be=0,fe){return new this.schedulerActionCtor(this,we).schedule(fe,be)}}L.now=l.l.now;class x extends L{constructor(we,be=L.now){super(we,be),this.actions=[],this._active=!1,this._scheduled=void 0}flush(we){const{actions:be}=this;if(this._active)return void be.push(we);let fe;this._active=!0;do{if(fe=we.execute(we.state,we.delay))break}while(we=be.shift());if(this._active=!1,fe){for(;we=be.shift();)we.unsubscribe();throw fe}}}},4986:(vt,De,P)=>{P.d(De,{P:()=>re,z:()=>x});var l=P(4408);const x=new(P(7565).v)(l.o),re=x},6063:(vt,De,P)=>{P.d(De,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},3410:(vt,De,P)=>{P.d(De,{z:()=>l});const l={setTimeout(...L){const{delegate:x}=l;return((null==x?void 0:x.setTimeout)||setTimeout)(...L)},clearTimeout(L){const{delegate:x}=l;return((null==x?void 0:x.clearTimeout)||clearTimeout)(L)},delegate:void 0}},2202:(vt,De,P)=>{P.d(De,{h:()=>L});const L=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(vt,De,P)=>{P.d(De,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(vt,De,P)=>{P.d(De,{_6:()=>be,jO:()=>re,yG:()=>we});var l=P(576),L=P(3532);function x(fe){return fe[fe.length-1]}function re(fe){return(0,l.m)(x(fe))?fe.pop():void 0}function we(fe){return(0,L.K)(x(fe))?fe.pop():void 0}function be(fe,de){return"number"==typeof x(fe)?fe.pop():de}},8737:(vt,De,P)=>{function l(L,x){if(L){const re=L.indexOf(x);0<=re&&L.splice(re,1)}}P.d(De,{P:()=>l})},3888:(vt,De,P)=>{function l(L){const re=L(we=>{Error.call(we),we.stack=(new Error).stack});return re.prototype=Object.create(Error.prototype),re.prototype.constructor=re,re}P.d(De,{d:()=>l})},2806:(vt,De,P)=>{P.d(De,{O:()=>re,x:()=>x});var l=P(2416);let L=null;function x(we){if(l.v.useDeprecatedSynchronousErrorHandling){const be=!L;if(be&&(L={errorThrown:!1,error:null}),we(),be){const{errorThrown:fe,error:de}=L;if(L=null,fe)throw de}}else we()}function re(we){l.v.useDeprecatedSynchronousErrorHandling&&L&&(L.errorThrown=!0,L.error=we)}},9672:(vt,De,P)=>{function l(L,x,re,we=0,be=!1){const fe=x.schedule(function(){re(),be?L.add(this.schedule(null,we)):this.unsubscribe()},we);if(L.add(fe),!be)return fe}P.d(De,{f:()=>l})},4671:(vt,De,P)=>{function l(L){return L}P.d(De,{y:()=>l})},1144:(vt,De,P)=>{P.d(De,{z:()=>l});const l=L=>L&&"number"==typeof L.length&&"function"!=typeof L},2206:(vt,De,P)=>{P.d(De,{D:()=>L});var l=P(576);function L(x){return Symbol.asyncIterator&&(0,l.m)(null==x?void 0:x[Symbol.asyncIterator])}},576:(vt,De,P)=>{function l(L){return"function"==typeof L}P.d(De,{m:()=>l})},3670:(vt,De,P)=>{P.d(De,{c:()=>x});var l=P(8822),L=P(576);function x(re){return(0,L.m)(re[l.L])}},6495:(vt,De,P)=>{P.d(De,{T:()=>x});var l=P(2202),L=P(576);function x(re){return(0,L.m)(null==re?void 0:re[l.h])}},8239:(vt,De,P)=>{P.d(De,{t:()=>L});var l=P(576);function L(x){return(0,l.m)(null==x?void 0:x.then)}},3260:(vt,De,P)=>{P.d(De,{L:()=>re,Q:()=>x});var l=P(5987),L=P(576);function x(we){return(0,l.FC)(this,arguments,function*(){const fe=we.getReader();try{for(;;){const{value:de,done:me}=yield(0,l.qq)(fe.read());if(me)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(de)}}finally{fe.releaseLock()}})}function re(we){return(0,L.m)(null==we?void 0:we.getReader)}},3532:(vt,De,P)=>{P.d(De,{K:()=>L});var l=P(576);function L(x){return x&&(0,l.m)(x.schedule)}},4482:(vt,De,P)=>{P.d(De,{A:()=>L,e:()=>x});var l=P(576);function L(re){return(0,l.m)(null==re?void 0:re.lift)}function x(re){return we=>{if(L(we))return we.lift(function(be){try{return re(be,this)}catch(fe){this.error(fe)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(vt,De,P)=>{function l(){}P.d(De,{Z:()=>l})},7849:(vt,De,P)=>{P.d(De,{h:()=>x});var l=P(2416),L=P(3410);function x(re){L.z.setTimeout(()=>{const{onUnhandledError:we}=l.v;if(!we)throw re;we(re)})}},4532:(vt,De,P)=>{function l(L){return new TypeError(`You provided ${null!==L&&"object"==typeof L?"an invalid object":`'${L}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(De,{z:()=>l})},5987:(vt,De,P)=>{function de(Q,R,U,G){return new(U||(U=Promise))(function(K,_e){function Qe(Ye){try{ct(G.next(Ye))}catch(pt){_e(pt)}}function At(Ye){try{ct(G.throw(Ye))}catch(pt){_e(pt)}}function ct(Ye){Ye.done?K(Ye.value):function te(K){return K instanceof U?K:new U(function(_e){_e(K)})}(Ye.value).then(Qe,At)}ct((G=G.apply(Q,R||[])).next())})}function je(Q){return this instanceof je?(this.v=Q,this):new je(Q)}function le(Q,R,U){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var te,G=U.apply(Q,R||[]),K=[];return te={},_e("next"),_e("throw"),_e("return"),te[Symbol.asyncIterator]=function(){return this},te;function _e(Xt){G[Xt]&&(te[Xt]=function(an){return new Promise(function(zt,gt){K.push([Xt,an,zt,gt])>1||Qe(Xt,an)})})}function Qe(Xt,an){try{!function At(Xt){Xt.value instanceof je?Promise.resolve(Xt.value.v).then(ct,Ye):pt(K[0][2],Xt)}(G[Xt](an))}catch(zt){pt(K[0][3],zt)}}function ct(Xt){Qe("next",Xt)}function Ye(Xt){Qe("throw",Xt)}function pt(Xt,an){Xt(an),K.shift(),K.length&&Qe(K[0][0],K[0][1])}}function Ae(Q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var U,R=Q[Symbol.asyncIterator];return R?R.call(Q):(Q=function oe(Q){var R="function"==typeof Symbol&&Symbol.iterator,U=R&&Q[R],G=0;if(U)return U.call(Q);if(Q&&"number"==typeof Q.length)return{next:function(){return Q&&G>=Q.length&&(Q=void 0),{value:Q&&Q[G++],done:!Q}}};throw new TypeError(R?"Object is not iterable.":"Symbol.iterator is not defined.")}(Q),U={},G("next"),G("throw"),G("return"),U[Symbol.asyncIterator]=function(){return this},U);function G(K){U[K]=Q[K]&&function(_e){return new Promise(function(Qe,At){!function te(K,_e,Qe,At){Promise.resolve(At).then(function(ct){K({value:ct,done:Qe})},_e)}(Qe,At,(_e=Q[K](_e)).done,_e.value)})}}}P.d(De,{FC:()=>le,KL:()=>Ae,mG:()=>de,qq:()=>je})},655:(vt,De,P)=>{function re(R,U){var G={};for(var te in R)Object.prototype.hasOwnProperty.call(R,te)&&U.indexOf(te)<0&&(G[te]=R[te]);if(null!=R&&"function"==typeof Object.getOwnPropertySymbols){var K=0;for(te=Object.getOwnPropertySymbols(R);K<te.length;K++)U.indexOf(te[K])<0&&Object.prototype.propertyIsEnumerable.call(R,te[K])&&(G[te[K]]=R[te[K]])}return G}function de(R,U,G,te){return new(G||(G=Promise))(function(_e,Qe){function At(pt){try{Ye(te.next(pt))}catch(Xt){Qe(Xt)}}function ct(pt){try{Ye(te.throw(pt))}catch(Xt){Qe(Xt)}}function Ye(pt){pt.done?_e(pt.value):function K(_e){return _e instanceof G?_e:new G(function(Qe){Qe(_e)})}(pt.value).then(At,ct)}Ye((te=te.apply(R,U||[])).next())})}P.d(De,{_T:()=>re,mG:()=>de})},4650:(vt,De,P)=>{P.d(De,{$8M:()=>Ds,$Z:()=>Pp,AFp:()=>za,ALo:()=>ev,AaK:()=>de,AsE:()=>Ro,CHM:()=>Cs,CRH:()=>Hr,CZH:()=>Gn,CqO:()=>ZC,EJc:()=>Vh,EiD:()=>Ll,EpF:()=>zC,F4k:()=>qC,FYo:()=>jy,FiY:()=>Mi,G48:()=>xw,Gf:()=>ye,GfV:()=>zb,Gpc:()=>Y,JOm:()=>ns,JVY:()=>Au,L6k:()=>xu,LAX:()=>Ud,LFG:()=>Rt,LSH:()=>Yf,Lbi:()=>qs,MGl:()=>Sp,N_p:()=>bc,NdJ:()=>Q_,OlP:()=>Zn,Oqu:()=>kp,PXZ:()=>Mw,Q6J:()=>Z_,QGY:()=>Y_,Qsj:()=>Ic,QtT:()=>Bb,R0b:()=>Fi,RDi:()=>_l,Rgc:()=>ii,SBq:()=>go,SDv:()=>wc,Sil:()=>wg,Suo:()=>$e,TTD:()=>au,TgZ:()=>hc,VKq:()=>Ky,VLi:()=>uD,X6Q:()=>Ws,XFs:()=>ne,Xpm:()=>It,Y36:()=>dc,YKP:()=>Mc,YNc:()=>AC,Yjl:()=>it,Yz7:()=>gt,ZZ4:()=>Zh,Zx4:()=>$b,_Bn:()=>Dh,_UZ:()=>Ap,_Vd:()=>Oh,_c5:()=>Bw,_uU:()=>TT,aQg:()=>Ks,c2e:()=>gv,cJS:()=>fn,cg1:()=>yy,dDg:()=>Yr,deG:()=>Dl,dqk:()=>jt,eBb:()=>Hf,eFA:()=>Qr,ekj:()=>ib,g9A:()=>bw,h0i:()=>cs,hGG:()=>gs,hij:()=>Fp,iGM:()=>dt,ifc:()=>Xe,ip1:()=>hs,kL8:()=>vy,lG2:()=>Oe,lcZ:()=>lg,mCW:()=>Fs,n5z:()=>Rf,oAB:()=>S,oxw:()=>lh,pB0:()=>Mm,pQV:()=>Th,q3G:()=>Yn,q4F:()=>Gy,qLn:()=>Hd,qOj:()=>Mp,qZA:()=>uh,qzn:()=>Ea,s9C:()=>ey,sBO:()=>wv,sIi:()=>Fa,s_b:()=>fg,soG:()=>Vo,tBr:()=>ao,tHW:()=>Xp,tb:()=>Lc,tp0:()=>uo,uIk:()=>ho,uOi:()=>Vl,vHH:()=>Ke,vpe:()=>Lo,wAp:()=>Ut,xi3:()=>nv,xp6:()=>r_,yhl:()=>ks,z2F:()=>Gh,z3N:()=>Eo,zSh:()=>gC,zs3:()=>$r});var l=P(7579),L=P(727),x=P(8306),re=P(6451),we=P(3099);function be(o){for(let s in o)if(o[s]===be)return s;throw Error("Could not find renamed property on target object.")}function fe(o,s){for(const a in s)s.hasOwnProperty(a)&&!o.hasOwnProperty(a)&&(o[a]=s[a])}function de(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(de).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const s=o.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function me(o,s){return null==o||""===o?null===s?"":s:null==s||""===s?o:o+" "+s}const q=be({__forward_ref__:be});function Y(o){return o.__forward_ref__=Y,o.toString=function(){return de(this())},o}function oe(o){return Ue(o)?o():o}function Ue(o){return"function"==typeof o&&o.hasOwnProperty(q)&&o.__forward_ref__===Y}class Ke extends Error{constructor(s,a){super(function je(o,s){return`${o?`NG0${o}: `:""}${s}`}(s,a)),this.code=s}}function le(o){return"string"==typeof o?o:null==o?"":String(o)}function Ee(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():le(o)}function Ve(o,s){const a=s?` in ${s}`:"";throw new Ke("201",`No provider for ${Ee(o)} found${a}`)}function pt(o,s,a,c){throw new Error(`ASSERTION ERROR: ${o}`+(null==c?"":` [Expected=> ${a} ${c} ${s} <=Actual]`))}function gt(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function fn(o){return{providers:o.providers||[],imports:o.imports||[]}}function Jn(o){return ur(o,xn)||ur(o,cr)}function ur(o,s){return o.hasOwnProperty(s)?o[s]:null}function lr(o){return o&&(o.hasOwnProperty(Mn)||o.hasOwnProperty(st))?o[Mn]:null}const xn=be({\u0275prov:be}),Mn=be({\u0275inj:be}),cr=be({ngInjectableDef:be}),st=be({ngInjectorDef:be});var ne=(()=>((ne=ne||{})[ne.Default=0]="Default",ne[ne.Host=1]="Host",ne[ne.Self=2]="Self",ne[ne.SkipSelf=4]="SkipSelf",ne[ne.Optional=8]="Optional",ne))();let Me;function at(o){const s=Me;return Me=o,s}function Dt(o,s,a){const c=Jn(o);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:a&ne.Optional?null:void 0!==s?s:void Ve(de(o),"Injector")}function en(o){return{toString:o}.toString()}var Yt=(()=>((Yt=Yt||{})[Yt.OnPush=0]="OnPush",Yt[Yt.Default=1]="Default",Yt))(),Xe=(()=>{return(o=Xe||(Xe={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",Xe;var o})();const rt=typeof globalThis<"u"&&globalThis,Fn=typeof window<"u"&&window,dr=typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self,jt=rt||typeof global<"u"&&global||Fn||dr,qt={},xt=[],H=be({\u0275cmp:be}),Z=be({\u0275dir:be}),$=be({\u0275pipe:be}),J=be({\u0275mod:be}),W=be({\u0275fac:be}),Te=be({__NG_ELEMENT_ID__:be});let et=0;function It(o){return en(()=>{const a={},c={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===Yt.OnPush,directiveDefs:null,pipeDefs:null,selectors:o.selectors||xt,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||Xe.Emulated,id:"c",styles:o.styles||xt,_:null,setInput:null,schemas:o.schemas||null,tView:null},h=o.directives,f=o.features,_=o.pipes;return c.id+=et++,c.inputs=ie(o.inputs,a),c.outputs=ie(o.outputs),f&&f.forEach(C=>C(c)),c.directiveDefs=h?()=>("function"==typeof h?h():h).map(un):null,c.pipeDefs=_?()=>("function"==typeof _?_():_).map(he):null,c})}function un(o){return ot(o)||function _t(o){return o[Z]||null}(o)}function he(o){return function St(o){return o[$]||null}(o)}const N={};function S(o){return en(()=>{const s={type:o.type,bootstrap:o.bootstrap||xt,declarations:o.declarations||xt,imports:o.imports||xt,exports:o.exports||xt,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null};return null!=o.id&&(N[o.id]=o.type),s})}function ie(o,s){if(null==o)return qt;const a={};for(const c in o)if(o.hasOwnProperty(c)){let h=o[c],f=h;Array.isArray(h)&&(f=h[1],h=h[0]),a[h]=c,s&&(s[h]=f)}return a}const Oe=It;function it(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,onDestroy:o.type.prototype.ngOnDestroy||null}}function ot(o){return o[H]||null}function Gt(o,s){const a=o[J]||null;if(!a&&!0===s)throw new Error(`Type ${de(o)} does not have '\u0275mod' property.`);return a}function ai(o){return Array.isArray(o)&&"object"==typeof o[1]}function Ar(o){return Array.isArray(o)&&!0===o[1]}function ys(o){return 0!=(8&o.flags)}function vs(o){return 2==(2&o.flags)}function Bo(o){return 1==(1&o.flags)}function br(o){return null!==o.template}function ou(o){return 0!=(512&o[2])}function xi(o,s){return o.hasOwnProperty(W)?o[W]:null}class od{constructor(s,a,c){this.previousValue=s,this.currentValue=a,this.firstChange=c}isFirstChange(){return this.firstChange}}function au(){return mf}function mf(o){return o.type.prototype.ngOnChanges&&(o.setInput=Js),c0}function c0(){const o=uu(this),s=o?.current;if(s){const a=o.previous;if(a===qt)o.previous=s;else for(let c in s)a[c]=s[c];o.current=null,this.ngOnChanges(s)}}function Js(o,s,a,c){const h=uu(o)||function om(o,s){return o[sd]=s}(o,{previous:qt,current:null}),f=h.current||(h.current={}),_=h.previous,C=this.declaredInputs[a],E=_[C];f[C]=new od(E&&E.currentValue,s,_===qt),o[c]=s}au.ngInherit=!0;const sd="__ngSimpleChanges__";function uu(o){return o[sd]||null}let ml;function _l(o){ml=o}function yl(){return void 0!==ml?ml:typeof document<"u"?document:void 0}function tr(o){return!!o.listen}const ad={createRenderer:(o,s)=>yl()};function nr(o){for(;Array.isArray(o);)o=o[0];return o}function lu(o,s){return nr(s[o])}function Ur(o,s){return nr(s[o.index])}function ta(o,s){return o.data[s]}function Co(o,s){return o[s]}function Xr(o,s){const a=s[o];return ai(a)?a:a[0]}function cu(o){return 4==(4&o[2])}function du(o){return 128==(128&o[2])}function wi(o,s){return null==s?null:o[s]}function ud(o){o[18]=0}function na(o,s){o[5]+=s;let a=o,c=o[3];for(;null!==c&&(1===s&&1===a[5]||-1===s&&0===a[5]);)c[5]+=s,a=c,c=c[3]}const Vt={lFrame:sa(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function cd(){return Vt.bindingsEnabled}function Be(){return Vt.lFrame.lView}function yn(){return Vt.lFrame.tView}function Cs(o){return Vt.lFrame.contextLView=o,o[8]}function fr(){let o=hd();for(;null!==o&&64===o.type;)o=o.parent;return o}function hd(){return Vt.lFrame.currentTNode}function bs(){const o=Vt.lFrame,s=o.currentTNode;return o.isParent?s:s.parent}function ui(o,s){const a=Vt.lFrame;a.currentTNode=o,a.isParent=s}function fd(){return Vt.lFrame.isParent}function oa(){return Vt.isInCheckNoChangesMode}function gu(o){Vt.isInCheckNoChangesMode=o}function ei(){const o=Vt.lFrame;let s=o.bindingRootIndex;return-1===s&&(s=o.bindingRootIndex=o.tView.bindingStartIndex),s}function zi(){return Vt.lFrame.bindingIndex}function Go(){return Vt.lFrame.bindingIndex++}function bo(o){const s=Vt.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+o,a}function bf(o){Vt.lFrame.inI18n=o}function md(o,s){const a=Vt.lFrame;a.bindingIndex=a.bindingRootIndex=o,mu(s)}function mu(o){Vt.lFrame.currentDirectiveIndex=o}function Cl(){return Vt.lFrame.currentQueryIndex}function yd(o){Vt.lFrame.currentQueryIndex=o}function wf(o){const s=o[1];return 2===s.type?s.declTNode:1===s.type?o[6]:null}function Ef(o,s,a){if(a&ne.SkipSelf){let h=s,f=o;for(;!(h=h.parent,null!==h||a&ne.Host||(h=wf(f),null===h||(f=f[15],10&h.type))););if(null===h)return!1;s=h,o=f}const c=Vt.lFrame=Cd();return c.currentTNode=s,c.lView=o,!0}function vd(o){const s=Cd(),a=o[1];Vt.lFrame=s,s.currentTNode=a.firstChild,s.lView=o,s.tView=a,s.contextLView=o,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function Cd(){const o=Vt.lFrame,s=null===o?null:o.child;return null===s?sa(o):s}function sa(o){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=s),s}function If(){const o=Vt.lFrame;return Vt.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const ws=If;function bl(){const o=If();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function rr(){return Vt.lFrame.selectedIndex}function Ho(o){Vt.lFrame.selectedIndex=o}function ir(){const o=Vt.lFrame;return ta(o.tView,o.selectedIndex)}function Mf(o,s){for(let a=s.directiveStart,c=s.directiveEnd;a<c;a++){const f=o.data[a].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:C,ngAfterViewInit:E,ngAfterViewChecked:I,ngOnDestroy:M}=f;_&&(o.contentHooks||(o.contentHooks=[])).push(-a,_),C&&((o.contentHooks||(o.contentHooks=[])).push(a,C),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(a,C)),E&&(o.viewHooks||(o.viewHooks=[])).push(-a,E),I&&((o.viewHooks||(o.viewHooks=[])).push(a,I),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(a,I)),null!=M&&(o.destroyHooks||(o.destroyHooks=[])).push(a,M)}}function bd(o,s,a){wd(o,s,3,a)}function _u(o,s,a,c){(3&o[2])===a&&wd(o,s,a,c)}function zo(o,s){let a=o[2];(3&a)===s&&(a&=2047,a+=1,o[2]=a)}function wd(o,s,a,c){const f=c??-1,_=s.length-1;let C=0;for(let E=void 0!==c?65535&o[18]:0;E<_;E++)if("number"==typeof s[E+1]){if(C=s[E],null!=c&&C>=c)break}else s[E]<0&&(o[18]+=65536),(C<f||-1==f)&&(dm(o,a,s,E),o[18]=(4294901760&o[18])+E+2),E++}function dm(o,s,a,c){const h=a[c]<0,f=a[c+1],C=o[h?-a[c]:a[c]];if(h){if(o[2]>>11<o[18]>>16&&(3&o[2])===s){o[2]+=2048;try{f.call(C)}finally{}}}else try{f.call(C)}finally{}}class wl{constructor(s,a,c){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=c}}function Pn(o,s,a){const c=tr(o);let h=0;for(;h<a.length;){const f=a[h];if("number"==typeof f){if(0!==f)break;h++;const _=a[h++],C=a[h++],E=a[h++];c?o.setAttribute(s,C,E,_):s.setAttributeNS(_,C,E)}else{const _=f,C=a[++h];Mt(_)?c&&o.setProperty(s,_,C):c?o.setAttribute(s,_,C):s.setAttribute(_,C),h++}}return h}function la(o){return 3===o||4===o||6===o}function Mt(o){return 64===o.charCodeAt(0)}function qi(o,s){if(null!==s&&0!==s.length)if(null===o||0===o.length)o=s.slice();else{let a=-1;for(let c=0;c<s.length;c++){const h=s[c];"number"==typeof h?a=h:0===a||li(o,a,h,null,-1===a||2===a?s[++c]:null)}}return o}function li(o,s,a,c,h){let f=0,_=o.length;if(-1===s)_=-1;else for(;f<o.length;){const C=o[f++];if("number"==typeof C){if(C===s){_=-1;break}if(C>s){_=f-1;break}}}for(;f<o.length;){const C=o[f];if("number"==typeof C)break;if(C===a){if(null===c)return void(null!==h&&(o[f+1]=h));if(c===o[f+1])return void(o[f+2]=h)}f++,null!==c&&f++,null!==h&&f++}-1!==_&&(o.splice(_,0,s),f=_+1),o.splice(f++,0,a),null!==c&&o.splice(f++,0,c),null!==h&&o.splice(f++,0,h)}function Dr(o){return-1!==o}function ca(o){return 32767&o}function da(o,s){let a=function yu(o){return o>>16}(o),c=s;for(;a>0;)c=c[15],a--;return c}let pr=!0;function vu(o){const s=pr;return pr=o,s}let fm=0;function qo(o,s){const a=qn(o,s);if(-1!==a)return a;const c=s[1];c.firstCreatePass&&(o.injectorIndex=s.length,El(c.data,o),El(s,null),El(c.blueprint,null));const h=Cu(o,s),f=o.injectorIndex;if(Dr(h)){const _=ca(h),C=da(h,s),E=C[1].data;for(let I=0;I<8;I++)s[f+I]=C[_+I]|E[_+I]}return s[f+8]=h,f}function El(o,s){o.push(0,0,0,0,0,0,0,0,s)}function qn(o,s){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===s[o.injectorIndex+8]?-1:o.injectorIndex}function Cu(o,s){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let a=0,c=null,h=s;for(;null!==h;){const f=h[1],_=f.type;if(c=2===_?f.declTNode:1===_?h[6]:null,null===c)return-1;if(a++,h=h[15],-1!==c.injectorIndex)return c.injectorIndex|a<<16}return-1}function Zo(o,s,a){!function pm(o,s,a){let c;"string"==typeof a?c=a.charCodeAt(0)||0:a.hasOwnProperty(Te)&&(c=a[Te]),null==c&&(c=a[Te]=fm++);const h=255&c;s.data[o+(h>>5)]|=1<<h}(o,s,a)}function Ed(o,s,a){if(a&ne.Optional)return o;Ve(s,"NodeInjector")}function Tl(o,s,a,c){if(a&ne.Optional&&void 0===c&&(c=null),0==(a&(ne.Self|ne.Host))){const h=o[9],f=at(void 0);try{return h?h.get(s,c,a&ne.Optional):Dt(s,c,a&ne.Optional)}finally{at(f)}}return Ed(c,s,a)}function fa(o,s,a,c=ne.Default,h){if(null!==o){const f=function ga(o){if("string"==typeof o)return o.charCodeAt(0)||0;const s=o.hasOwnProperty(Te)?o[Te]:void 0;return"number"==typeof s?s>=0?255&s:gm:s}(a);if("function"==typeof f){if(!Ef(s,o,c))return c&ne.Host?Ed(h,a,c):Tl(s,a,c,h);try{const _=f(c);if(null!=_||c&ne.Optional)return _;Ve(a)}finally{ws()}}else if("number"==typeof f){let _=null,C=qn(o,s),E=-1,I=c&ne.Host?s[16][6]:null;for((-1===C||c&ne.SkipSelf)&&(E=-1===C?Cu(o,s):s[C+8],-1!==E&&xr(c,!1)?(_=s[1],C=ca(E),s=da(E,s)):C=-1);-1!==C;){const M=s[1];if(Sf(f,C,M.data)){const k=bu(C,s,a,_,c,I);if(k!==Is)return k}E=s[C+8],-1!==E&&xr(c,s[1].data[C+8]===I)&&Sf(f,C,s)?(_=M,C=ca(E),s=da(E,s)):C=-1}}}return Tl(s,a,c,h)}const Is={};function gm(){return new Ts(fr(),Be())}function bu(o,s,a,c,h,f){const _=s[1],C=_.data[o+8],M=no(C,_,a,null==c?vs(C)&&pr:c!=_&&0!=(3&C.type),h&ne.Host&&f===C);return null!==M?pa(s,_,M,C):Is}function no(o,s,a,c,h){const f=o.providerIndexes,_=s.data,C=1048575&f,E=o.directiveStart,M=f>>20,z=h?C+M:o.directiveEnd;for(let ue=c?C:C+M;ue<z;ue++){const Ie=_[ue];if(ue<E&&a===Ie||ue>=E&&Ie.type===a)return ue}if(h){const ue=_[E];if(ue&&br(ue)&&ue.type===a)return E}return null}function pa(o,s,a,c){let h=o[a];const f=s.data;if(function g0(o){return o instanceof wl}(h)){const _=h;_.resolving&&function Ae(o,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${o}`:"";throw new Ke("200",`Circular dependency in DI detected for ${o}${a}`)}(Ee(f[a]));const C=vu(_.canSeeViewProviders);_.resolving=!0;const E=_.injectImpl?at(_.injectImpl):null;Ef(o,c,ne.Default);try{h=o[a]=_.factory(void 0,f,o,c),s.firstCreatePass&&a>=c.directiveStart&&function p0(o,s,a){const{ngOnChanges:c,ngOnInit:h,ngDoCheck:f}=s.type.prototype;if(c){const _=mf(s);(a.preOrderHooks||(a.preOrderHooks=[])).push(o,_),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(o,_)}h&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-o,h),f&&((a.preOrderHooks||(a.preOrderHooks=[])).push(o,f),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(o,f))}(a,f[a],s)}finally{null!==E&&at(E),vu(C),_.resolving=!1,ws()}}return h}function Sf(o,s,a){return!!(a[s+(o>>5)]&1<<o)}function xr(o,s){return!(o&ne.Self||o&ne.Host&&s)}class Ts{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,c){return fa(this._tNode,this._lView,s,c,a)}}function Rf(o){return en(()=>{const s=o.prototype.constructor,a=s[W]||gr(s),c=Object.prototype;let h=Object.getPrototypeOf(o.prototype).constructor;for(;h&&h!==c;){const f=h[W]||gr(h);if(f&&f!==a)return f;h=Object.getPrototypeOf(h)}return f=>new f})}function gr(o){return Ue(o)?()=>{const s=gr(oe(o));return s&&s()}:xi(o)}function Ds(o){return function Il(o,s){if("class"===s)return o.classes;if("style"===s)return o.styles;const a=o.attrs;if(a){const c=a.length;let h=0;for(;h<c;){const f=a[h];if(la(f))break;if(0===f)h+=2;else if("number"==typeof f)for(h++;h<c&&"string"==typeof a[h];)h++;else{if(f===s)return a[h+1];h+=2}}}return null}(fr(),o)}const Ms="__parameters__";function Un(o,s,a){return en(()=>{const c=function io(o){return function(...a){if(o){const c=o(...a);for(const h in c)this[h]=c[h]}}}(s);function h(...f){if(this instanceof h)return c.apply(this,f),this;const _=new h(...f);return C.annotation=_,C;function C(E,I,M){const k=E.hasOwnProperty(Ms)?E[Ms]:Object.defineProperty(E,Ms,{value:[]})[Ms];for(;k.length<=M;)k.push(null);return(k[M]=k[M]||[]).push(_),E}}return a&&(h.prototype=Object.create(a.prototype)),h.prototype.ngMetadataName=o,h.annotationCls=h,h})}class Zn{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=gt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Dl=new Zn("AnalyzeForEntryComponents");function ci(o,s){void 0===s&&(s=o);for(let a=0;a<o.length;a++){let c=o[a];Array.isArray(c)?(s===o&&(s=o.slice(0,a)),ci(c,s)):s!==o&&s.push(c)}return s}function oo(o,s){o.forEach(a=>Array.isArray(a)?oo(a,s):s(a))}function Ml(o,s,a){s>=o.length?o.push(a):o.splice(s,0,a)}function Ko(o,s){return s>=o.length-1?o.pop():o.splice(s,1)[0]}function Ti(o,s,a){let c=wo(o,s);return c>=0?o[1|c]=a:(c=~c,function vm(o,s,a,c){let h=o.length;if(h==s)o.push(a,c);else if(1===h)o.push(c,o[0]),o[0]=a;else{for(h--,o.push(o[h-1],o[h]);h>s;)o[h]=o[h-2],h--;o[s]=a,o[s+1]=c}}(o,c,s,a)),c}function Qo(o,s){const a=wo(o,s);if(a>=0)return o[1|a]}function wo(o,s){return function Lf(o,s,a){let c=0,h=o.length>>a;for(;h!==c;){const f=c+(h-c>>1),_=o[f<<a];if(s===_)return f<<a;_>s?h=f:c=f+1}return~(h<<a)}(o,s,1)}const Iu={},Od="__NG_DI_FLAG__",Ps="ngTempTokenPath",Pd=/\n/gm,Ad="__source",xd=be({provide:String,useValue:be});let As;function Tu(o){const s=As;return As=o,s}function xs(o,s=ne.Default){if(void 0===As)throw new Error("inject() must be called from an injection context");return null===As?Dt(o,void 0,s):As.get(o,s&ne.Optional?null:void 0,s)}function Rt(o,s=ne.Default){return(function Je(){return Me}()||xs)(oe(o),s)}function Wi(o){const s=[];for(let a=0;a<o.length;a++){const c=oe(o[a]);if(Array.isArray(c)){if(0===c.length)throw new Error("Arguments array must have arguments.");let h,f=ne.Default;for(let _=0;_<c.length;_++){const C=c[_],E=Bf(C);"number"==typeof E?-1===E?h=C.token:f|=E:h=C}s.push(Rt(h,f))}else s.push(Rt(c))}return s}function Du(o,s){return o[Od]=s,o.prototype[Od]=s,o}function Bf(o){return o[Od]}const ao=Du(Un("Inject",o=>({token:o})),-1),Mi=Du(Un("Optional"),8),uo=Du(Un("SkipSelf"),4);let Ri,Ou;function Rs(o){return function es(){if(void 0===Ri&&(Ri=null,jt.trustedTypes))try{Ri=jt.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return Ri}()?.createHTML(o)||o}function kl(o){return function kd(){if(void 0===Ou&&(Ou=null,jt.trustedTypes))try{Ou=jt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return Ou}()?.createScriptURL(o)||o}class ts{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Ld extends ts{getTypeName(){return"HTML"}}class Vd extends ts{getTypeName(){return"Style"}}class Gf extends ts{getTypeName(){return"Script"}}class Pu extends ts{getTypeName(){return"URL"}}class Dm extends ts{getTypeName(){return"ResourceURL"}}function Eo(o){return o instanceof ts?o.changingThisBreaksApplicationSecurity:o}function Ea(o,s){const a=ks(o);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===s}function ks(o){return o instanceof ts&&o.getTypeName()||null}function Au(o){return new Ld(o)}function xu(o){return new Vd(o)}function Hf(o){return new Gf(o)}function Ud(o){return new Pu(o)}function Mm(o){return new Dm(o)}function Ia(o){const s=new zf(o);return function qf(){try{return!!(new window.DOMParser).parseFromString(Rs(""),"text/html")}catch{return!1}}()?new Om(s):s}class Om{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const a=(new window.DOMParser).parseFromString(Rs(s),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(s):(a.removeChild(a.firstChild),a)}catch{return null}}}class zf{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const c=this.inertDocument.createElement("body");a.appendChild(c)}}getInertBodyElement(s){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=Rs(s),a;const c=this.inertDocument.createElement("body");return c.innerHTML=Rs(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(c),c}stripCustomNsAttrs(s){const a=s.attributes;for(let h=a.length-1;0<h;h--){const _=a.item(h).name;("xmlns:ns1"===_||0===_.indexOf("ns1:"))&&s.removeAttribute(_)}let c=s.firstChild;for(;c;)c.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(c),c=c.nextSibling}}const Zf=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Pm=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Fs(o){return(o=String(o)).match(Zf)||o.match(Pm)?o:"unsafe:"+o}function v(o){return(o=String(o)).split(",").map(s=>Fs(s.trim())).join(", ")}function p(o){const s={};for(const a of o.split(","))s[a]=!0;return s}function m(...o){const s={};for(const a of o)for(const c in a)a.hasOwnProperty(c)&&(s[c]=!0);return s}const b=p("area,br,col,hr,img,wbr"),D=p("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),A=p("rp,rt"),bt=m(b,m(D,p("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),m(A,p("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),m(A,D)),rn=p("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Bn=p("srcset"),To=m(rn,Bn,p("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),p("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Ta=p("script,style,template");class $d{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let a=s.firstChild,c=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?c=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,c&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let h=this.checkClobberedElement(a,a.nextSibling);if(h){a=h;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(s){const a=s.nodeName.toLowerCase();if(!bt.hasOwnProperty(a))return this.sanitizedSomething=!0,!Ta.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const c=s.attributes;for(let h=0;h<c.length;h++){const f=c.item(h),_=f.name,C=_.toLowerCase();if(!To.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let E=f.value;rn[C]&&(E=Fs(E)),Bn[C]&&(E=v(E)),this.buf.push(" ",_,'="',Fl(E),'"')}return this.buf.push(">"),!0}endElement(s){const a=s.nodeName.toLowerCase();bt.hasOwnProperty(a)&&!b.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(s){this.buf.push(Fl(s))}checkClobberedElement(s,a){if(a&&(s.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return a}}const Da=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ma=/([^\#-~ |!])/g;function Fl(o){return o.replace(/&/g,"&amp;").replace(Da,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(Ma,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Vs;function Ll(o,s){let a=null;try{Vs=Vs||Ia(o);let c=s?String(s):"";a=Vs.getInertBodyElement(c);let h=5,f=c;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,c=f,f=a.innerHTML,a=Vs.getInertBodyElement(c)}while(c!==f);return Rs((new $d).sanitizeChildren(Su(a)||a))}finally{if(a){const c=Su(a)||a;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function Su(o){return"content"in o&&function Wf(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var Yn=(()=>((Yn=Yn||{})[Yn.NONE=0]="NONE",Yn[Yn.HTML=1]="HTML",Yn[Yn.STYLE=2]="STYLE",Yn[Yn.SCRIPT=3]="SCRIPT",Yn[Yn.URL=4]="URL",Yn[Yn.RESOURCE_URL=5]="RESOURCE_URL",Yn))();function Yf(o){const s=Ul();return s?s.sanitize(Yn.URL,o)||"":Ea(o,"URL")?Eo(o):Fs(le(o))}function Vl(o){const s=Ul();if(s)return kl(s.sanitize(Yn.RESOURCE_URL,o)||"");if(Ea(o,"ResourceURL"))return kl(Eo(o));throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)")}function Ul(){const o=Be();return o&&o[12]}const xm="__ngContext__";function hi(o,s){o[xm]=s}function Sm(o){const s=function Gd(o){return o[xm]||null}(o);return s?Array.isArray(s)?s:s.lView:null}function Nm(o){return o.ngOriginalError}function zE(o,...s){o.error(...s)}class Hd{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s),c=function HE(o){return o&&o.ngErrorLogger||zE}(s);c(this._console,"ERROR",s),a&&c(this._console,"ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&Nm(s);for(;a&&Nm(a);)a=Nm(a);return a||null}}const WE=/^>|^->|<!--|-->|--!>|<!-$/g,KE=/(<|>)/;const w0=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(jt))();function Do(o){return o instanceof Function?o():o}var ns=(()=>((ns=ns||{})[ns.Important=1]="Important",ns[ns.DashCase=2]="DashCase",ns))();let Fm;function zd(o,s){return Fm(o,s)}function qd(o){const s=o[3];return Ar(s)?s[3]:s}function Vm(o){return M0(o[13])}function Um(o){return M0(o[4])}function M0(o){for(;null!==o&&!Ar(o);)o=o[4];return o}function ku(o,s,a,c,h){if(null!=c){let f,_=!1;Ar(c)?f=c:ai(c)&&(_=!0,c=c[0]);const C=nr(c);0===o&&null!==a?null==h?P0(s,a,C):Fu(s,a,C,h||null,!0):1===o&&null!==a?Fu(s,a,C,h||null,!0):2===o?aI(s,C,_):3===o&&s.destroyNode(C),null!=f&&function uI(o,s,a,c,h){const f=a[7];f!==nr(a)&&ku(s,o,c,f,h);for(let C=10;C<a.length;C++){const E=a[C];$l(E[1],E,o,s,c,f)}}(s,o,f,a,h)}}function Bm(o,s){return tr(o)?o.createText(s):o.createTextNode(s)}function O0(o,s,a){tr(o)?o.setValue(s,a):s.textContent=a}function Er(o,s){return o.createComment(function km(o){return o.replace(WE,s=>s.replace(KE,"\u200b$1\u200b"))}(s))}function $m(o,s,a){return tr(o)?o.createElement(s,a):null===a?o.createElement(s):o.createElementNS(a,s)}function Gm(o,s){const a=o[9],c=a.indexOf(s),h=s[3];1024&s[2]&&(s[2]&=-1025,na(h,-1)),a.splice(c,1)}function Hm(o,s){if(o.length<=10)return;const a=10+s,c=o[a];if(c){const h=c[17];null!==h&&h!==o&&Gm(h,c),s>0&&(o[a-1][4]=c[4]);const f=Ko(o,10+s);!function ip(o,s){$l(o,s,s[11],2,null,null),s[0]=null,s[6]=null}(c[1],c);const _=f[19];null!==_&&_.detachView(f[1]),c[3]=null,c[4]=null,c[2]&=-129}return c}function zm(o,s){if(!(256&s[2])){const a=s[11];tr(a)&&a.destroyNode&&$l(o,s,a,3,null,null),function Bl(o){let s=o[13];if(!s)return op(o[1],o);for(;s;){let a=null;if(ai(s))a=s[13];else{const c=s[10];c&&(a=c)}if(!a){for(;s&&!s[4]&&s!==o;)ai(s)&&op(s[1],s),s=s[3];null===s&&(s=o),ai(s)&&op(s[1],s),a=s&&s[4]}s=a}}(s)}}function op(o,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function WO(o,s){let a;if(null!=o&&null!=(a=o.destroyHooks))for(let c=0;c<a.length;c+=2){const h=s[a[c]];if(!(h instanceof wl)){const f=a[c+1];if(Array.isArray(f))for(let _=0;_<f.length;_+=2){const C=h[f[_]],E=f[_+1];try{E.call(C)}finally{}}else try{f.call(h)}finally{}}}}(o,s),function qm(o,s){const a=o.cleanup,c=s[7];let h=-1;if(null!==a)for(let f=0;f<a.length-1;f+=2)if("string"==typeof a[f]){const _=a[f+1],C="function"==typeof _?_(s):nr(s[_]),E=c[h=a[f+2]],I=a[f+3];"boolean"==typeof I?C.removeEventListener(a[f],E,I):I>=0?c[h=I]():c[h=-I].unsubscribe(),f+=2}else{const _=c[h=a[f+1]];a[f].call(_)}if(null!==c){for(let f=h+1;f<c.length;f++)c[f]();s[7]=null}}(o,s),1===s[1].type&&tr(s[11])&&s[11].destroy();const a=s[17];if(null!==a&&Ar(s[3])){a!==s[3]&&Gm(a,s);const c=s[19];null!==c&&c.detachView(o)}}}function Zm(o,s,a){let c=s;for(;null!==c&&40&c.type;)c=(s=c).parent;if(null===c)return a[0];if(2&c.flags){const h=o.data[c.directiveStart].encapsulation;if(h===Xe.None||h===Xe.Emulated)return null}return Ur(c,a)}function Fu(o,s,a,c,h){tr(o)?o.insertBefore(s,a,c,h):s.insertBefore(a,c,h)}function P0(o,s,a){tr(o)?o.appendChild(s,a):s.appendChild(a)}function Wm(o,s,a,c,h){null!==c?Fu(o,s,a,c,h):P0(o,s,a)}function sp(o,s){return tr(o)?o.parentNode(s):s.parentNode}function A0(o,s,a){return 40&o.type?Ur(o,a):null}let Ym,x0=A0;function ap(o,s){x0=o,Ym=s}function up(o,s,a,c){const h=function Oa(o,s,a){return Zm(o,s.parent,a)}(o,c,s),f=s[11],C=function Km(o,s,a){return x0(o,s,a)}(c.parent||s[6],c,s);if(null!=h)if(Array.isArray(a))for(let E=0;E<a.length;E++)Wm(f,h,a[E],C,!1);else Wm(f,h,a,C,!1);void 0!==Ym&&Ym(f,c,s,a,h)}function lp(o,s){if(null!==s){const a=s.type;if(3&a)return Ur(s,o);if(4&a)return Jm(-1,o[s.index]);if(8&a){const c=s.child;if(null!==c)return lp(o,c);{const h=o[s.index];return Ar(h)?Jm(-1,h):nr(h)}}if(32&a)return zd(s,o)()||nr(o[s.index]);{const c=Qm(o,s);return null!==c?Array.isArray(c)?c[0]:lp(qd(o[16]),c):lp(o,s.next)}}return null}function Qm(o,s){return null!==s?o[16][6].projection[s.projection]:null}function Jm(o,s){const a=10+o+1;if(a<s.length){const c=s[a],h=c[1].firstChild;if(null!==h)return lp(c,h)}return s[7]}function aI(o,s,a){const c=sp(o,s);c&&function oI(o,s,a,c){tr(o)?o.removeChild(s,a,c):s.removeChild(a)}(o,c,s,a)}function Xm(o,s,a,c,h,f,_){for(;null!=a;){const C=c[a.index],E=a.type;if(_&&0===s&&(C&&hi(nr(C),c),a.flags|=4),64!=(64&a.flags))if(8&E)Xm(o,s,a.child,c,h,f,!1),ku(s,o,h,C,f);else if(32&E){const I=zd(a,c);let M;for(;M=I();)ku(s,o,h,M,f);ku(s,o,h,C,f)}else 16&E?Mo(o,s,c,a,h,f):ku(s,o,h,C,f);a=_?a.projectionNext:a.next}}function $l(o,s,a,c,h,f){Xm(a,c,o.firstChild,s,h,f,!1)}function Mo(o,s,a,c,h,f){const _=a[16],E=_[6].projection[c.projection];if(Array.isArray(E))for(let I=0;I<E.length;I++)ku(s,o,h,E[I],f);else Xm(o,s,E,_[3],h,f,!0)}function R0(o,s,a){tr(o)?o.setAttribute(s,"style",a):s.style.cssText=a}function e_(o,s,a){tr(o)?""===a?o.removeAttribute(s,"class"):o.setAttribute(s,"class",a):s.className=a}function N0(o,s,a){let c=o.length;for(;;){const h=o.indexOf(s,a);if(-1===h)return h;if(0===h||o.charCodeAt(h-1)<=32){const f=s.length;if(h+f===c||o.charCodeAt(h+f)<=32)return h}a=h+1}}const Bs="ng-template";function k0(o,s,a){let c=0;for(;c<o.length;){let h=o[c++];if(a&&"class"===h){if(h=o[c],-1!==N0(h.toLowerCase(),s,0))return!0}else if(1===h){for(;c<o.length&&"string"==typeof(h=o[c++]);)if(h.toLowerCase()===s)return!0;return!1}}return!1}function ti(o){return 4===o.type&&o.value!==Bs}function Pa(o,s,a){return s===(4!==o.type||a?o.value:Bs)}function lI(o,s,a){let c=4;const h=o.attrs||[],f=function V0(o){for(let s=0;s<o.length;s++)if(la(o[s]))return s;return o.length}(h);let _=!1;for(let C=0;C<s.length;C++){const E=s[C];if("number"!=typeof E){if(!_)if(4&c){if(c=2|1&c,""!==E&&!Pa(o,E,a)||""===E&&1===s.length){if(dn(c))return!1;_=!0}}else{const I=8&c?E:s[++C];if(8&c&&null!==o.attrs){if(!k0(o.attrs,I,a)){if(dn(c))return!1;_=!0}continue}const k=F0(8&c?"class":E,h,ti(o),a);if(-1===k){if(dn(c))return!1;_=!0;continue}if(""!==I){let z;z=k>f?"":h[k+1].toLowerCase();const ue=8&c?z:null;if(ue&&-1!==N0(ue,I,0)||2&c&&I!==z){if(dn(c))return!1;_=!0}}}}else{if(!_&&!dn(c)&&!dn(E))return!1;if(_&&dn(E))continue;_=!1,c=E|1&c}}return dn(c)||_}function dn(o){return 0==(1&o)}function F0(o,s,a,c){if(null===s)return-1;let h=0;if(c||!a){let f=!1;for(;h<s.length;){const _=s[h];if(_===o)return h;if(3===_||6===_)f=!0;else{if(1===_||2===_){let C=s[++h];for(;"string"==typeof C;)C=s[++h];continue}if(4===_)break;if(0===_){h+=4;continue}}h+=f?1:2}return-1}return function U0(o,s){let a=o.indexOf(4);if(a>-1)for(a++;a<o.length;){const c=o[a];if("number"==typeof c)return-1;if(c===s)return a;a++}return-1}(s,o)}function t_(o,s,a=!1){for(let c=0;c<s.length;c++)if(lI(o,s[c],a))return!0;return!1}function n_(o,s){return o?":not("+s.trim()+")":s}function $0(o){let s=o[0],a=1,c=2,h="",f=!1;for(;a<o.length;){let _=o[a];if("string"==typeof _)if(2&c){const C=o[++a];h+="["+_+(C.length>0?'="'+C+'"':"")+"]"}else 8&c?h+="."+_:4&c&&(h+=" "+_);else""!==h&&!dn(_)&&(s+=n_(f,h),h=""),c=_,f=f||!dn(c);a++}return""!==h&&(s+=n_(f,h)),s}const nn={};function r_(o){i_(yn(),Be(),rr()+o,oa())}function i_(o,s,a,c){if(!c)if(3==(3&s[2])){const f=o.preOrderCheckHooks;null!==f&&bd(s,f,a)}else{const f=o.preOrderHooks;null!==f&&_u(s,f,0,a)}Ho(a)}function Wd(o,s){return o<<17|s<<2}function lo(o){return o>>17&32767}function Kd(o){return 2|o}function rs(o){return(131068&o)>>2}function dp(o,s){return-131069&o|s<<2}function Yd(o){return 1|o}function zl(o,s){const a=o.contentQueries;if(null!==a)for(let c=0;c<a.length;c+=2){const h=a[c],f=a[c+1];if(-1!==f){const _=o.data[f];yd(h),_.contentQueries(2,s[f],f)}}}function $s(o,s,a,c,h,f,_,C,E,I){const M=s.blueprint.slice();return M[0]=h,M[2]=140|c,ud(M),M[3]=M[15]=o,M[8]=a,M[10]=_||o&&o[10],M[11]=C||o&&o[11],M[12]=E||o&&o[12]||null,M[9]=I||o&&o[9]||null,M[6]=f,M[16]=2==s.type?o[16]:M,M}function Zl(o,s,a,c,h){let f=o.data[s];if(null===f)f=Jd(o,s,a,c,h),function gd(){return Vt.lFrame.inI18n}()&&(f.flags|=64);else if(64&f.type){f.type=a,f.value=c,f.attrs=h;const _=bs();f.injectorIndex=null===_?-1:_.injectorIndex}return ui(f,!0),f}function Jd(o,s,a,c,h){const f=hd(),_=fd(),E=o.data[s]=function eP(o,s,a,c,h,f){return{type:a,index:c,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?f:f&&f.parent,a,s,c,h);return null===o.firstChild&&(o.firstChild=E),null!==f&&(_?null==f.child&&null!==E.parent&&(f.child=E):null===f.next&&(f.next=E)),E}function Uu(o,s,a,c){if(0===a)return-1;const h=s.length;for(let f=0;f<a;f++)s.push(c),o.blueprint.push(c),o.data.push(null);return h}function Bu(o,s,a){vd(s);try{const c=o.viewQuery;null!==c&&bp(1,c,a);const h=o.template;null!==h&&_p(o,s,h,1,a),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&zl(o,s),o.staticViewQueries&&bp(2,o.viewQuery,a);const f=o.components;null!==f&&function ql(o,s){for(let a=0;a<s.length;a++)DI(o,s[a])}(s,f)}catch(c){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),c}finally{s[2]&=-5,bl()}}function $u(o,s,a,c){const h=s[2];if(256==(256&h))return;vd(s);const f=oa();try{ud(s),function pd(o){return Vt.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==a&&_p(o,s,a,2,c);const _=3==(3&h);if(!f)if(_){const I=o.preOrderCheckHooks;null!==I&&bd(s,I,null)}else{const I=o.preOrderHooks;null!==I&&_u(s,I,0,null),zo(s,0)}if(function II(o){for(let s=Vm(o);null!==s;s=Um(s)){if(!s[2])continue;const a=s[9];for(let c=0;c<a.length;c++){const h=a[c],f=h[3];0==(1024&h[2])&&na(f,1),h[2]|=1024}}}(s),function M_(o){for(let s=Vm(o);null!==s;s=Um(s))for(let a=10;a<s.length;a++){const c=s[a],h=c[1];du(c)&&$u(h,c,h.template,c[8])}}(s),null!==o.contentQueries&&zl(o,s),!f)if(_){const I=o.contentCheckHooks;null!==I&&bd(s,I)}else{const I=o.contentHooks;null!==I&&_u(s,I,1),zo(s,1)}!function XO(o,s){const a=o.hostBindingOpCodes;if(null!==a)try{for(let c=0;c<a.length;c++){const h=a[c];if(h<0)Ho(~h);else{const f=h,_=a[++c],C=a[++c];md(_,f),C(2,s[f])}}}finally{Ho(-1)}}(o,s);const C=o.components;null!==C&&function mp(o,s){for(let a=0;a<s.length;a++)TI(o,s[a])}(s,C);const E=o.viewQuery;if(null!==E&&bp(2,E,c),!f)if(_){const I=o.viewCheckHooks;null!==I&&bd(s,I)}else{const I=o.viewHooks;null!==I&&_u(s,I,2),zo(s,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),f||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,na(s[3],-1))}finally{bl()}}function v_(o,s,a,c){const h=s[10],f=!oa(),_=cu(s);try{f&&!_&&h.begin&&h.begin(),_&&Bu(o,s,c),$u(o,s,a,c)}finally{f&&!_&&h.end&&h.end()}}function _p(o,s,a,c,h){const f=rr(),_=2&c;try{Ho(-1),_&&s.length>20&&i_(o,s,20,oa()),a(c,h)}finally{Ho(f)}}function Gu(o,s,a){!cd()||(function nC(o,s,a,c){const h=a.directiveStart,f=a.directiveEnd;o.firstCreatePass||qo(a,s),hi(c,s);const _=a.initialInputs;for(let C=h;C<f;C++){const E=o.data[C],I=br(E);I&&T_(s,a,E);const M=pa(s,o,C,a);hi(M,s),null!==_&&Hu(0,C-h,M,E,0,_),I&&(Xr(a.index,s)[8]=M)}}(o,s,a,Ur(a,s)),128==(128&a.flags)&&function I_(o,s,a){const c=a.directiveStart,h=a.directiveEnd,_=a.index,C=function lm(){return Vt.lFrame.currentDirectiveIndex}();try{Ho(_);for(let E=c;E<h;E++){const I=o.data[E],M=s[E];mu(E),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&rC(I,M)}}finally{Ho(-1),mu(C)}}(o,s,a))}function Xd(o,s,a=Ur){const c=s.localNames;if(null!==c){let h=s.index+1;for(let f=0;f<c.length;f+=2){const _=c[f+1],C=-1===_?a(s,o):o[_];o[h++]=C}}}function Y0(o){const s=o.tView;return null===s||s.incompleteFirstPass?o.tView=Sa(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):s}function Sa(o,s,a,c,h,f,_,C,E,I){const M=20+c,k=M+h,z=function C_(o,s){const a=[];for(let c=0;c<s;c++)a.push(c<o?null:nn);return a}(M,k),ue="function"==typeof I?I():I;return z[1]={type:o,blueprint:z,template:a,queries:null,viewQuery:C,declTNode:s,data:z.slice().fill(null,M),bindingStartIndex:M,expandoStartIndex:k,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:E,consts:ue,incompleteFirstPass:!1}}function _I(o,s,a,c){const h=zu(s);null===a?h.push(c):(h.push(a),o.firstCreatePass&&P_(o).push(c,h.length-1))}function Q0(o,s,a){for(let c in o)if(o.hasOwnProperty(c)){const h=o[c];(a=null===a?{}:a).hasOwnProperty(c)?a[c].push(s,h):a[c]=[s,h]}return a}function Ni(o,s,a,c,h,f,_,C){const E=Ur(s,a);let M,I=s.inputs;!C&&null!=I&&(M=I[c])?(hC(o,a,M,c,h),vs(s)&&function X0(o,s){const a=Xr(s,o);16&a[2]||(a[2]|=64)}(a,s.index)):3&s.type&&(c=function yI(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(c),h=null!=_?_(h,s.value||"",c):h,tr(f)?f.setProperty(E,c,h):Mt(c)||(E.setProperty?E.setProperty(c,h):E[c]=h))}function w_(o,s,a,c){let h=!1;if(cd()){const f=function iC(o,s,a){const c=o.directiveRegistry;let h=null;if(c)for(let f=0;f<c.length;f++){const _=c[f];t_(a,_.selectors,!1)&&(h||(h=[]),Zo(qo(a,s),o,_.type),br(_)?(oC(o,a),h.unshift(_)):h.push(_))}return h}(o,s,a),_=null===c?null:{"":-1};if(null!==f){h=!0,yp(a,o.data.length,f.length);for(let M=0;M<f.length;M++){const k=f[M];k.providersResolver&&k.providersResolver(k)}let C=!1,E=!1,I=Uu(o,s,f.length,null);for(let M=0;M<f.length;M++){const k=f[M];a.mergedAttrs=qi(a.mergedAttrs,k.hostAttrs),sC(o,a,s,I,k),bI(I,k,_),null!==k.contentQueries&&(a.flags|=8),(null!==k.hostBindings||null!==k.hostAttrs||0!==k.hostVars)&&(a.flags|=128);const z=k.type.prototype;!C&&(z.ngOnChanges||z.ngOnInit||z.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(a.index),C=!0),!E&&(z.ngOnChanges||z.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(a.index),E=!0),I++}!function J0(o,s){const c=s.directiveEnd,h=o.data,f=s.attrs,_=[];let C=null,E=null;for(let I=s.directiveStart;I<c;I++){const M=h[I],k=M.inputs,z=null===f||ti(s)?null:wI(k,f);_.push(z),C=Q0(k,I,C),E=Q0(M.outputs,I,E)}null!==C&&(C.hasOwnProperty("class")&&(s.flags|=16),C.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=_,s.inputs=C,s.outputs=E}(o,a)}_&&function Ra(o,s,a){if(s){const c=o.localNames=[];for(let h=0;h<s.length;h+=2){const f=a[s[h+1]];if(null==f)throw new Ke("301",`Export of name '${s[h+1]}' not found!`);c.push(s[h],f)}}}(a,c,_)}return a.mergedAttrs=qi(a.mergedAttrs,a.attrs),h}function E_(o,s,a,c,h,f){const _=f.hostBindings;if(_){let C=o.hostBindingOpCodes;null===C&&(C=o.hostBindingOpCodes=[]);const E=~s.index;(function CI(o){let s=o.length;for(;s>0;){const a=o[--s];if("number"==typeof a&&a<0)return a}return 0})(C)!=E&&C.push(E),C.push(c,h,_)}}function rC(o,s){null!==o.hostBindings&&o.hostBindings(1,s)}function oC(o,s){s.flags|=2,(o.components||(o.components=[])).push(s.index)}function bI(o,s,a){if(a){if(s.exportAs)for(let c=0;c<s.exportAs.length;c++)a[s.exportAs[c]]=o;br(s)&&(a[""]=o)}}function yp(o,s,a){o.flags|=1,o.directiveStart=s,o.directiveEnd=s+a,o.providerIndexes=s}function sC(o,s,a,c,h){o.data[c]=h;const f=h.factory||(h.factory=xi(h.type)),_=new wl(f,br(h),null);o.blueprint[c]=_,a[c]=_,E_(o,s,0,c,Uu(o,a,h.hostVars,nn),h)}function T_(o,s,a){const c=Ur(s,o),h=Y0(a),f=o[10],_=Kl(o,$s(o,h,null,a.onPush?64:16,c,s,f,f.createRenderer(c,a),null,null));o[s.index]=_}function D_(o,s,a,c,h,f,_){if(null==f)tr(o)?o.removeAttribute(s,h,a):s.removeAttribute(h);else{const C=null==_?le(f):_(f,c||"",h);tr(o)?o.setAttribute(s,h,C,a):a?s.setAttributeNS(a,h,C):s.setAttribute(h,C)}}function Hu(o,s,a,c,h,f){const _=f[s];if(null!==_){const C=c.setInput;for(let E=0;E<_.length;){const I=_[E++],M=_[E++],k=_[E++];null!==C?c.setInput(a,k,I,M):a[M]=k}}}function wI(o,s){let a=null,c=0;for(;c<s.length;){const h=s[c];if(0!==h)if(5!==h){if("number"==typeof h)break;o.hasOwnProperty(h)&&(null===a&&(a=[]),a.push(h,o[h],s[c+1])),c+=2}else c+=2;else c+=4}return a}function aC(o,s,a,c){return new Array(o,!0,!1,s,null,0,c,a,null,null)}function TI(o,s){const a=Xr(s,o);if(du(a)){const c=a[1];80&a[2]?$u(c,a,c.template,a[8]):a[5]>0&&vp(a)}}function vp(o){for(let c=Vm(o);null!==c;c=Um(c))for(let h=10;h<c.length;h++){const f=c[h];if(1024&f[2]){const _=f[1];$u(_,f,_.template,f[8])}else f[5]>0&&vp(f)}const a=o[1].components;if(null!==a)for(let c=0;c<a.length;c++){const h=Xr(a[c],o);du(h)&&h[5]>0&&vp(h)}}function DI(o,s){const a=Xr(s,o),c=a[1];(function nP(o,s){for(let a=s.length;a<o.blueprint.length;a++)s.push(o.blueprint[a])})(c,a),Bu(c,a,a[8])}function Kl(o,s){return o[13]?o[14][4]=s:o[13]=s,o[14]=s,s}function O_(o){for(;o;){o[2]|=64;const s=qd(o);if(ou(o)&&!s)return o;o=s}return null}function Yl(o,s,a){const c=s[10];c.begin&&c.begin();try{$u(o,s,o.template,a)}catch(h){throw A_(s,h),h}finally{c.end&&c.end()}}function lC(o){!function Cp(o){for(let s=0;s<o.components.length;s++){const a=o.components[s],c=Sm(a),h=c[1];v_(h,c,h.template,a)}}(o[8])}function bp(o,s,a){yd(0),s(o,a)}const OI=(()=>Promise.resolve(null))();function zu(o){return o[7]||(o[7]=[])}function P_(o){return o.cleanup||(o.cleanup=[])}function A_(o,s){const a=o[9],c=a?a.get(Hd,null):null;c&&c.handleError(s)}function hC(o,s,a,c,h){for(let f=0;f<a.length;){const _=a[f++],C=a[f++],E=s[_],I=o.data[_];null!==I.setInput?I.setInput(E,h,c,C):E[C]=h}}function os(o,s,a){const c=lu(s,o);O0(o[11],c,a)}function wp(o,s,a){let c=a?o.styles:null,h=a?o.classes:null,f=0;if(null!==s)for(let _=0;_<s.length;_++){const C=s[_];"number"==typeof C?f=C:1==f?h=me(h,C):2==f&&(c=me(c,C+": "+s[++_]+";"))}a?o.styles=c:o.stylesWithoutHost=c,a?o.classes=h:o.classesWithoutHost=h}const pC=new Zn("INJECTOR",-1);class xI{get(s,a=Iu){if(a===Iu){const c=new Error(`NullInjectorError: No provider for ${de(s)}!`);throw c.name="NullInjectorError",c}return a}}const gC=new Zn("Set Injector scope."),Ql={},SI={};let Ep;function mC(){return void 0===Ep&&(Ep=new xI),Ep}function Jl(o,s=null,a=null,c){const h=RI(o,s,a,c);return h._resolveInjectorDefTypes(),h}function RI(o,s=null,a=null,c){return new x_(o,a,s||mC(),c)}class x_{constructor(s,a,c,h=null){this.parent=c,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const f=[];a&&oo(a,C=>this.processProvider(C,s,a)),oo([s],C=>this.processInjectorType(C,[],f)),this.records.set(pC,qu(void 0,this));const _=this.records.get(gC);this.scope=null!=_?_.value:null,this.source=h||("object"==typeof s?null:de(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,a=Iu,c=ne.Default){this.assertNotDestroyed();const h=Tu(this),f=at(void 0);try{if(!(c&ne.SkipSelf)){let C=this.records.get(s);if(void 0===C){const E=function yC(o){return"function"==typeof o||"object"==typeof o&&o instanceof Zn}(s)&&Jn(s);C=E&&this.injectableDefInScope(E)?qu(Qt(s),Ql):null,this.records.set(s,C)}if(null!=C)return this.hydrate(s,C)}return(c&ne.Self?mC():this.parent).get(s,a=c&ne.Optional&&a===Iu?null:a)}catch(_){if("NullInjectorError"===_.name){if((_[Ps]=_[Ps]||[]).unshift(de(s)),h)throw _;return function xl(o,s,a,c){const h=o[Ps];throw s[Ad]&&h.unshift(s[Ad]),o.message=function bm(o,s,a,c=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.substr(2):o;let h=de(s);if(Array.isArray(s))h=s.map(de).join(" -> ");else if("object"==typeof s){let f=[];for(let _ in s)if(s.hasOwnProperty(_)){let C=s[_];f.push(_+":"+("string"==typeof C?JSON.stringify(C):de(C)))}h=`{${f.join(", ")}}`}return`${a}${c?"("+c+")":""}[${h}]: ${o.replace(Pd,"\n  ")}`}("\n"+o.message,h,a,c),o.ngTokenPath=h,o[Ps]=null,o}(_,s,"R3InjectorError",this.source)}throw _}finally{at(f),Tu(h)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((c,h)=>s.push(de(h))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(s,a,c){if(!(s=oe(s)))return!1;let h=lr(s);const f=null==h&&s.ngModule||void 0,_=void 0===f?s:f,C=-1!==c.indexOf(_);if(void 0!==f&&(h=lr(f)),null==h)return!1;if(null!=h.imports&&!C){let M;c.push(_);try{oo(h.imports,k=>{this.processInjectorType(k,a,c)&&(void 0===M&&(M=[]),M.push(k))})}finally{}if(void 0!==M)for(let k=0;k<M.length;k++){const{ngModule:z,providers:ue}=M[k];oo(ue,Ie=>this.processProvider(Ie,z,ue||xt))}}this.injectorDefTypes.add(_);const E=xi(_)||(()=>new _);this.records.set(_,qu(E,Ql));const I=h.providers;if(null!=I&&!C){const M=s;oo(I,k=>this.processProvider(k,M,I))}return void 0!==f&&void 0!==s.providers}processProvider(s,a,c){let h=Xl(s=oe(s))?s:oe(s&&s.provide);const f=function Na(o,s,a){return S_(o)?qu(void 0,o.useValue):qu(ka(o),Ql)}(s);if(Xl(s)||!0!==s.multi)this.records.get(h);else{let _=this.records.get(h);_||(_=qu(void 0,Ql,!0),_.factory=()=>Wi(_.multi),this.records.set(h,_)),h=s,_.multi.push(s)}this.records.set(h,f)}hydrate(s,a){return a.value===Ql&&(a.value=SI,a.value=a.factory()),"object"==typeof a.value&&a.value&&function _C(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(a.value)&&this.onDestroy.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=oe(s.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function Qt(o){const s=Jn(o),a=null!==s?s.factory:xi(o);if(null!==a)return a;if(o instanceof Zn)throw new Error(`Token ${de(o)} is missing a \u0275prov definition.`);if(o instanceof Function)return function Sr(o){const s=o.length;if(s>0){const c=function Yo(o,s){const a=[];for(let c=0;c<o;c++)a.push(s);return a}(s,"?");throw new Error(`Can't resolve all parameters for ${de(o)}: (${c.join(", ")}).`)}const a=function vn(o){const s=o&&(o[xn]||o[cr]);if(s){const a=function $n(o){if(o.hasOwnProperty("name"))return o.name;const s=(""+o).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),s}return null}(o);return null!==a?()=>a.factory(o):()=>new o}(o);throw new Error("unreachable")}function ka(o,s,a){let c;if(Xl(o)){const h=oe(o);return xi(h)||Qt(h)}if(S_(o))c=()=>oe(o.useValue);else if(function NI(o){return!(!o||!o.useFactory)}(o))c=()=>o.useFactory(...Wi(o.deps||[]));else if(function fi(o){return!(!o||!o.useExisting)}(o))c=()=>Rt(oe(o.useExisting));else{const h=oe(o&&(o.useClass||o.provide));if(!function FI(o){return!!o.deps}(o))return xi(h)||Qt(h);c=()=>new h(...Wi(o.deps))}return c}function qu(o,s,a=!1){return{factory:o,value:s,multi:a?[]:void 0}}function S_(o){return null!==o&&"object"==typeof o&&xd in o}function Xl(o){return"function"==typeof o}let $r=(()=>{class o{static create(a,c){if(Array.isArray(a))return Jl({name:""},c,a,"");{const h=a.name??"";return Jl({name:h},a.parent,a.providers,h)}}}return o.THROW_IF_NOT_FOUND=Iu,o.NULL=new xI,o.\u0275prov=gt({token:o,providedIn:"any",factory:()=>Rt(pC)}),o.__NG_ELEMENT_ID__=-1,o})();function MC(o,s){Mf(Sm(o)[1],fr())}function Mp(o){let s=function Dp(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),a=!0;const c=[o];for(;s;){let h;if(br(o))h=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Error("Directives cannot inherit Components");h=s.\u0275dir}if(h){if(a){c.push(h);const _=o;_.inputs=nh(o.inputs),_.declaredInputs=nh(o.declaredInputs),_.outputs=nh(o.outputs);const C=h.hostBindings;C&&oP(o,C);const E=h.viewQuery,I=h.contentQueries;if(E&&HI(o,E),I&&iP(o,I),fe(o.inputs,h.inputs),fe(o.declaredInputs,h.declaredInputs),fe(o.outputs,h.outputs),br(h)&&h.data.animation){const M=o.data;M.animation=(M.animation||[]).concat(h.data.animation)}}const f=h.features;if(f)for(let _=0;_<f.length;_++){const C=f[_];C&&C.ngInherit&&C(o),C===Mp&&(a=!1)}}s=Object.getPrototypeOf(s)}!function GI(o){let s=0,a=null;for(let c=o.length-1;c>=0;c--){const h=o[c];h.hostVars=s+=h.hostVars,h.hostAttrs=qi(h.hostAttrs,a=qi(a,h.hostAttrs))}}(c)}function nh(o){return o===qt?{}:o===xt?[]:o}function HI(o,s){const a=o.viewQuery;o.viewQuery=a?(c,h)=>{s(c,h),a(c,h)}:s}function iP(o,s){const a=o.contentQueries;o.contentQueries=a?(c,h,f)=>{s(c,h,f),a(c,h,f)}:s}function oP(o,s){const a=o.hostBindings;o.hostBindings=a?(c,h)=>{s(c,h),a(c,h)}:s}let L_=null;function co(){if(!L_){const o=jt.Symbol;if(o&&o.iterator)L_=o.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<s.length;++a){const c=s[a];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(L_=c)}}}return L_}function Fa(o){return!!V_(o)&&(Array.isArray(o)||!(o instanceof Map)&&co()in o)}function V_(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function Po(o,s,a){return o[s]=a}function qr(o,s,a){return!Object.is(o[s],a)&&(o[s]=a,!0)}function ht(o,s,a,c){const h=qr(o,s,a);return qr(o,s+1,c)||h}function ho(o,s,a,c){const h=Be();return qr(h,Go(),s)&&(yn(),function Oo(o,s,a,c,h,f){const _=Ur(o,s);D_(s[11],_,f,o.value,a,c,h)}(ir(),h,o,s,a,c)),ho}function rh(o,s,a,c){return qr(o,Go(),a)?s+le(a)+c:nn}function AC(o,s,a,c,h,f,_,C){const E=Be(),I=yn(),M=o+20,k=I.firstCreatePass?function nT(o,s,a,c,h,f,_,C,E){const I=s.consts,M=Zl(s,o,4,_||null,wi(I,C));w_(s,a,M,wi(I,E)),Mf(s,M);const k=M.tViews=Sa(2,M,c,h,f,s.directiveRegistry,s.pipeRegistry,null,s.schemas,I);return null!==s.queries&&(s.queries.template(s,M),k.queries=s.queries.embeddedTView(M)),M}(M,I,E,s,a,c,h,f,_):I.data[M];ui(k,!1);const z=E[11].createComment("");up(I,E,z,k),hi(z,E),Kl(E,E[M]=aC(z,E,z,k)),Bo(k)&&Gu(I,E,k),null!=_&&Xd(E,k,C)}function dc(o,s=ne.Default){const a=Be();return null===a?Rt(o,s):fa(fr(),a,oe(o),s)}function Pp(){throw new Error("invalid")}function Z_(o,s,a){const c=Be();return qr(c,Go(),s)&&Ni(yn(),ir(),c,o,s,c[11],a,!1),Z_}function W_(o,s,a,c,h){const _=h?"class":"style";hC(o,a,s.inputs[_],_,c)}function hc(o,s,a,c){const h=Be(),f=yn(),_=20+o,C=h[11],E=h[_]=$m(C,s,function AE(){return Vt.lFrame.currentNamespace}()),I=f.firstCreatePass?function gT(o,s,a,c,h,f,_){const C=s.consts,I=Zl(s,o,2,h,wi(C,f));return w_(s,a,I,wi(C,_)),null!==I.attrs&&wp(I,I.attrs,!1),null!==I.mergedAttrs&&wp(I,I.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,I),I}(_,f,h,0,s,a,c):f.data[_];ui(I,!0);const M=I.mergedAttrs;null!==M&&Pn(C,E,M);const k=I.classes;null!==k&&e_(C,E,k);const z=I.styles;null!==z&&R0(C,E,z),64!=(64&I.flags)&&up(f,h,E,I),0===function ra(){return Vt.lFrame.elementDepthCount}()&&hi(E,h),function fu(){Vt.lFrame.elementDepthCount++}(),Bo(I)&&(Gu(f,h,I),function ju(o,s,a){if(ys(s)){const h=s.directiveEnd;for(let f=s.directiveStart;f<h;f++){const _=o.data[f];_.contentQueries&&_.contentQueries(1,a[f],f)}}}(f,I,h)),null!==c&&Xd(h,I)}function uh(){let o=fr();fd()?function ia(){Vt.lFrame.isParent=!1}():(o=o.parent,ui(o,!1));const s=o;!function pu(){Vt.lFrame.elementDepthCount--}();const a=yn();a.firstCreatePass&&(Mf(a,o),ys(o)&&a.queries.elementEnd(o)),null!=s.classesWithoutHost&&function ua(o){return 0!=(16&o.flags)}(s)&&W_(a,s,Be(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function Af(o){return 0!=(32&o.flags)}(s)&&W_(a,s,Be(),s.stylesWithoutHost,!1)}function Ap(o,s,a,c){hc(o,s,a,c),uh()}function zC(){return Be()}function Y_(o){return!!o&&"function"==typeof o.then}function qC(o){return!!o&&"function"==typeof o.subscribe}const ZC=qC;function Q_(o,s,a,c){const h=Be(),f=yn(),_=fr();return function KC(o,s,a,c,h,f,_,C){const E=Bo(c),M=o.firstCreatePass&&P_(o),k=s[8],z=zu(s);let ue=!0;if(3&c.type||C){const nt=Ur(c,s),yt=C?C(nt):nt,Le=z.length,Ot=C?hn=>C(nr(hn[c.index])):c.index;if(tr(a)){let hn=null;if(!C&&E&&(hn=function mT(o,s,a,c){const h=o.cleanup;if(null!=h)for(let f=0;f<h.length-1;f+=2){const _=h[f];if(_===a&&h[f+1]===c){const C=s[7],E=h[f+2];return C.length>E?C[E]:null}"string"==typeof _&&(f+=2)}return null}(o,s,h,c.index)),null!==hn)(hn.__ngLastListenerFn__||hn).__ngNextListenerFn__=f,hn.__ngLastListenerFn__=f,ue=!1;else{f=J_(c,s,k,f,!1);const An=a.listen(yt,h,f);z.push(f,An),M&&M.push(h,Ot,Le,Le+1)}}else f=J_(c,s,k,f,!0),yt.addEventListener(h,f,_),z.push(f),M&&M.push(h,Ot,Le,_)}else f=J_(c,s,k,f,!1);const Ie=c.outputs;let We;if(ue&&null!==Ie&&(We=Ie[h])){const nt=We.length;if(nt)for(let yt=0;yt<nt;yt+=2){const Vi=s[We[yt]][We[yt+1]].subscribe(f),sl=z.length;z.push(f,Vi),M&&M.push(h,c.index,sl,-(sl+1))}}}(f,h,h[11],_,o,s,!!a,c),Q_}function YC(o,s,a,c){try{return!1!==a(c)}catch(h){return A_(o,h),!1}}function J_(o,s,a,c,h){return function f(_){if(_===Function)return c;const C=2&o.flags?Xr(o.index,s):s;0==(32&s[2])&&O_(C);let E=YC(s,0,c,_),I=f.__ngNextListenerFn__;for(;I;)E=YC(s,0,I,_)&&E,I=I.__ngNextListenerFn__;return h&&!1===E&&(_.preventDefault(),_.returnValue=!1),E}}function lh(o=1){return function h0(o){return(Vt.lFrame.contextLView=function Tf(o,s){for(;o>0;)s=s[15],o--;return s}(o,Vt.lFrame.contextLView))[8]}(o)}function ey(o,s,a){return Sp(o,"",s,"",a),ey}function Sp(o,s,a,c,h){const f=Be(),_=rh(f,s,a,c);return _!==nn&&Ni(yn(),ir(),f,o,_,f[11],h,!1),Sp}function yT(o,s,a,c,h){const f=o[a+1],_=null===s;let C=c?lo(f):rs(f),E=!1;for(;0!==C&&(!1===E||_);){const M=o[C+1];vT(o[C],s)&&(E=!0,o[C+1]=c?Yd(M):Kd(M)),C=c?lo(M):rs(M)}E&&(o[a+1]=c?Kd(f):Yd(f))}function vT(o,s){return null===o||null==s||(Array.isArray(o)?o[1]:o)===s||!(!Array.isArray(o)||"string"!=typeof s)&&wo(o,s)>=0}function ib(o,s){return function So(o,s,a,c){const h=Be(),f=yn(),_=bo(2);f.firstUpdatePass&&function ly(o,s,a,c){const h=o.data;if(null===h[a+1]){const f=h[rr()],_=function uy(o,s){return s>=o.expandoStartIndex}(o,a);(function hb(o,s){return 0!=(o.flags&(s?16:32))})(f,c)&&null===s&&!_&&(s=!1),s=function ob(o,s,a,c){const h=function _d(o){const s=Vt.lFrame.currentDirectiveIndex;return-1===s?null:o[s]}(o);let f=c?s.residualClasses:s.residualStyles;if(null===h)0===(c?s.classBindings:s.styleBindings)&&(a=Np(a=ch(null,o,s,a,c),s.attrs,c),f=null);else{const _=s.directiveStylingLast;if(-1===_||o[_]!==h)if(a=ch(h,o,s,a,c),null===f){let E=function sb(o,s,a){const c=a?s.classBindings:s.styleBindings;if(0!==rs(c))return o[lo(c)]}(o,s,c);void 0!==E&&Array.isArray(E)&&(E=ch(null,o,s,E[1],c),E=Np(E,s.attrs,c),function ab(o,s,a,c){o[lo(a?s.classBindings:s.styleBindings)]=c}(o,s,c,E))}else f=function ub(o,s,a){let c;const h=s.directiveEnd;for(let f=1+s.directiveStylingLast;f<h;f++)c=Np(c,o[f].hostAttrs,a);return Np(c,s.attrs,a)}(o,s,c)}return void 0!==f&&(c?s.residualClasses=f:s.residualStyles=f),a}(h,f,s,c),function lP(o,s,a,c,h,f){let _=f?s.classBindings:s.styleBindings,C=lo(_),E=rs(_);o[c]=a;let M,I=!1;if(Array.isArray(a)){const k=a;M=k[1],(null===M||wo(k,M)>0)&&(I=!0)}else M=a;if(h)if(0!==E){const z=lo(o[C+1]);o[c+1]=Wd(z,C),0!==z&&(o[z+1]=dp(o[z+1],c)),o[C+1]=function H0(o,s){return 131071&o|s<<17}(o[C+1],c)}else o[c+1]=Wd(C,0),0!==C&&(o[C+1]=dp(o[C+1],c)),C=c;else o[c+1]=Wd(E,0),0===C?C=c:o[E+1]=dp(o[E+1],c),E=c;I&&(o[c+1]=Kd(o[c+1])),yT(o,M,c,!0),yT(o,M,c,!1),function sy(o,s,a,c,h){const f=h?o.residualClasses:o.residualStyles;null!=f&&"string"==typeof s&&wo(f,s)>=0&&(a[c+1]=Yd(a[c+1]))}(s,M,o,c,f),_=Wd(C,E),f?s.classBindings=_:s.styleBindings=_}(h,f,s,a,_,c)}}(f,o,_,c),s!==nn&&qr(h,_,s)&&function cb(o,s,a,c,h,f,_,C){if(!(3&s.type))return;const E=o.data,I=E[C+1];Zu(function o_(o){return 1==(1&o)}(I)?dh(E,s,a,h,rs(I),_):void 0)||(Zu(f)||function cp(o){return 2==(2&o)}(I)&&(f=dh(E,null,a,h,C,_)),function S0(o,s,a,c,h){const f=tr(o);if(s)h?f?o.addClass(a,c):a.classList.add(c):f?o.removeClass(a,c):a.classList.remove(c);else{let _=-1===c.indexOf("-")?void 0:ns.DashCase;if(null==h)f?o.removeStyle(a,c,_):a.style.removeProperty(c);else{const C="string"==typeof h&&h.endsWith("!important");C&&(h=h.slice(0,-10),_|=ns.Important),f?o.setStyle(a,c,h,_):a.style.setProperty(c,h,C?"important":"")}}}(c,_,lu(rr(),a),h,f))}(f,f.data[rr()],h,h[11],o,h[_+1]=function db(o,s){return null==o||("string"==typeof s?o+=s:"object"==typeof o&&(o=de(Eo(o)))),o}(s,a),c,_)}(o,s,null,!0),ib}function ch(o,s,a,c,h){let f=null;const _=a.directiveEnd;let C=a.directiveStylingLast;for(-1===C?C=a.directiveStart:C++;C<_&&(f=s[C],c=Np(c,f.hostAttrs,h),f!==o);)C++;return null!==o&&(a.directiveStylingLast=C),c}function Np(o,s,a){const c=a?1:2;let h=-1;if(null!==s)for(let f=0;f<s.length;f++){const _=s[f];"number"==typeof _?h=_:h===c&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),Ti(o,_,!!a||s[++f]))}return void 0===o?null:o}function dh(o,s,a,c,h,f){const _=null===s;let C;for(;h>0;){const E=o[h],I=Array.isArray(E),M=I?E[1]:E,k=null===M;let z=a[h+1];z===nn&&(z=k?xt:void 0);let ue=k?Qo(z,c):M===c?z:void 0;if(I&&!Zu(ue)&&(ue=Qo(E,c)),Zu(ue)&&(C=ue,_))return C;const Ie=o[h+1];h=_?lo(Ie):rs(Ie)}if(null!==s){let E=f?s.residualClasses:s.residualStyles;null!=E&&(C=Qo(E,c))}return C}function Zu(o){return void 0!==o}function TT(o,s=""){const a=Be(),c=yn(),h=o+20,f=c.firstCreatePass?Zl(c,h,1,s,null):c.data[h],_=a[h]=Bm(a[11],s);up(c,a,_,f),ui(f,!1)}function kp(o){return Fp("",o,""),kp}function Fp(o,s,a){const c=Be(),h=rh(c,o,s,a);return h!==nn&&os(c,rr(),h),Fp}function Ro(o,s,a,c,h){const f=Be(),_=function tc(o,s,a,c,h,f){const C=ht(o,zi(),a,h);return bo(2),C?s+le(a)+c+le(h)+f:nn}(f,o,s,a,c,h);return _!==nn&&os(f,rr(),_),Ro}const as=void 0;var _y=["en",[["a","p"],["AM","PM"],as],[["AM","PM"],as,as],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],as,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],as,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",as,"{1} 'at' {0}",as],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function my(o){const a=Math.floor(Math.abs(o)),c=o.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===c?1:5}];let Ua={};function yy(o){const s=function gh(o){return o.toLowerCase().replace(/_/g,"-")}(o);let a=bb(s);if(a)return a;const c=s.split("-")[0];if(a=bb(c),a)return a;if("en"===c)return _y;throw new Error(`Missing locale data for the locale "${o}".`)}function vy(o){return yy(o)[Ut.PluralCase]}function bb(o){return o in Ua||(Ua[o]=jt.ng&&jt.ng.common&&jt.ng.common.locales&&jt.ng.common.locales[o]),Ua[o]}var Ut=(()=>((Ut=Ut||{})[Ut.LocaleId=0]="LocaleId",Ut[Ut.DayPeriodsFormat=1]="DayPeriodsFormat",Ut[Ut.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ut[Ut.DaysFormat=3]="DaysFormat",Ut[Ut.DaysStandalone=4]="DaysStandalone",Ut[Ut.MonthsFormat=5]="MonthsFormat",Ut[Ut.MonthsStandalone=6]="MonthsStandalone",Ut[Ut.Eras=7]="Eras",Ut[Ut.FirstDayOfWeek=8]="FirstDayOfWeek",Ut[Ut.WeekendRange=9]="WeekendRange",Ut[Ut.DateFormat=10]="DateFormat",Ut[Ut.TimeFormat=11]="TimeFormat",Ut[Ut.DateTimeFormat=12]="DateTimeFormat",Ut[Ut.NumberSymbols=13]="NumberSymbols",Ut[Ut.NumberFormats=14]="NumberFormats",Ut[Ut.CurrencyCode=15]="CurrencyCode",Ut[Ut.CurrencySymbol=16]="CurrencySymbol",Ut[Ut.CurrencyName=17]="CurrencyName",Ut[Ut.Currencies=18]="Currencies",Ut[Ut.Directionality=19]="Directionality",Ut[Ut.PluralCase=20]="PluralCase",Ut[Ut.ExtraData=21]="ExtraData",Ut))();const ST=["zero","one","two","few","many"],Ku="en-US",mh={marker:"element"},_h={marker:"ICU"};var mr=(()=>((mr=mr||{})[mr.SHIFT=2]="SHIFT",mr[mr.APPEND_EAGERLY=1]="APPEND_EAGERLY",mr[mr.COMMENT=2]="COMMENT",mr))();let Gp=Ku;function Hp(o,s,a){const c=s.insertBeforeIndex,h=Array.isArray(c)?c[0]:c;return null===h?A0(o,0,a):nr(a[h])}function Iy(o,s,a,c,h){const f=s.insertBeforeIndex;if(Array.isArray(f)){let _=c,C=null;if(3&s.type||(C=_,_=h),null!==_&&0==(2&s.flags))for(let E=1;E<f.length;E++)Fu(o,_,a[f[E]],C,!1)}}function Ty(o,s){if(o.push(s),o.length>1)for(let a=o.length-2;a>=0;a--){const c=o[a];wb(c)||Eb(c,s)&&null===Ib(c)&&Dy(c,s.index)}}function wb(o){return!(64&o.type)}function Eb(o,s){return wb(s)||o.index>s.index}function Ib(o){const s=o.insertBeforeIndex;return Array.isArray(s)?s[0]:s}function Dy(o,s){const a=o.insertBeforeIndex;Array.isArray(a)?a[0]=s:(ap(Hp,Iy),o.insertBeforeIndex=s)}function gc(o,s){const a=o.data[s];return null===a||"string"==typeof a?null:a.hasOwnProperty("currentCaseLViewIndex")?a:a.value}function Oy(o,s,a){const c=Jd(o,a,64,null,null);return Ty(s,c),c}function mc(o,s){const a=s[o.currentCaseLViewIndex];return null===a?a:a<0?~a:a}function jr(o){return o>>>17}function Kr(o){return(131070&o)>>>1}let vh=0,Ch=0;function Ay(o,s,a,c){const h=a[11];let _,f=null;for(let C=0;C<s.length;C++){const E=s[C];if("string"==typeof E){const I=s[++C];null===a[I]&&(a[I]=Bm(h,E))}else if("number"==typeof E)switch(1&E){case 0:const I=jr(E);let M,k;if(null===f&&(f=I,_=sp(h,c)),I===f?(M=c,k=_):(M=null,k=nr(a[I])),null!==k){const We=Kr(E);Fu(h,k,a[We],M,!1);const yt=gc(o,We);if(null!==yt&&"object"==typeof yt){const Le=mc(yt,a);null!==Le&&Ay(o,yt.create[Le],a,a[yt.anchorIdx])}}break;case 1:const ue=s[++C],Ie=s[++C];D_(h,lu(E>>>1,a),null,null,ue,Ie,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${E}"`)}else switch(E){case _h:const I=s[++C],M=s[++C];null===a[M]&&hi(a[M]=Er(h,I),a);break;case mh:const k=s[++C],z=s[++C];null===a[z]&&hi(a[z]=$m(h,k,null),a)}}}function zp(o,s,a,c,h){for(let f=0;f<a.length;f++){const _=a[f],C=a[++f];if(_&h){let E="";for(let I=f+1;I<=f+C;I++){const M=a[I];if("string"==typeof M)E+=M;else if("number"==typeof M)if(M<0)E+=le(s[c-M]);else{const k=M>>>2;switch(3&M){case 1:const z=a[++I],ue=a[++I],Ie=o.data[k];"string"==typeof Ie?D_(s[11],s[k],null,Ie,z,E,ue):Ni(o,Ie,s,z,E,s[11],ue,!1);break;case 0:const We=s[k];null!==We&&O0(s[11],We,E);break;case 2:xy(o,gc(o,k),s,E);break;case 3:Db(o,gc(o,k),c,s)}}}}else{const E=a[f+1];if(E>0&&3==(3&E)){const M=gc(o,E>>>2);s[M.currentCaseLViewIndex]<0&&Db(o,M,c,s)}}f+=C}}function Db(o,s,a,c){let h=c[s.currentCaseLViewIndex];if(null!==h){let f=vh;h<0&&(h=c[s.currentCaseLViewIndex]=~h,f=-1),zp(o,c,s.update[h],a,f)}}function xy(o,s,a,c){const h=function LT(o,s){let a=o.cases.indexOf(s);if(-1===a)switch(o.type){case 1:{const c=function RT(o,s){const a=vy(s)(parseInt(o,10)),c=ST[a];return void 0!==c?c:"other"}(s,function Ey(){return Gp}());a=o.cases.indexOf(c),-1===a&&"other"!==c&&(a=o.cases.indexOf("other"));break}case 0:a=o.cases.indexOf("other")}return-1===a?null:a}(s,c);if(mc(s,a)!==h&&(Sy(o,s,a),a[s.currentCaseLViewIndex]=null===h?null:~h,null!==h)){const _=a[s.anchorIdx];_&&Ay(o,s.create[h],a,_)}}function Sy(o,s,a){let c=mc(s,a);if(null!==c){const h=s.remove[c];for(let f=0;f<h.length;f++){const _=h[f];if(_>0){const C=lu(_,a);null!==C&&aI(a[11],C)}else Sy(o,gc(o,~_),a)}}}function qp(){const o=[];let a,c,s=-1;function f(C,E){s=0;const I=mc(C,E);c=null!==I?C.remove[I]:xt}function _(){if(s<c.length){const C=c[s++];return C>0?a[C]:(o.push(s,c),f(a[1].data[~C],a),_())}return 0===o.length?null:(c=o.pop(),s=o.pop(),_())}return function h(C,E){for(a=E;o.length;)o.pop();return f(C.value,E),_}}const bh=/\ufffd(\d+):?\d*\ufffd/gi,Ab=/\ufffd(\d+)\ufffd/,wh=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,UT=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,yc=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,BT=/\uE500/g;function Ry(o,s,a,c,h,f,_){const C=Uu(o,c,1,null);let E=C<<mr.SHIFT,I=bs();s===I&&(I=null),null===I&&(E|=mr.APPEND_EAGERLY),_&&(E|=mr.COMMENT,function nI(o){void 0===Fm&&(Fm=o())}(qp)),h.push(E,null===f?"":f);const M=Jd(o,C,_?32:1,null===f?"":f,null);Ty(a,M);const k=M.index;return ui(M,!1),null!==I&&s!==I&&function My(o,s){let a=o.insertBeforeIndex;null===a?(ap(Hp,Iy),a=o.insertBeforeIndex=[null,s]):(function R(o,s,a){o!=s&&pt(a,o,s,"==")}(Array.isArray(a),!0,"Expecting array here"),a.push(s))}(I,k),M}function Zp(o,s,a,c,h,f,_){const C=_.match(bh),E=Ry(o,s,a,f,c,C?null:_,!1);C&&us(h,_,E.index,null,0,null)}function us(o,s,a,c,h,f){const _=o.length,C=_+1;o.push(null,null);const E=_+2,I=s.split(bh);let M=0;for(let k=0;k<I.length;k++){const z=I[k];if(1&k){const ue=h+parseInt(z,10);o.push(-1-ue),M|=mi(ue)}else""!==z&&o.push(z)}return o.push(a<<2|(c?1:0)),c&&o.push(c,f),o[_]=M,o[C]=o.length-E,M}function mi(o){return 1<<Math.min(o,31)}function vc(o){let s,f,a="",c=0,h=!1;for(;null!==(s=UT.exec(o));)h?s[0]===`\ufffd/*${f}\ufffd`&&(c=s.index,h=!1):(a+=o.substring(c,s.index+s[0].length),f=s[1],h=!0);return a+=o.substr(c),a}function Ny(o,s,a,c,h,f){let _=0;const C={type:h.type,currentCaseLViewIndex:Uu(o,s,1,null),anchorIdx:f,cases:[],create:[],remove:[],update:[]};(function Ly(o,s,a){o.push(mi(s.mainBinding),2,-1-s.mainBinding,a<<2|2)})(a,h,f),function NT(o,s,a){const c=o.data[s];null===c?o.data[s]=a:c.value=a}(o,f,C);const E=h.values;for(let I=0;I<E.length;I++){const M=E[I],k=[];for(let z=0;z<M.length;z++){const ue=M[z];if("string"!=typeof ue){const Ie=k.push(ue)-1;M[z]=`\x3c!--\ufffd${Ie}\ufffd--\x3e`}}_=Nb(o,C,s,a,c,h.cases[I],M.join(""),k)|_}_&&function Qp(o,s,a){o.push(s,1,a<<2|3)}(a,_,f)}function ky(o){const s=[],a=[];let c=1,h=0;const f=Kp(o=o.replace(wh,function(_,C,E){return c="select"===E?0:1,h=parseInt(C.substr(1),10),""}));for(let _=0;_<f.length;){let C=f[_++].trim();1===c&&(C=C.replace(/\s*(?:=)?(\w+)\s*/,"$1")),C.length&&s.push(C);const E=Kp(f[_++]);s.length>a.length&&a.push(E)}return{type:c,mainBinding:h,cases:s,values:a}}function Kp(o){if(!o)return[];let s=0;const a=[],c=[],h=/[{}]/g;let f;for(h.lastIndex=0;f=h.exec(o);){const C=f.index;if("}"==f[0]){if(a.pop(),0==a.length){const E=o.substring(s,C);wh.test(E)?c.push(ky(E)):c.push(E),s=C+1}}else{if(0==a.length){const E=o.substring(s,C);c.push(E),s=C+1}a.push("{")}}const _=o.substring(s);return c.push(_),c}function Nb(o,s,a,c,h,f,_,C){const E=[],I=[],M=[];s.cases.push(f),s.create.push(E),s.remove.push(I),s.update.push(M);const z=Ia(yl()).getInertBodyElement(_),ue=Su(z)||z;return ue?Cc(o,s,a,c,E,I,M,ue,h,C,0):0}function Cc(o,s,a,c,h,f,_,C,E,I,M){let k=0,z=C.firstChild;for(;z;){const ue=Uu(o,a,1,null);switch(z.nodeType){case Node.ELEMENT_NODE:const Ie=z,We=Ie.tagName.toLowerCase();if(bt.hasOwnProperty(We)){Qu(h,mh,We,E,ue),o.data[ue]=We;const Ot=Ie.attributes;for(let hn=0;hn<Ot.length;hn++){const An=Ot.item(hn),Vi=An.name.toLowerCase();An.value.match(bh)?To.hasOwnProperty(Vi)&&us(_,An.value,ue,An.name,0,rn[Vi]?Fs:Bn[Vi]?v:null):kb(h,ue,An)}k=Cc(o,s,a,c,h,f,_,z,ue,I,M+1)|k,Yp(f,ue,M)}break;case Node.TEXT_NODE:const nt=z.textContent||"",yt=nt.match(bh);Qu(h,null,yt?"":nt,E,ue),Yp(f,ue,M),yt&&(k=us(_,nt,ue,null,0,null)|k);break;case Node.COMMENT_NODE:const Le=Ab.exec(z.textContent||"");if(Le){const hn=I[parseInt(Le[1],10)];Qu(h,_h,"",E,ue),Ny(o,a,c,E,hn,ue),Fy(f,ue,M)}}z=z.nextSibling}return k}function Yp(o,s,a){0===a&&o.push(s)}function Fy(o,s,a){0===a&&(o.push(~s),o.push(s))}function Qu(o,s,a,c,h){null!==s&&o.push(s),o.push(a,h,function Py(o,s,a){return o|s<<17|a<<1}(0,c,h))}function kb(o,s,a){o.push(s<<1|1,a.name,a.value)}const Vy=/\[(\ufffd.+?\ufffd?)\]/,Jp=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,Uy=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,Lb=/{([A-Z0-9_]+)}/g,Vb=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,Ub=/\/\*/,jT=/\d+\:(\d+)/;function Xp(o,s,a=-1){const c=yn(),h=Be(),f=20+o,_=wi(c.consts,s),C=bs();c.firstCreatePass&&function Yu(o,s,a,c,h,f){const _=bs(),C=[],E=[],I=[[]];h=function Wp(o,s){if(function Rb(o){return-1===o}(s))return vc(o);{const a=o.indexOf(`:${s}\ufffd`)+2+s.toString().length,c=o.search(new RegExp(`\ufffd\\/\\*\\d+:${s}\ufffd`));return vc(o.substring(a,c))}}(h,f);const M=function $T(o){return o.replace(BT," ")}(h).split(yc);for(let k=0;k<M.length;k++){let z=M[k];if(0==(1&k)){const ue=Kp(z);for(let Ie=0;Ie<ue.length;Ie++){let We=ue[Ie];if(0==(1&Ie)){const nt=We;""!==nt&&Zp(o,_,I[0],C,E,a,nt)}else{const nt=We;if("object"!=typeof nt)throw new Error(`Unable to parse ICU expression in "${h}" message.`);Ny(o,a,E,s,nt,Ry(o,_,I[0],a,C,"",!0).index)}}}else{const ue=47===z.charCodeAt(0),We=(z.charCodeAt(ue?1:0),20+Number.parseInt(z.substring(ue?2:1)));if(ue)I.shift(),ui(bs(),!1);else{const nt=Oy(o,I[0],We);I.unshift([]),ui(nt,!0)}}}o.data[c]={create:C,update:E}}(c,null===C?0:C.index,h,f,_,a);const E=c.data[f],M=Zm(c,C===h[6]?null:C,h);(function FT(o,s,a,c){const h=o[11];for(let f=0;f<s.length;f++){const _=s[f++],C=s[f],E=(_&mr.COMMENT)===mr.COMMENT,I=(_&mr.APPEND_EAGERLY)===mr.APPEND_EAGERLY,M=_>>>mr.SHIFT;let k=o[M];null===k&&(k=o[M]=E?h.createComment(C):Bm(h,C)),I&&null!==a&&Fu(h,a,k,c,!1)}})(h,E.create,M,C&&8&C.type?h[C.index]:null),bf(!0)}function bc(){bf(!1)}function wc(o,s,a){Xp(o,s,a),bc()}function Th(o){return function Tb(o){o&&(vh|=1<<Math.min(Ch,31)),Ch++}(qr(Be(),Go(),o)),Th}function Bb(o){!function kT(o,s,a){if(Ch>0){const c=o.data[a];zp(o,s,Array.isArray(c)?c:c.update,zi()-Ch-1,vh)}vh=0,Ch=0}(yn(),Be(),o+20)}function $b(o,s={}){return function Ih(o,s={}){let a=o;if(Vy.test(o)){const c={},h=[0];a=a.replace(Jp,(f,_,C)=>{const E=_||C,I=c[E]||[];if(I.length||(E.split("|").forEach(We=>{const nt=We.match(jT),yt=nt?parseInt(nt[1],10):0,Le=Ub.test(We);I.push([yt,Le,We])}),c[E]=I),!I.length)throw new Error(`i18n postprocess: unmatched placeholder - ${E}`);const M=h[h.length-1];let k=0;for(let We=0;We<I.length;We++)if(I[We][0]===M){k=We;break}const[z,ue,Ie]=I[k];return ue?h.pop():M!==z&&h.push(z),I.splice(k,1),Ie})}return Object.keys(s).length&&(a=a.replace(Uy,(c,h,f,_,C,E)=>s.hasOwnProperty(f)?`${h}${s[f]}${E}`:c),a=a.replace(Lb,(c,h)=>s.hasOwnProperty(h)?s[h]:c),a=a.replace(Vb,(c,h)=>{if(s.hasOwnProperty(h)){const f=s[h];if(!f.length)throw new Error(`i18n postprocess: unmatched ICU - ${c} with key: ${h}`);return f.shift()}return c})),a}(o,s)}function eg(o,s,a,c,h){if(o=oe(o),Array.isArray(o))for(let f=0;f<o.length;f++)eg(o[f],s,a,c,h);else{const f=yn(),_=Be();let C=Xl(o)?o:oe(o.provide),E=ka(o);const I=fr(),M=1048575&I.providerIndexes,k=I.directiveStart,z=I.providerIndexes>>20;if(Xl(o)||!o.multi){const ue=new wl(E,h,dc),Ie=ko(C,s,h?M:M+z,k);-1===Ie?(Zo(qo(I,_),f,C),By(f,o,s.length),s.push(C),I.directiveStart++,I.directiveEnd++,h&&(I.providerIndexes+=1048576),a.push(ue),_.push(ue)):(a[Ie]=ue,_[Ie]=ue)}else{const ue=ko(C,s,M+z,k),Ie=ko(C,s,M,M+z),We=ue>=0&&a[ue],nt=Ie>=0&&a[Ie];if(h&&!nt||!h&&!We){Zo(qo(I,_),f,C);const yt=function or(o,s,a,c,h){const f=new wl(o,a,dc);return f.multi=[],f.index=s,f.componentProviders=0,Ba(f,h,c&&!a),f}(h?ng:tg,a.length,h,c,E);!h&&nt&&(a[Ie].providerFactory=yt),By(f,o,s.length,0),s.push(C),I.directiveStart++,I.directiveEnd++,h&&(I.providerIndexes+=1048576),a.push(yt),_.push(yt)}else By(f,o,ue>-1?ue:Ie,Ba(a[h?Ie:ue],E,!h&&c));!h&&c&&nt&&a[Ie].componentProviders++}}}function By(o,s,a,c){const h=Xl(s),f=function kI(o){return!!o.useClass}(s);if(h||f){const E=(f?oe(s.useClass):s).prototype.ngOnDestroy;if(E){const I=o.destroyHooks||(o.destroyHooks=[]);if(!h&&s.multi){const M=I.indexOf(a);-1===M?I.push(a,[c,E]):I[M+1].push(c,E)}else I.push(a,E)}}}function Ba(o,s,a){return a&&o.componentProviders++,o.multi.push(s)-1}function ko(o,s,a,c){for(let h=a;h<c;h++)if(s[h]===o)return h;return-1}function tg(o,s,a,c){return rg(this.multi,[])}function ng(o,s,a,c){const h=this.multi;let f;if(this.providerFactory){const _=this.providerFactory.componentProviders,C=pa(a,a[1],this.providerFactory.index,c);f=C.slice(0,_),rg(h,f);for(let E=_;E<C.length;E++)f.push(C[E])}else f=[],rg(h,f);return f}function rg(o,s){for(let a=0;a<o.length;a++)s.push((0,o[a])());return s}function Dh(o,s=[]){return a=>{a.providersResolver=(c,h)=>function jb(o,s,a){const c=yn();if(c.firstCreatePass){const h=br(o);eg(a,c.data,c.blueprint,h,!0),eg(s,c.data,c.blueprint,h,!1)}}(c,h?h(o):o,s)}}class Ec{}class HT{resolveComponentFactory(s){throw function GT(o){const s=Error(`No component factory found for ${de(o)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=o,s}(s)}}let Oh=(()=>{class o{}return o.NULL=new HT,o})();function zT(){return ls(fr(),Be())}function ls(o,s){return new go(Ur(o,s))}let go=(()=>{class o{constructor(a){this.nativeElement=a}}return o.__NG_ELEMENT_ID__=zT,o})();function Gb(o){return o instanceof go?o.nativeElement:o}class jy{}let Ic=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function WT(){const o=Be(),a=Xr(fr().index,o);return function ZT(o){return o[11]}(ai(a)?a:o)}(),o})(),Hb=(()=>{class o{}return o.\u0275prov=gt({token:o,providedIn:"root",factory:()=>null}),o})();class zb{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const Gy=new zb("13.0.3"),ig={};function Tc(o,s,a,c,h=!1){for(;null!==a;){const f=s[a.index];if(null!==f&&c.push(nr(f)),Ar(f))for(let C=10;C<f.length;C++){const E=f[C],I=E[1].firstChild;null!==I&&Tc(E[1],E,I,c)}const _=a.type;if(8&_)Tc(o,s,a.child,c);else if(32&_){const C=zd(a,s);let E;for(;E=C();)c.push(E)}else if(16&_){const C=Qm(s,a);if(Array.isArray(C))c.push(...C);else{const E=qd(s[16]);Tc(E[1],E,C,c,!0)}}a=h?a.projectionNext:a.next}return c}class Xu{constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,a=s[1];return Tc(a,s,a.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(Ar(s)){const a=s[8],c=a?a.indexOf(this):-1;c>-1&&(Hm(s,c),Ko(a,c))}this._attachedToViewContainer=!1}zm(this._lView[1],this._lView)}onDestroy(s){_I(this._lView[1],this._lView,null,s)}markForCheck(){O_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Yl(this._lView[1],this._lView,this.context)}checkNoChanges(){!function cC(o,s,a){gu(!0);try{Yl(o,s,a)}finally{gu(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Us(o,s){$l(o,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=s}}class qb extends Xu{constructor(s){super(s),this._view=s}detectChanges(){lC(this._view)}checkNoChanges(){!function MI(o){gu(!0);try{lC(o)}finally{gu(!1)}}(this._view)}get context(){return null}}class Hy extends Oh{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=ot(s);return new Dc(a,this.ngModule)}}function og(o){const s=[];for(let a in o)o.hasOwnProperty(a)&&s.push({propName:o[a],templateName:a});return s}const YT=new Zn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>w0});class Dc extends Ec{constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function Zd(o){return o.map($0).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return og(this.componentDef.inputs)}get outputs(){return og(this.componentDef.outputs)}create(s,a,c,h){const f=(h=h||this.ngModule)?function QT(o,s){return{get:(a,c,h)=>{const f=o.get(a,ig,h);return f!==ig||c===ig?f:s.get(a,c,h)}}}(s,h.injector):s,_=f.get(jy,ad),C=f.get(Hb,null),E=_.createRenderer(null,this.componentDef),I=this.componentDef.selectors[0][0]||"div",M=c?function mI(o,s,a){if(tr(o))return o.selectRootElement(s,a===Xe.ShadowDom);let c="string"==typeof s?o.querySelector(s):s;return c.textContent="",c}(E,c,this.componentDef.encapsulation):$m(_.createRenderer(null,this.componentDef),I,function KT(o){const s=o.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(I)),k=this.componentDef.onPush?576:528,z=function DC(o,s){return{components:[],scheduler:o||w0,clean:OI,playerHandler:s||null,flags:0}}(),ue=Sa(0,null,null,1,0,null,null,null,null,null),Ie=$s(null,ue,z,k,null,null,_,E,C,f);let We,nt;vd(Ie);try{const yt=function jI(o,s,a,c,h,f){const _=a[1];a[20]=o;const E=Zl(_,20,2,"#host",null),I=E.mergedAttrs=s.hostAttrs;null!==I&&(wp(E,I,!0),null!==o&&(Pn(h,o,I),null!==E.classes&&e_(h,o,E.classes),null!==E.styles&&R0(h,o,E.styles)));const M=c.createRenderer(o,s),k=$s(a,Y0(s),null,s.onPush?64:16,a[20],E,c,M,f||null,null);return _.firstCreatePass&&(Zo(qo(E,a),_,s.type),oC(_,E),yp(E,a.length,1)),Kl(a,k),a[20]=k}(M,this.componentDef,Ie,_,E);if(M)if(c)Pn(E,M,["ng-version",Gy.full]);else{const{attrs:Le,classes:Ot}=function j0(o){const s=[],a=[];let c=1,h=2;for(;c<o.length;){let f=o[c];if("string"==typeof f)2===h?""!==f&&s.push(f,o[++c]):8===h&&a.push(f);else{if(!dn(h))break;h=f}c++}return{attrs:s,classes:a}}(this.componentDef.selectors[0]);Le&&Pn(E,M,Le),Ot&&Ot.length>0&&e_(E,M,Ot.join(" "))}if(nt=ta(ue,20),void 0!==a){const Le=nt.projection=[];for(let Ot=0;Ot<this.ngContentSelectors.length;Ot++){const hn=a[Ot];Le.push(null!=hn?Array.from(hn):null)}}We=function TC(o,s,a,c,h){const f=a[1],_=function tC(o,s,a){const c=fr();o.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),sC(o,c,s,Uu(o,s,1,null),a));const h=pa(s,o,c.directiveStart,c);hi(h,s);const f=Ur(c,s);return f&&hi(f,s),h}(f,a,s);if(c.components.push(_),o[8]=_,h&&h.forEach(E=>E(_,s)),s.contentQueries){const E=fr();s.contentQueries(1,_,E.directiveStart)}const C=fr();return!f.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(Ho(C.index),E_(a[1],C,0,C.directiveStart,C.directiveEnd,s),rC(s,_)),_}(yt,this.componentDef,Ie,z,[MC]),Bu(ue,Ie,null)}finally{bl()}return new qy(this.componentType,We,ls(nt,Ie),Ie,nt)}}class qy extends class Mh{}{constructor(s,a,c,h,f){super(),this.location=c,this._rootLView=h,this._tNode=f,this.instance=a,this.hostView=this.changeDetectorRef=new qb(h),this.componentType=s}get injector(){return new Ts(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}class cs{}class Mc{}const Oc=new Map;class Wy extends cs{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Hy(this);const c=Gt(s);this._bootstrapComponents=Do(c.bootstrap),this._r3Injector=RI(s,a,[{provide:cs,useValue:this},{provide:Oh,useValue:this.componentFactoryResolver}],de(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,a=$r.THROW_IF_NOT_FOUND,c=ne.Default){return s===$r||s===cs||s===pC?this:this._r3Injector.get(s,a,c)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class sg extends Mc{constructor(s){super(),this.moduleType=s,null!==Gt(s)&&function JT(o){const s=new Set;!function a(c){const h=Gt(c,!0),f=h.id;null!==f&&(function Zy(o,s,a){if(s&&s!==a)throw new Error(`Duplicate module registered for ${o} - ${de(s)} vs ${de(s.name)}`)}(f,Oc.get(f),c),Oc.set(f,c));const _=Do(h.imports);for(const C of _)s.has(C)||(s.add(C),a(C))}(o)}(s)}create(s){return new Wy(this.moduleType,s)}}function Ky(o,s,a,c){return xh(Be(),ei(),o,s,a,c)}function Pc(o,s){const a=o[s];return a===nn?void 0:a}function xh(o,s,a,c,h,f){const _=s+a;return qr(o,_,h)?Po(o,_+1,f?c.call(f,h):c(h)):Pc(o,_+1)}function ev(o,s){const a=yn();let c;const h=o+20;a.firstCreatePass?(c=function tv(o,s){if(s)for(let a=s.length-1;a>=0;a--){const c=s[a];if(o===c.name)return c}}(s,a.pipeRegistry),a.data[h]=c,c.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(h,c.onDestroy)):c=a.data[h];const f=c.factory||(c.factory=xi(c.type)),_=at(dc);try{const C=vu(!1),E=f();return vu(C),function Wr(o,s,a,c){a>=o.data.length&&(o.data[a]=null,o.blueprint[a]=null),s[a]=c}(a,Be(),h,E),E}finally{at(_)}}function lg(o,s,a){const c=o+20,h=Be(),f=Co(h,c);return Fo(h,c)?xh(h,ei(),s,f.transform,a,f):f.transform(a)}function nv(o,s,a,c){const h=o+20,f=Be(),_=Co(f,h);return Fo(f,h)?function Jb(o,s,a,c,h,f,_){const C=s+a;return ht(o,C,h,f)?Po(o,C+2,_?c.call(_,h,f):c(h,f)):Pc(o,C+2)}(f,ei(),s,_.transform,a,c,_):_.transform(a,c)}function Fo(o,s){return o[1].data[s].pure}function dg(o){return s=>{setTimeout(o,void 0,s)}}const Lo=class tw extends l.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,c){let h=s,f=a||(()=>null),_=c;if(s&&"object"==typeof s){const E=s;h=E.next?.bind(E),f=E.error?.bind(E),_=E.complete?.bind(E)}this.__isAsync&&(f=dg(f),h&&(h=dg(h)),_&&(_=dg(_)));const C=super.subscribe({next:h,error:f,complete:_});return s instanceof L.w0&&s.add(C),C}};function nw(){return this._results[co()]()}class xc{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=co(),c=xc.prototype;c[a]||(c[a]=nw)}get changes(){return this._changes||(this._changes=new Lo)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const c=this;c.dirty=!1;const h=ci(s);(this._changesDetected=!function ym(o,s,a){if(o.length!==s.length)return!1;for(let c=0;c<o.length;c++){let h=o[c],f=s[c];if(a&&(h=a(h),f=a(f)),f!==h)return!1}return!0}(c._results,h,a))&&(c._results=h,c.length=h.length,c.last=h[this.length-1],c.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let ii=(()=>{class o{}return o.__NG_ELEMENT_ID__=Sc,o})();const rw=ii,iw=class extends rw{constructor(s,a,c){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=c}createEmbeddedView(s){const a=this._declarationTContainer.tViews,c=$s(this._declarationLView,a,s,16,null,a.declTNode,null,null,null,null);c[17]=this._declarationLView[this._declarationTContainer.index];const f=this._declarationLView[19];return null!==f&&(c[19]=f.createEmbeddedView(a)),Bu(a,c,s),new Xu(c)}};function Sc(){return hg(fr(),Be())}function hg(o,s){return 4&o.type?new iw(s,o,ls(o,s)):null}let fg=(()=>{class o{}return o.__NG_ELEMENT_ID__=rv,o})();function rv(){return Sh(fr(),Be())}const eD=fg,ow=class extends eD{constructor(s,a,c){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=c}get element(){return ls(this._hostTNode,this._hostLView)}get injector(){return new Ts(this._hostTNode,this._hostLView)}get parentInjector(){const s=Cu(this._hostTNode,this._hostLView);if(Dr(s)){const a=da(s,this._hostLView),c=ca(s);return new Ts(a[1].data[c+8],a)}return new Ts(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=iv(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,a,c){const h=s.createEmbeddedView(a||{});return this.insert(h,c),h}createComponent(s,a,c,h,f){const _=s&&!function wu(o){return"function"==typeof o}(s);let C;if(_)C=a;else{const k=a||{};C=k.index,c=k.injector,h=k.projectableNodes,f=k.ngModuleRef}const E=_?s:new Dc(ot(s)),I=c||this.parentInjector;if(!f&&null==E.ngModule&&I){const k=I.get(cs,null);k&&(f=k)}const M=E.create(I,h,void 0,f);return this.insert(M.hostView,C),M}insert(s,a){const c=s._lView,h=c[1];if(function hu(o){return Ar(o[3])}(c)){const M=this.indexOf(s);if(-1!==M)this.detach(M);else{const k=c[3],z=new ow(k,k[6],k[3]);z.detach(z.indexOf(s))}}const f=this._adjustIndex(a),_=this._lContainer;!function rI(o,s,a,c){const h=10+c,f=a.length;c>0&&(a[h-1][4]=s),c<f-10?(s[4]=a[h],Ml(a,10+c,s)):(a.push(s),s[4]=null),s[3]=a;const _=s[17];null!==_&&a!==_&&function iI(o,s){const a=o[9];s[16]!==s[3][3][16]&&(o[2]=!0),null===a?o[9]=[s]:a.push(s)}(_,s);const C=s[19];null!==C&&C.insertView(o),s[2]|=128}(h,c,_,f);const C=Jm(f,_),E=c[11],I=sp(E,_[7]);return null!==I&&function jm(o,s,a,c,h,f){c[0]=h,c[6]=s,$l(o,c,a,1,h,f)}(h,_[6],E,c,I,C),s.attachToViewContainerRef(),Ml(ov(_),f,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=iv(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),c=Hm(this._lContainer,a);c&&(Ko(ov(this._lContainer),a),zm(c[1],c))}detach(s){const a=this._adjustIndex(s,-1),c=Hm(this._lContainer,a);return c&&null!=Ko(ov(this._lContainer),a)?new Xu(c):null}_adjustIndex(s,a=0){return s??this.length+a}};function iv(o){return o[8]}function ov(o){return o[8]||(o[8]=[])}function Sh(o,s){let a;const c=s[o.index];if(Ar(c))a=c;else{let h;if(8&o.type)h=nr(c);else{const f=s[11];h=f.createComment("");const _=Ur(o,s);Fu(f,sp(f,_),h,function sI(o,s){return tr(o)?o.nextSibling(s):s.nextSibling}(f,_),!1)}s[o.index]=a=aC(c,s,h,o),Kl(s,a)}return new ow(a,o,s)}class $a{constructor(s){this.queryList=s,this.matches=null}clone(){return new $a(this.queryList)}setDirty(){this.queryList.setDirty()}}class ds{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const c=null!==s.contentQueries?s.contentQueries[0]:a.length,h=[];for(let f=0;f<c;f++){const _=a.getByIndex(f);h.push(this.queries[_.indexInDeclarationView].clone())}return new ds(h)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==cw(s,a).matches&&this.queries[a].setDirty()}}class pg{constructor(s,a,c=null){this.predicate=s,this.flags=a,this.read=c}}class sv{constructor(s=[]){this.queries=s}elementStart(s,a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let c=0;c<this.length;c++){const h=null!==a?a.length:0,f=this.getByIndex(c).embeddedTView(s,h);f&&(f.indexInDeclarationView=c,null!==a?a.push(f):a=[f])}return null!==a?new sv(a):null}template(s,a){for(let c=0;c<this.queries.length;c++)this.queries[c].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class ze{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new ze(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let c=s.parent;for(;null!==c&&8&c.type&&c.index!==a;)c=c.parent;return a===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const c=this.metadata.predicate;if(Array.isArray(c))for(let h=0;h<c.length;h++){const f=c[h];this.matchTNodeWithReadOption(s,a,Mr(a,f)),this.matchTNodeWithReadOption(s,a,no(a,s,f,!1,!1))}else c===ii?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,no(a,s,c,!1,!1))}matchTNodeWithReadOption(s,a,c){if(null!==c){const h=this.metadata.read;if(null!==h)if(h===go||h===fg||h===ii&&4&a.type)this.addMatch(a.index,-2);else{const f=no(a,s,h,!1,!1);null!==f&&this.addMatch(a.index,f)}else this.addMatch(a.index,c)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function Mr(o,s){const a=o.localNames;if(null!==a)for(let c=0;c<a.length;c+=2)if(a[c]===s)return a[c+1];return null}function av(o,s,a,c){return-1===a?function el(o,s){return 11&o.type?ls(o,s):4&o.type?hg(o,s):null}(s,o):-2===a?function Et(o,s,a){return a===go?ls(s,o):a===ii?hg(s,o):a===fg?Sh(s,o):void 0}(o,s,c):pa(o,o[1],a,s)}function Zt(o,s,a,c){const h=s[19].queries[c];if(null===h.matches){const f=o.data,_=a.matches,C=[];for(let E=0;E<_.length;E+=2){const I=_[E];C.push(I<0?null:av(s,f[I],_[E+1],a.metadata.read))}h.matches=C}return h.matches}function uv(o,s,a,c){const h=o.queries.getByIndex(a),f=h.matches;if(null!==f){const _=Zt(o,s,h,a);for(let C=0;C<f.length;C+=2){const E=f[C];if(E>0)c.push(_[C/2]);else{const I=f[C+1],M=s[-E];for(let k=10;k<M.length;k++){const z=M[k];z[17]===z[3]&&uv(z[1],z,I,c)}if(null!==M[9]){const k=M[9];for(let z=0;z<k.length;z++){const ue=k[z];uv(ue[1],ue,I,c)}}}}}return c}function dt(o){const s=Be(),a=yn(),c=Cl();yd(c+1);const h=cw(a,c);if(o.dirty&&cu(s)===(2==(2&h.metadata.flags))){if(null===h.matches)o.reset([]);else{const f=h.crossesNgTemplate?uv(a,s,c,[]):Zt(a,s,h,c);o.reset(f,Gb),o.notifyOnChanges()}return!0}return!1}function ye(o,s,a){const c=yn();c.firstCreatePass&&(lw(c,new pg(o,s,a),-1),2==(2&s)&&(c.staticViewQueries=!0)),uw(c,Be(),s)}function $e(o,s,a,c){const h=yn();if(h.firstCreatePass){const f=fr();lw(h,new pg(s,a,c),f.index),function nD(o,s){const a=o.contentQueries||(o.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(o.queries.length-1,s)}(h,o),2==(2&a)&&(h.staticContentQueries=!0)}uw(h,Be(),a)}function Hr(){return function aw(o,s){return o[19].queries[s].queryList}(Be(),Cl())}function uw(o,s,a){const c=new xc(4==(4&a));_I(o,s,c,c.destroy),null===s[19]&&(s[19]=new ds),s[19].queries.push(new $a(c))}function lw(o,s,a){null===o.queries&&(o.queries=new sv),o.queries.track(new ze(s,a))}function cw(o,s){return o.queries.getByIndex(s)}function Ir(...o){}const hs=new Zn("Application Initializer");let Gn=(()=>{class o{constructor(a){this.appInits=a,this.resolve=Ir,this.reject=Ir,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,h)=>{this.resolve=c,this.reject=h})}runInitializers(){if(this.initialized)return;const a=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const f=this.appInits[h]();if(Y_(f))a.push(f);else if(ZC(f)){const _=new Promise((C,E)=>{f.subscribe({complete:C,error:E})});a.push(_)}}Promise.all(a).then(()=>{c()}).catch(h=>{this.reject(h)}),0===a.length&&c(),this.initialized=!0}}return o.\u0275fac=function(a){return new(a||o)(Rt(hs,8))},o.\u0275prov=gt({token:o,factory:o.\u0275fac}),o})();const za=new Zn("AppId"),Cw={provide:za,useFactory:function pv(){return`${rl()}${rl()}${rl()}`},deps:[]};function rl(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const bw=new Zn("Platform Initializer"),qs=new Zn("Platform ID"),Lc=new Zn("appBootstrapListener");let gv=(()=>{class o{log(a){console.log(a)}warn(a){console.warn(a)}}return o.\u0275fac=function(a){return new(a||o)},o.\u0275prov=gt({token:o,factory:o.\u0275fac}),o})();const Vo=new Zn("LocaleId"),Vh=new Zn("DefaultCurrencyCode");class qa{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let wg=(()=>{class o{compileModuleSync(a){return new sg(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const c=this.compileModuleSync(a),f=Do(Gt(a).declarations).reduce((_,C)=>{const E=ot(C);return E&&_.push(new Dc(E)),_},[]);return new qa(c,f)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return o.\u0275fac=function(a){return new(a||o)},o.\u0275prov=gt({token:o,factory:o.\u0275fac}),o})();const il=(()=>Promise.resolve(0))();function Uh(o){typeof Zone>"u"?il.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class Fi{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Lo(!1),this.onMicrotaskEmpty=new Lo(!1),this.onStable=new Lo(!1),this.onError=new Lo(!1),typeof Zone>"u")throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!c&&a,h.shouldCoalesceRunChangeDetection=c,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function Bh(){let o=jt.requestAnimationFrame,s=jt.cancelAnimationFrame;if(typeof Zone<"u"&&o&&s){const a=o[Zone.__symbol__("OriginalDelegate")];a&&(o=a);const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function Iw(o){const s=()=>{!function $h(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(jt,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,mv(o),o.isCheckStableRunning=!0,Bc(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),mv(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,c,h,f,_,C)=>{try{return Tw(o),a.invokeTask(h,f,_,C)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||o.shouldCoalesceRunChangeDetection)&&s(),_v(o)}},onInvoke:(a,c,h,f,_,C,E)=>{try{return Tw(o),a.invoke(h,f,_,C,E)}finally{o.shouldCoalesceRunChangeDetection&&s(),_v(o)}},onHasTask:(a,c,h,f)=>{a.hasTask(h,f),c===h&&("microTask"==f.change?(o._hasPendingMicrotasks=f.microTask,mv(o),Bc(o)):"macroTask"==f.change&&(o.hasPendingMacrotasks=f.macroTask))},onHandleError:(a,c,h,f)=>(a.handleError(h,f),o.runOutsideAngular(()=>o.onError.emit(f)),!1)})}(h)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Fi.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Fi.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,a,c){return this._inner.run(s,a,c)}runTask(s,a,c,h){const f=this._inner,_=f.scheduleEventTask("NgZoneEvent: "+h,s,Ew,Ir,Ir);try{return f.runTask(_,a,c)}finally{f.cancelTask(_)}}runGuarded(s,a,c){return this._inner.runGuarded(s,a,c)}runOutsideAngular(s){return this._outer.run(s)}}const Ew={};function Bc(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function mv(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function Tw(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function _v(o){o._nesting--,Bc(o)}class Dw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Lo,this.onMicrotaskEmpty=new Lo,this.onStable=new Lo,this.onError=new Lo}run(s,a,c){return s.apply(a,c)}runGuarded(s,a,c){return s.apply(a,c)}runOutsideAngular(s){return s()}runTask(s,a,c,h){return s.apply(a,c)}}let Yr=(()=>{class o{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Fi.assertNotInAngularZone(),Uh(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Uh(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,h){let f=-1;c&&c>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==f),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:f,updateCb:h})}whenStable(a,c,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,c,h){return[]}}return o.\u0275fac=function(a){return new(a||o)(Rt(Fi))},o.\u0275prov=gt({token:o,factory:o.\u0275fac}),o})(),yv=(()=>{class o{constructor(){this._applications=new Map,Eg.addToWindow(this)}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){return Eg.findTestabilityInTree(this,a,c)}}return o.\u0275fac=function(a){return new(a||o)},o.\u0275prov=gt({token:o,factory:o.\u0275fac}),o})();class Wn{addToWindow(s){}findTestabilityInTree(s,a,c){return null}}function uD(o){Eg=o}let si,Eg=new Wn;const jh=new Zn("AllowMultipleToken");class Mw{constructor(s,a){this.name=s,this.token=a}}function Qr(o,s,a=[]){const c=`Platform: ${s}`,h=new Zn(c);return(f=[])=>{let _=Pw();if(!_||_.injector.get(jh,!1))if(o)o(a.concat(f).concat({provide:h,useValue:!0}));else{const C=a.concat(f).concat({provide:h,useValue:!0},{provide:gC,useValue:"platform"});!function Ow(o){if(si&&!si.destroyed&&!si.injector.get(jh,!1))throw new Ke("400","");si=o.get(vv);const s=o.get(bw,null);s&&s.forEach(a=>a())}($r.create({providers:C,name:c}))}return function cD(o){const s=Pw();if(!s)throw new Ke("401","");return s}()}}function Pw(){return si&&!si.destroyed?si:null}let vv=(()=>{class o{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const C=function dD(o,s){let a;return a="noop"===o?new Dw:("zone.js"===o?void 0:o)||new Fi({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!s?.ngZoneEventCoalescing,shouldCoalesceRunChangeDetection:!!s?.ngZoneRunCoalescing}),a}(c?c.ngZone:void 0,{ngZoneEventCoalescing:c&&c.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:c&&c.ngZoneRunCoalescing||!1}),E=[{provide:Fi,useValue:C}];return C.run(()=>{const I=$r.create({providers:E,parent:this.injector,name:a.moduleType.name}),M=a.create(I),k=M.injector.get(Hd,null);if(!k)throw new Ke("402","");return C.runOutsideAngular(()=>{const z=C.onError.subscribe({next:ue=>{k.handleError(ue)}});M.onDestroy(()=>{fs(this._modules,M),z.unsubscribe()})}),function hD(o,s,a){try{const c=a();return Y_(c)?c.catch(h=>{throw s.runOutsideAngular(()=>o.handleError(h)),h}):c}catch(c){throw s.runOutsideAngular(()=>o.handleError(c)),c}}(k,C,()=>{const z=M.injector.get(Gn);return z.runInitializers(),z.donePromise.then(()=>(function wy(o){(function Ye(o,s){null==o&&pt(s,o,null,"!=")})(o,"Expected localeId to be defined"),"string"==typeof o&&(Gp=o.toLowerCase().replace(/_/g,"-"))}(M.injector.get(Vo,Ku)||Ku),this._moduleDoBootstrap(M),M))})})}bootstrapModule(a,c=[]){const h=Aw({},c);return function lD(o,s,a){const c=new sg(a);return Promise.resolve(c)}(0,0,a).then(f=>this.bootstrapModuleFactory(f,h))}_moduleDoBootstrap(a){const c=a.injector.get(Gh);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(h=>c.bootstrap(h));else{if(!a.instance.ngDoBootstrap)throw new Ke("403","");a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ke("404","");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(a){return new(a||o)(Rt($r))},o.\u0275prov=gt({token:o,factory:o.\u0275fac}),o})();function Aw(o,s){return Array.isArray(s)?s.reduce(Aw,o):{...o,...s}}let Gh=(()=>{class o{constructor(a,c,h,f,_){this._zone=a,this._injector=c,this._exceptionHandler=h,this._componentFactoryResolver=f,this._initStatus=_,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const C=new x.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),E=new x.y(I=>{let M;this._zone.runOutsideAngular(()=>{M=this._zone.onStable.subscribe(()=>{Fi.assertNotInAngularZone(),Uh(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const k=this._zone.onUnstable.subscribe(()=>{Fi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{M.unsubscribe(),k.unsubscribe()}});this.isStable=(0,re.T)(C,E.pipe((0,we.B)()))}bootstrap(a,c){if(!this._initStatus.done)throw new Ke("405","");let h;h=a instanceof Ec?a:this._componentFactoryResolver.resolveComponentFactory(a),this.componentTypes.push(h.componentType);const f=function Tg(o){return o.isBoundToModule}(h)?void 0:this._injector.get(cs),C=h.create($r.NULL,[],c||h.selector,f),E=C.location.nativeElement,I=C.injector.get(Yr,null),M=I&&C.injector.get(yv);return I&&M&&M.registerApplication(E,I),C.onDestroy(()=>{this.detachView(C.hostView),fs(this.components,C),M&&M.unregisterApplication(E)}),this._loadComponent(C),C}tick(){if(this._runningTick)throw new Ke("101","");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;fs(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(Lc,[]).concat(this._bootstrapListeners).forEach(h=>h(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return o.\u0275fac=function(a){return new(a||o)(Rt(Fi),Rt($r),Rt(Hd),Rt(Oh),Rt(Gn))},o.\u0275prov=gt({token:o,factory:o.\u0275fac}),o})();function fs(o,s){const a=o.indexOf(s);a>-1&&o.splice(a,1)}let Cv=!0,bv=!1;function Ws(){return bv=!0,Cv}function xw(){if(bv)throw new Error("Cannot enable prod mode after platform setup.");Cv=!1}let wv=(()=>{class o{}return o.__NG_ELEMENT_ID__=Ev,o})();function Ev(o){return function $c(o,s,a){if(vs(o)&&!a){const c=Xr(o.index,s);return new Xu(c,c)}return 47&o.type?new Xu(s[16],s):null}(fr(),Be(),16==(16&o))}class Nw{constructor(){}supports(s){return Fa(s)}create(s){return new Ag(s)}}const ar=(o,s)=>s;class Ag{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||ar}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,c=this._removalsHead,h=0,f=null;for(;a||c;){const _=!c||a&&a.currentIndex<Hc(c,h,f)?a:c,C=Hc(_,h,f),E=_.currentIndex;if(_===c)h--,c=c._nextRemoved;else if(a=a._next,null==_.previousIndex)h++;else{f||(f=[]);const I=C-h,M=E-h;if(I!=M){for(let z=0;z<I;z++){const ue=z<f.length?f[z]:f[z]=0,Ie=ue+z;M<=Ie&&Ie<I&&(f[z]=ue+1)}f[_.previousIndex]=M-I}}C!==E&&s(_,C,E)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!Fa(s))throw new Error(`Error trying to diff '${de(s)}'. Only arrays and iterables are allowed`);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let h,f,_,a=this._itHead,c=!1;if(Array.isArray(s)){this.length=s.length;for(let C=0;C<this.length;C++)f=s[C],_=this._trackByFn(C,f),null!==a&&Object.is(a.trackById,_)?(c&&(a=this._verifyReinsertion(a,f,_,C)),Object.is(a.item,f)||this._addIdentityChange(a,f)):(a=this._mismatch(a,f,_,C),c=!0),a=a._next}else h=0,function KI(o,s){if(Array.isArray(o))for(let a=0;a<o.length;a++)s(o[a]);else{const a=o[co()]();let c;for(;!(c=a.next()).done;)s(c.value)}}(s,C=>{_=this._trackByFn(h,C),null!==a&&Object.is(a.trackById,_)?(c&&(a=this._verifyReinsertion(a,C,_,h)),Object.is(a.item,C)||this._addIdentityChange(a,C)):(a=this._mismatch(a,C,_,h),c=!0),a=a._next,h++}),this.length=h;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,c,h){let f;return null===s?f=this._itTail:(f=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,f,h)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(c,h))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,f,h)):s=this._addAfter(new xg(a,c),f,h),s}_verifyReinsertion(s,a,c,h){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==f?s=this._reinsertAfter(f,s._prev,h):s.currentIndex!=h&&(s.currentIndex=h,this._addToMoves(s,h)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const h=s._prevRemoved,f=s._nextRemoved;return null===h?this._removalsHead=f:h._nextRemoved=f,null===f?this._removalsTail=h:f._prevRemoved=h,this._insertAfter(s,a,c),this._addToMoves(s,c),s}_moveAfter(s,a,c){return this._unlink(s),this._insertAfter(s,a,c),this._addToMoves(s,c),s}_addAfter(s,a,c){return this._insertAfter(s,a,c),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,c){const h=null===a?this._itHead:a._next;return s._next=h,s._prev=a,null===h?this._itTail=s:h._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new Fw),this._linkedRecords.put(s),s.currentIndex=c,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,c=s._next;return null===a?this._itHead=c:a._next=c,null===c?this._itTail=a:c._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Fw),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class xg{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class kw{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===a||a<=c.currentIndex)&&Object.is(c.trackById,s))return c;return null}remove(s){const a=s._prevDup,c=s._nextDup;return null===a?this._head=c:a._nextDup=c,null===c?this._tail=a:c._prevDup=a,null===this._head}}class Fw{constructor(){this.map=new Map}put(s){const a=s.trackById;let c=this.map.get(a);c||(c=new kw,this.map.set(a,c)),c.add(s)}get(s,a){const h=this.map.get(s);return h?h.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Hc(o,s,a){const c=o.previousIndex;if(null===c)return c;let h=0;return a&&c<a.length&&(h=a[c]),c+s+h}class Lw{constructor(){}supports(s){return s instanceof Map||V_(s)}create(){return new Vw}}class Vw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||V_(s)))throw new Error(`Error trying to diff '${de(s)}'. Only maps and objects are allowed`)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(c,h)=>{if(a&&a.key===h)this._maybeAddToChanges(a,c),this._appendAfter=a,a=a._next;else{const f=this._getOrCreateRecordForKey(h,c);a=this._insertBeforeOrAppend(a,f)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let c=a;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const c=s._prev;return a._next=s,a._prev=c,s._prev=a,c&&(c._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const h=this._records.get(s);this._maybeAddToChanges(h,a);const f=h._prev,_=h._next;return f&&(f._next=_),_&&(_._prev=f),h._next=null,h._prev=null,h}const c=new zc(s);return this._records.set(s,c),c.currentValue=a,this._addToAdditions(c),c}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(c=>a(s[c],c))}}class zc{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ps(){return new Zh([new Nw])}let Zh=(()=>{class o{constructor(a){this.factories=a}static create(a,c){if(null!=c){const h=c.factories.slice();a=a.concat(h)}return new o(a)}static extend(a){return{provide:o,useFactory:c=>o.create(a,c||ps()),deps:[[o,new uo,new Mi]]}}find(a){const c=this.factories.find(h=>h.supports(a));if(null!=c)return c;throw new Error(`Cannot find a differ supporting object '${a}' of type '${function Uw(o){return o.name||typeof o}(a)}'`)}}return o.\u0275prov=gt({token:o,providedIn:"root",factory:ps}),o})();function Av(){return new Ks([new Lw])}let Ks=(()=>{class o{constructor(a){this.factories=a}static create(a,c){if(c){const h=c.factories.slice();a=a.concat(h)}return new o(a)}static extend(a){return{provide:o,useFactory:c=>o.create(a,c||Av()),deps:[[o,new uo,new Mi]]}}find(a){const c=this.factories.find(h=>h.supports(a));if(c)return c;throw new Error(`Cannot find a differ supporting object '${a}'`)}}return o.\u0275prov=gt({token:o,providedIn:"root",factory:Av}),o})();const xv=[new Lw],kr=new Zh([new Nw]),In=new Ks(xv),Bw=Qr(null,"core",[{provide:qs,useValue:"unknown"},{provide:vv,deps:[$r]},{provide:yv,deps:[]},{provide:gv,deps:[]}]),Wh=[{provide:Gh,useClass:Gh,deps:[Fi,$r,Hd,Oh,Gn]},{provide:YT,deps:[Fi],useFactory:function jw(o){let s=[];return o.onStable.subscribe(()=>{for(;s.length;)s.pop()()}),function(a){s.push(a)}}},{provide:Gn,useClass:Gn,deps:[[new Mi,hs]]},{provide:wg,useClass:wg,deps:[]},Cw,{provide:Zh,useFactory:function Ya(){return kr},deps:[]},{provide:Ks,useFactory:function ED(){return In},deps:[]},{provide:Vo,useFactory:function Li(o){return o||function $w(){return typeof $localize<"u"&&$localize.locale||Ku}()},deps:[[new ao(Vo),new Mi,new uo]]},{provide:Vh,useValue:"USD"}];let gs=(()=>{class o{constructor(a){}}return o.\u0275fac=function(a){return new(a||o)(Rt(Gh))},o.\u0275mod=S({type:o}),o.\u0275inj=fn({providers:Wh}),o})()},3942:(vt,De,P)=>{P.d(De,{Z:()=>Ke});var l=P(2090),L=P(4859),x=P(9681),re=P(1877);class we{constructor(je,le){this._delegate=je,this.firebase=le,(0,x._addComponent)(je,new L.wA("app-compat",()=>this,"PUBLIC")),this.container=je.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(je){this._delegate.automaticDataCollectionEnabled=je}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(je=>{this._delegate.checkDestroyed(),je()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,x.deleteApp)(this._delegate)))}_getService(je,le=x._DEFAULT_ENTRY_NAME){var Ee;this._delegate.checkDestroyed();const Ae=this._delegate.container.getProvider(je);return!Ae.isInitialized()&&"EXPLICIT"===(null===(Ee=Ae.getComponent())||void 0===Ee?void 0:Ee.instantiationMode)&&Ae.initialize(),Ae.getImmediate({identifier:le})}_removeServiceInstance(je,le=x._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(je).clearInstance(le)}_addComponent(je){(0,x._addComponent)(this._delegate,je)}_addOrOverwriteComponent(je){(0,x._addOrOverwriteComponent)(this._delegate,je)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const fe=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),q=function me(){const Ge=function de(Ge){const je={},le={__esModule:!0,initializeApp:function Fe(ae,ge={}){const Q=x.initializeApp(ae,ge);if((0,l.r3)(je,Q.name))return je[Q.name];const R=new Ge(Q,le);return je[Q.name]=R,R},app:Ae,registerVersion:x.registerVersion,setLogLevel:x.setLogLevel,onLog:x.onLog,apps:null,SDK_VERSION:x.SDK_VERSION,INTERNAL:{registerComponent:function Ve(ae){const ge=ae.name,Q=ge.replace("-compat","");if(x._registerComponent(ae)&&"PUBLIC"===ae.type){const R=(U=Ae())=>{if("function"!=typeof U[Q])throw fe.create("invalid-app-argument",{appName:ge});return U[Q]()};void 0!==ae.serviceProps&&(0,l.ZB)(R,ae.serviceProps),le[Q]=R,Ge.prototype[Q]=function(...U){return this._getService.bind(this,ge).apply(this,ae.multipleInstances?U:[])}}return"PUBLIC"===ae.type?le[Q]:null},removeApp:function Ee(ae){delete je[ae]},useAsService:function Ze(ae,ge){return"serverAuth"===ge?null:ge},modularAPIs:x}};function Ae(ae){if(!(0,l.r3)(je,ae=ae||x._DEFAULT_ENTRY_NAME))throw fe.create("no-app",{appName:ae});return je[ae]}return le.default=le,Object.defineProperty(le,"apps",{get:function ut(){return Object.keys(je).map(ae=>je[ae])}}),Ae.App=Ge,le}(we);return Ge.INTERNAL=Object.assign(Object.assign({},Ge.INTERNAL),{createFirebaseNamespace:me,extendNamespace:function je(le){(0,l.ZB)(Ge,le)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),Ge}(),Y=new re.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){Y.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ge=self.firebase.SDK_VERSION;Ge&&Ge.indexOf("LITE")>=0&&Y.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ke=q;!function Re(Ge){(0,x.registerVersion)("@firebase/app-compat","0.1.34",Ge)}()},9681:(vt,De,P)=>{P.r(De),P.d(De,{FirebaseError:()=>re.ZR,SDK_VERSION:()=>lr,_DEFAULT_ENTRY_NAME:()=>ct,_addComponent:()=>an,_addOrOverwriteComponent:()=>zt,_apps:()=>pt,_clearComponents:()=>Jn,_components:()=>Xt,_getProvider:()=>Kt,_registerComponent:()=>gt,_removeServiceInstance:()=>fn,deleteApp:()=>st,getApp:()=>Mn,getApps:()=>cr,initializeApp:()=>xn,onLog:()=>Je,registerVersion:()=>Me,setLogLevel:()=>at});var l=P(5861),L=P(4859),x=P(1877),re=P(2090),we=P(8766);class be{constructor(J){this.container=J}getPlatformInfoString(){return this.container.getProviders().map(W=>{if(function fe($){const J=$.getComponent();return"VERSION"===(null==J?void 0:J.type)}(W)){const Te=W.getImmediate();return`${Te.library}/${Te.version}`}return null}).filter(W=>W).join(" ")}}const de="@firebase/app",q=new x.Yd("@firebase/app"),ct="[DEFAULT]",Ye={[de]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},pt=new Map,Xt=new Map;function an($,J){try{$.container.addComponent(J)}catch(W){q.debug(`Component ${J.name} failed to register with FirebaseApp ${$.name}`,W)}}function zt($,J){$.container.addOrOverwriteComponent(J)}function gt($){const J=$.name;if(Xt.has(J))return q.debug(`There were multiple attempts to register component ${J}.`),!1;Xt.set(J,$);for(const W of pt.values())an(W,$);return!0}function Kt($,J){const W=$.container.getProvider("heartbeat").getImmediate({optional:!0});return W&&W.triggerHeartbeat(),$.container.getProvider(J)}function fn($,J,W=ct){Kt($,J).clearInstance(W)}function Jn(){Xt.clear()}const vn=new re.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class $n{constructor(J,W,Te){this._isDeleted=!1,this._options=Object.assign({},J),this._config=Object.assign({},W),this._name=W.name,this._automaticDataCollectionEnabled=W.automaticDataCollectionEnabled,this._container=Te,this.container.addComponent(new L.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(J){this.checkDestroyed(),this._automaticDataCollectionEnabled=J}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(J){this._isDeleted=J}checkDestroyed(){if(this.isDeleted)throw vn.create("app-deleted",{appName:this._name})}}const lr="9.10.0";function xn($,J={}){"object"!=typeof J&&(J={name:J});const W=Object.assign({name:ct,automaticDataCollectionEnabled:!1},J),Te=W.name;if("string"!=typeof Te||!Te)throw vn.create("bad-app-name",{appName:String(Te)});const et=pt.get(Te);if(et){if((0,re.vZ)($,et.options)&&(0,re.vZ)(W,et.config))return et;throw vn.create("duplicate-app",{appName:Te})}const It=new L.H0(Te);for(const un of Xt.values())It.addComponent(un);const sn=new $n($,W,It);return pt.set(Te,sn),sn}function Mn($=ct){const J=pt.get($);if(!J)throw vn.create("no-app",{appName:$});return J}function cr(){return Array.from(pt.values())}function st($){return ne.apply(this,arguments)}function ne(){return(ne=(0,l.Z)(function*($){const J=$.name;pt.has(J)&&(pt.delete(J),yield Promise.all($.container.getProviders().map(W=>W.delete())),$.isDeleted=!0)})).apply(this,arguments)}function Me($,J,W){var Te;let et=null!==(Te=Ye[$])&&void 0!==Te?Te:$;W&&(et+=`-${W}`);const It=et.match(/\s|\//),sn=J.match(/\s|\//);if(It||sn){const un=[`Unable to register library "${et}" with version "${J}":`];return It&&un.push(`library name "${et}" contains illegal characters (whitespace or "/")`),It&&sn&&un.push("and"),sn&&un.push(`version name "${J}" contains illegal characters (whitespace or "/")`),void q.warn(un.join(" "))}gt(new L.wA(`${et}-version`,()=>({library:et,version:J}),"VERSION"))}function Je($,J){if(null!==$&&"function"!=typeof $)throw vn.create("invalid-log-argument");(0,x.Am)($,J)}function at($){(0,x.Ub)($)}const en="firebase-heartbeat-store";let Yt=null;function Cn(){return Yt||(Yt=(0,we.X3)("firebase-heartbeat-database",1,{upgrade:($,J)=>{0===J&&$.createObjectStore(en)}}).catch($=>{throw vn.create("idb-open",{originalErrorMessage:$.message})})),Yt}function Xe(){return(Xe=(0,l.Z)(function*($){var J;try{return(yield Cn()).transaction(en).objectStore(en).get(dr($))}catch(W){if(W instanceof re.ZR)q.warn(W.message);else{const Te=vn.create("idb-get",{originalErrorMessage:null===(J=W)||void 0===J?void 0:J.message});q.warn(Te.message)}}})).apply(this,arguments)}function rt($,J){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,l.Z)(function*($,J){var W;try{const et=(yield Cn()).transaction(en,"readwrite");return yield et.objectStore(en).put(J,dr($)),et.done}catch(Te){if(Te instanceof re.ZR)q.warn(Te.message);else{const et=vn.create("idb-set",{originalErrorMessage:null===(W=Te)||void 0===W?void 0:W.message});q.warn(et.message)}}})).apply(this,arguments)}function dr($){return`${$.name}!${$.options.appId}`}class On{constructor(J){this.container=J,this._heartbeatsCache=null;const W=this.container.getProvider("app").getImmediate();this._storage=new xt(W),this._heartbeatsCachePromise=this._storage.read().then(Te=>(this._heartbeatsCache=Te,Te))}triggerHeartbeat(){var J=this;return(0,l.Z)(function*(){const Te=J.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),et=pn();if(null===J._heartbeatsCache&&(J._heartbeatsCache=yield J._heartbeatsCachePromise),J._heartbeatsCache.lastSentHeartbeatDate!==et&&!J._heartbeatsCache.heartbeats.some(It=>It.date===et))return J._heartbeatsCache.heartbeats.push({date:et,agent:Te}),J._heartbeatsCache.heartbeats=J._heartbeatsCache.heartbeats.filter(It=>{const sn=new Date(It.date).valueOf();return Date.now()-sn<=2592e6}),J._storage.overwrite(J._heartbeatsCache)})()}getHeartbeatsHeader(){var J=this;return(0,l.Z)(function*(){if(null===J._heartbeatsCache&&(yield J._heartbeatsCachePromise),null===J._heartbeatsCache||0===J._heartbeatsCache.heartbeats.length)return"";const W=pn(),{heartbeatsToSend:Te,unsentEntries:et}=function qt($,J=1024){const W=[];let Te=$.slice();for(const et of $){const It=W.find(sn=>sn.agent===et.agent);if(It){if(It.dates.push(et.date),H(W)>J){It.dates.pop();break}}else if(W.push({agent:et.agent,dates:[et.date]}),H(W)>J){W.pop();break}Te=Te.slice(1)}return{heartbeatsToSend:W,unsentEntries:Te}}(J._heartbeatsCache.heartbeats),It=(0,re.L)(JSON.stringify({version:2,heartbeats:Te}));return J._heartbeatsCache.lastSentHeartbeatDate=W,et.length>0?(J._heartbeatsCache.heartbeats=et,yield J._storage.overwrite(J._heartbeatsCache)):(J._heartbeatsCache.heartbeats=[],J._storage.overwrite(J._heartbeatsCache)),It})()}}function pn(){return(new Date).toISOString().substring(0,10)}class xt{constructor(J){this.app=J,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,re.hl)()&&(0,re.eu)().then(()=>!0).catch(()=>!1)})()}read(){var J=this;return(0,l.Z)(function*(){return(yield J._canUseIndexedDBPromise)&&(yield function Ft($){return Xe.apply(this,arguments)}(J.app))||{heartbeats:[]}})()}overwrite(J){var W=this;return(0,l.Z)(function*(){var Te;if(yield W._canUseIndexedDBPromise){const It=yield W.read();return rt(W.app,{lastSentHeartbeatDate:null!==(Te=J.lastSentHeartbeatDate)&&void 0!==Te?Te:It.lastSentHeartbeatDate,heartbeats:J.heartbeats})}})()}add(J){var W=this;return(0,l.Z)(function*(){var Te;if(yield W._canUseIndexedDBPromise){const It=yield W.read();return rt(W.app,{lastSentHeartbeatDate:null!==(Te=J.lastSentHeartbeatDate)&&void 0!==Te?Te:It.lastSentHeartbeatDate,heartbeats:[...It.heartbeats,...J.heartbeats]})}})()}}function H($){return(0,re.L)(JSON.stringify({version:2,heartbeats:$})).length}!function Z($){gt(new L.wA("platform-logger",J=>new be(J),"PRIVATE")),gt(new L.wA("heartbeat",J=>new On(J),"PRIVATE")),Me(de,"0.7.33",$),Me(de,"0.7.33","esm2017"),Me("fire-js","")}("")},4859:(vt,De,P)=>{P.d(De,{H0:()=>de,wA:()=>x});var l=P(5861),L=P(2090);class x{constructor(q,Y,oe){this.name=q,this.instanceFactory=Y,this.type=oe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(q){return this.instantiationMode=q,this}setMultipleInstances(q){return this.multipleInstances=q,this}setServiceProps(q){return this.serviceProps=q,this}setInstanceCreatedCallback(q){return this.onInstanceCreated=q,this}}const re="[DEFAULT]";class we{constructor(q,Y){this.name=q,this.container=Y,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(q){const Y=this.normalizeInstanceIdentifier(q);if(!this.instancesDeferred.has(Y)){const oe=new L.BH;if(this.instancesDeferred.set(Y,oe),this.isInitialized(Y)||this.shouldAutoInitialize())try{const Ue=this.getOrInitializeService({instanceIdentifier:Y});Ue&&oe.resolve(Ue)}catch{}}return this.instancesDeferred.get(Y).promise}getImmediate(q){var Y;const oe=this.normalizeInstanceIdentifier(null==q?void 0:q.identifier),Ue=null!==(Y=null==q?void 0:q.optional)&&void 0!==Y&&Y;if(!this.isInitialized(oe)&&!this.shouldAutoInitialize()){if(Ue)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:oe})}catch(Re){if(Ue)return null;throw Re}}getComponent(){return this.component}setComponent(q){if(q.name!==this.name)throw Error(`Mismatching Component ${q.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=q,this.shouldAutoInitialize()){if(function fe(me){return"EAGER"===me.instantiationMode}(q))try{this.getOrInitializeService({instanceIdentifier:re})}catch{}for(const[Y,oe]of this.instancesDeferred.entries()){const Ue=this.normalizeInstanceIdentifier(Y);try{const Re=this.getOrInitializeService({instanceIdentifier:Ue});oe.resolve(Re)}catch{}}}}clearInstance(q=re){this.instancesDeferred.delete(q),this.instancesOptions.delete(q),this.instances.delete(q)}delete(){var q=this;return(0,l.Z)(function*(){const Y=Array.from(q.instances.values());yield Promise.all([...Y.filter(oe=>"INTERNAL"in oe).map(oe=>oe.INTERNAL.delete()),...Y.filter(oe=>"_delete"in oe).map(oe=>oe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(q=re){return this.instances.has(q)}getOptions(q=re){return this.instancesOptions.get(q)||{}}initialize(q={}){const{options:Y={}}=q,oe=this.normalizeInstanceIdentifier(q.instanceIdentifier);if(this.isInitialized(oe))throw Error(`${this.name}(${oe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ue=this.getOrInitializeService({instanceIdentifier:oe,options:Y});for(const[Re,Ke]of this.instancesDeferred.entries())oe===this.normalizeInstanceIdentifier(Re)&&Ke.resolve(Ue);return Ue}onInit(q,Y){var oe;const Ue=this.normalizeInstanceIdentifier(Y),Re=null!==(oe=this.onInitCallbacks.get(Ue))&&void 0!==oe?oe:new Set;Re.add(q),this.onInitCallbacks.set(Ue,Re);const Ke=this.instances.get(Ue);return Ke&&q(Ke,Ue),()=>{Re.delete(q)}}invokeOnInitCallbacks(q,Y){const oe=this.onInitCallbacks.get(Y);if(oe)for(const Ue of oe)try{Ue(q,Y)}catch{}}getOrInitializeService({instanceIdentifier:q,options:Y={}}){let oe=this.instances.get(q);if(!oe&&this.component&&(oe=this.component.instanceFactory(this.container,{instanceIdentifier:(me=q,me===re?void 0:me),options:Y}),this.instances.set(q,oe),this.instancesOptions.set(q,Y),this.invokeOnInitCallbacks(oe,q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,q,oe)}catch{}var me;return oe||null}normalizeInstanceIdentifier(q=re){return this.component?this.component.multipleInstances?q:re:q}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class de{constructor(q){this.name=q,this.providers=new Map}addComponent(q){const Y=this.getProvider(q.name);if(Y.isComponentSet())throw new Error(`Component ${q.name} has already been registered with ${this.name}`);Y.setComponent(q)}addOrOverwriteComponent(q){this.getProvider(q.name).isComponentSet()&&this.providers.delete(q.name),this.addComponent(q)}getProvider(q){if(this.providers.has(q))return this.providers.get(q);const Y=new we(q,this);return this.providers.set(q,Y),Y}getProviders(){return Array.from(this.providers.values())}}},2833:(vt,De,P)=>{var l=P(5861),L=P(9681),x=P(4859),re=P(2090),we=P(8766);const be="@firebase/installations",fe="0.5.12",me=`w:${fe}`,q="FIS_v2",Ge=new re.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function je(ee){return ee instanceof re.ZR&&ee.code.includes("request-failed")}function le({projectId:ee}){return`https://firebaseinstallations.googleapis.com/v1/projects/${ee}/installations`}function Ee(ee){return{token:ee.token,requestStatus:2,expiresIn:ge(ee.expiresIn),creationTime:Date.now()}}function Ae(ee,Ce){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,l.Z)(function*(ee,Ce){const qe=(yield Ce.json()).error;return Ge.create("request-failed",{requestName:ee,serverCode:qe.code,serverMessage:qe.message,serverStatus:qe.status})})).apply(this,arguments)}function ut({apiKey:ee}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":ee})}function Ve(ee,{refreshToken:Ce}){const He=ut(ee);return He.append("Authorization",function Q(ee){return`${q} ${ee}`}(Ce)),He}function Ze(ee){return ae.apply(this,arguments)}function ae(){return(ae=(0,l.Z)(function*(ee){const Ce=yield ee();return Ce.status>=500&&Ce.status<600?ee():Ce})).apply(this,arguments)}function ge(ee){return Number(ee.replace("s","000"))}function R(ee,Ce){return U.apply(this,arguments)}function U(){return(U=(0,l.Z)(function*({appConfig:ee,heartbeatServiceProvider:Ce},{fid:He}){const qe=le(ee),Sn=ut(ee),mn=Ce.getImmediate({optional:!0});if(mn){const vr=yield mn.getHeartbeatsHeader();vr&&Sn.append("x-firebase-client",vr)}const Hn={method:"POST",headers:Sn,body:JSON.stringify({fid:He,authVersion:q,appId:ee.appId,sdkVersion:me})},Nn=yield Ze(()=>fetch(qe,Hn));if(Nn.ok){const vr=yield Nn.json();return{fid:vr.fid||He,registrationStatus:2,refreshToken:vr.refreshToken,authToken:Ee(vr.authToken)}}throw yield Ae("Create Installation",Nn)})).apply(this,arguments)}function G(ee){return new Promise(Ce=>{setTimeout(Ce,ee)})}const K=/^[cdef][\w-]{21}$/;function Qe(){try{const ee=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(ee),ee[0]=112+ee[0]%16;const He=function At(ee){return function te(ee){return btoa(String.fromCharCode(...ee)).replace(/\+/g,"-").replace(/\//g,"_")}(ee).substr(0,22)}(ee);return K.test(He)?He:""}catch{return""}}function ct(ee){return`${ee.appName}!${ee.appId}`}const Ye=new Map;function pt(ee,Ce){const He=ct(ee);zt(He,Ce),function gt(ee,Ce){const He=function fn(){return!Kt&&"BroadcastChannel"in self&&(Kt=new BroadcastChannel("[Firebase] FID Change"),Kt.onmessage=ee=>{zt(ee.data.key,ee.data.fid)}),Kt}();He&&He.postMessage({key:ee,fid:Ce}),function Jn(){0===Ye.size&&Kt&&(Kt.close(),Kt=null)}()}(He,Ce)}function zt(ee,Ce){const He=Ye.get(ee);if(He)for(const qe of He)qe(Ce)}let Kt=null;const $n="firebase-installations-store";let lr=null;function xn(){return lr||(lr=(0,we.X3)("firebase-installations-database",1,{upgrade:(ee,Ce)=>{0===Ce&&ee.createObjectStore($n)}})),lr}function Mn(ee,Ce){return cr.apply(this,arguments)}function cr(){return(cr=(0,l.Z)(function*(ee,Ce){const He=ct(ee),Sn=(yield xn()).transaction($n,"readwrite"),mn=Sn.objectStore($n),Rn=yield mn.get(He);return yield mn.put(Ce,He),yield Sn.done,(!Rn||Rn.fid!==Ce.fid)&&pt(ee,Ce.fid),Ce})).apply(this,arguments)}function st(ee){return ne.apply(this,arguments)}function ne(){return(ne=(0,l.Z)(function*(ee){const Ce=ct(ee),qe=(yield xn()).transaction($n,"readwrite");yield qe.objectStore($n).delete(Ce),yield qe.done})).apply(this,arguments)}function Me(ee,Ce){return Je.apply(this,arguments)}function Je(){return(Je=(0,l.Z)(function*(ee,Ce){const He=ct(ee),Sn=(yield xn()).transaction($n,"readwrite"),mn=Sn.objectStore($n),Rn=yield mn.get(He),Hn=Ce(Rn);return void 0===Hn?yield mn.delete(He):yield mn.put(Hn,He),yield Sn.done,Hn&&(!Rn||Rn.fid!==Hn.fid)&&pt(ee,Hn.fid),Hn})).apply(this,arguments)}function at(ee){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,l.Z)(function*(ee){let Ce;const He=yield Me(ee.appConfig,qe=>{const Sn=Bt(qe),mn=en(ee,Sn);return Ce=mn.registrationPromise,mn.installationEntry});return""===He.fid?{installationEntry:yield Ce}:{installationEntry:He,registrationPromise:Ce}})).apply(this,arguments)}function Bt(ee){return Fn(ee||{fid:Qe(),registrationStatus:0})}function en(ee,Ce){if(0===Ce.registrationStatus){if(!navigator.onLine)return{installationEntry:Ce,registrationPromise:Promise.reject(Ge.create("app-offline"))};const He={fid:Ce.fid,registrationStatus:1,registrationTime:Date.now()},qe=function Yt(ee,Ce){return Cn.apply(this,arguments)}(ee,He);return{installationEntry:He,registrationPromise:qe}}return 1===Ce.registrationStatus?{installationEntry:Ce,registrationPromise:Ft(ee)}:{installationEntry:Ce}}function Cn(){return(Cn=(0,l.Z)(function*(ee,Ce){try{const He=yield R(ee,Ce);return Mn(ee.appConfig,He)}catch(He){throw je(He)&&409===He.customData.serverCode?yield st(ee.appConfig):yield Mn(ee.appConfig,{fid:Ce.fid,registrationStatus:0}),He}})).apply(this,arguments)}function Ft(ee){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,l.Z)(function*(ee){let Ce=yield rt(ee.appConfig);for(;1===Ce.registrationStatus;)yield G(100),Ce=yield rt(ee.appConfig);if(0===Ce.registrationStatus){const{installationEntry:He,registrationPromise:qe}=yield at(ee);return qe||He}return Ce})).apply(this,arguments)}function rt(ee){return Me(ee,Ce=>{if(!Ce)throw Ge.create("installation-not-found");return Fn(Ce)})}function Fn(ee){return function dr(ee){return 1===ee.registrationStatus&&ee.registrationTime+1e4<Date.now()}(ee)?{fid:ee.fid,registrationStatus:0}:ee}function Ln(ee,Ce){return jt.apply(this,arguments)}function jt(){return(jt=(0,l.Z)(function*({appConfig:ee,heartbeatServiceProvider:Ce},He){const qe=On(ee,He),Sn=Ve(ee,He),mn=Ce.getImmediate({optional:!0});if(mn){const vr=yield mn.getHeartbeatsHeader();vr&&Sn.append("x-firebase-client",vr)}const Hn={method:"POST",headers:Sn,body:JSON.stringify({installation:{sdkVersion:me,appId:ee.appId}})},Nn=yield Ze(()=>fetch(qe,Hn));if(Nn.ok)return Ee(yield Nn.json());throw yield Ae("Generate Auth Token",Nn)})).apply(this,arguments)}function On(ee,{fid:Ce}){return`${le(ee)}/${Ce}/authTokens:generate`}function pn(ee){return qt.apply(this,arguments)}function qt(){return(qt=(0,l.Z)(function*(ee,Ce=!1){let He;const qe=yield Me(ee.appConfig,mn=>{if(!W(mn))throw Ge.create("not-registered");const Rn=mn.authToken;if(!Ce&&Te(Rn))return mn;if(1===Rn.requestStatus)return He=xt(ee,Ce),mn;{if(!navigator.onLine)throw Ge.create("app-offline");const Hn=It(mn);return He=$(ee,Hn),Hn}});return He?yield He:qe.authToken})).apply(this,arguments)}function xt(ee,Ce){return H.apply(this,arguments)}function H(){return(H=(0,l.Z)(function*(ee,Ce){let He=yield Z(ee.appConfig);for(;1===He.authToken.requestStatus;)yield G(100),He=yield Z(ee.appConfig);const qe=He.authToken;return 0===qe.requestStatus?pn(ee,Ce):qe})).apply(this,arguments)}function Z(ee){return Me(ee,Ce=>{if(!W(Ce))throw Ge.create("not-registered");return function sn(ee){return 1===ee.requestStatus&&ee.requestTime+1e4<Date.now()}(Ce.authToken)?Object.assign(Object.assign({},Ce),{authToken:{requestStatus:0}}):Ce})}function $(ee,Ce){return J.apply(this,arguments)}function J(){return(J=(0,l.Z)(function*(ee,Ce){try{const He=yield Ln(ee,Ce),qe=Object.assign(Object.assign({},Ce),{authToken:He});return yield Mn(ee.appConfig,qe),He}catch(He){if(!je(He)||401!==He.customData.serverCode&&404!==He.customData.serverCode){const qe=Object.assign(Object.assign({},Ce),{authToken:{requestStatus:0}});yield Mn(ee.appConfig,qe)}else yield st(ee.appConfig);throw He}})).apply(this,arguments)}function W(ee){return void 0!==ee&&2===ee.registrationStatus}function Te(ee){return 2===ee.requestStatus&&!function et(ee){const Ce=Date.now();return Ce<ee.creationTime||ee.creationTime+ee.expiresIn<Ce+36e5}(ee)}function It(ee){const Ce={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},ee),{authToken:Ce})}function he(){return(he=(0,l.Z)(function*(ee){const Ce=ee,{installationEntry:He,registrationPromise:qe}=yield at(Ce);return qe?qe.catch(console.error):pn(Ce).catch(console.error),He.fid})).apply(this,arguments)}function S(){return(S=(0,l.Z)(function*(ee,Ce=!1){const He=ee;return yield F(He),(yield pn(He,Ce)).token})).apply(this,arguments)}function F(ee){return ie.apply(this,arguments)}function ie(){return(ie=(0,l.Z)(function*(ee){const{registrationPromise:Ce}=yield at(ee);Ce&&(yield Ce)})).apply(this,arguments)}function Ct(ee){return Ge.create("missing-app-config-values",{valueName:ee})}const gn="installations",Pi=ee=>{const Ce=ee.getProvider("app").getImmediate(),He=function ke(ee){if(!ee||!ee.options)throw Ct("App Configuration");if(!ee.name)throw Ct("App Name");const Ce=["projectId","apiKey","appId"];for(const He of Ce)if(!ee.options[He])throw Ct(He);return{appName:ee.name,projectId:ee.options.projectId,apiKey:ee.options.apiKey,appId:ee.options.appId}}(Ce);return{app:Ce,appConfig:He,heartbeatServiceProvider:(0,L._getProvider)(Ce,"heartbeat"),_delete:()=>Promise.resolve()}},Xn=ee=>{const Ce=ee.getProvider("app").getImmediate(),He=(0,L._getProvider)(Ce,gn).getImmediate();return{getId:()=>function un(ee){return he.apply(this,arguments)}(He),getToken:Sn=>function N(ee){return S.apply(this,arguments)}(He,Sn)}};(function Vn(){(0,L._registerComponent)(new x.wA(gn,Pi,"PUBLIC")),(0,L._registerComponent)(new x.wA("installations-internal",Xn,"PRIVATE"))})(),(0,L.registerVersion)(be,fe),(0,L.registerVersion)(be,fe,"esm2017")},1877:(vt,De,P)=>{P.d(De,{Am:()=>me,Ub:()=>de,Yd:()=>fe,in:()=>L});const l=[];var L=(()=>{return(q=L||(L={}))[q.DEBUG=0]="DEBUG",q[q.VERBOSE=1]="VERBOSE",q[q.INFO=2]="INFO",q[q.WARN=3]="WARN",q[q.ERROR=4]="ERROR",q[q.SILENT=5]="SILENT",L;var q})();const x={debug:L.DEBUG,verbose:L.VERBOSE,info:L.INFO,warn:L.WARN,error:L.ERROR,silent:L.SILENT},re=L.INFO,we={[L.DEBUG]:"log",[L.VERBOSE]:"log",[L.INFO]:"info",[L.WARN]:"warn",[L.ERROR]:"error"},be=(q,Y,...oe)=>{if(Y<q.logLevel)return;const Ue=(new Date).toISOString(),Re=we[Y];if(!Re)throw new Error(`Attempted to log a message with an invalid logType (value: ${Y})`);console[Re](`[${Ue}]  ${q.name}:`,...oe)};class fe{constructor(Y){this.name=Y,this._logLevel=re,this._logHandler=be,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(Y){if(!(Y in L))throw new TypeError(`Invalid value "${Y}" assigned to \`logLevel\``);this._logLevel=Y}setLogLevel(Y){this._logLevel="string"==typeof Y?x[Y]:Y}get logHandler(){return this._logHandler}set logHandler(Y){if("function"!=typeof Y)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Y}get userLogHandler(){return this._userLogHandler}set userLogHandler(Y){this._userLogHandler=Y}debug(...Y){this._userLogHandler&&this._userLogHandler(this,L.DEBUG,...Y),this._logHandler(this,L.DEBUG,...Y)}log(...Y){this._userLogHandler&&this._userLogHandler(this,L.VERBOSE,...Y),this._logHandler(this,L.VERBOSE,...Y)}info(...Y){this._userLogHandler&&this._userLogHandler(this,L.INFO,...Y),this._logHandler(this,L.INFO,...Y)}warn(...Y){this._userLogHandler&&this._userLogHandler(this,L.WARN,...Y),this._logHandler(this,L.WARN,...Y)}error(...Y){this._userLogHandler&&this._userLogHandler(this,L.ERROR,...Y),this._logHandler(this,L.ERROR,...Y)}}function de(q){l.forEach(Y=>{Y.setLogLevel(q)})}function me(q,Y){for(const oe of l){let Ue=null;Y&&Y.level&&(Ue=x[Y.level]),oe.userLogHandler=null===q?null:(Re,Ke,...Ge)=>{const je=Ge.map(le=>{if(null==le)return null;if("string"==typeof le)return le;if("number"==typeof le||"boolean"==typeof le)return le.toString();if(le instanceof Error)return le.message;try{return JSON.stringify(le)}catch{return null}}).filter(le=>le).join(" ");Ke>=(Ue??Re.logLevel)&&q({level:L[Ke].toLowerCase(),message:je,args:Ge,type:Re.name})}}}},8766:(vt,De,P)=>{P.d(De,{Lj:()=>Fe,X3:()=>Ae});var l=P(5861);let x,re;const fe=new WeakMap,de=new WeakMap,me=new WeakMap,q=new WeakMap,Y=new WeakMap;let Re={get(ge,Q,R){if(ge instanceof IDBTransaction){if("done"===Q)return de.get(ge);if("objectStoreNames"===Q)return ge.objectStoreNames||me.get(ge);if("store"===Q)return R.objectStoreNames[1]?void 0:R.objectStore(R.objectStoreNames[0])}return le(ge[Q])},set:(ge,Q,R)=>(ge[Q]=R,!0),has:(ge,Q)=>ge instanceof IDBTransaction&&("done"===Q||"store"===Q)||Q in ge};function je(ge){return"function"==typeof ge?function Ge(ge){return ge!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function be(){return re||(re=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ge)?function(...Q){return ge.apply(Ee(this),Q),le(fe.get(this))}:function(...Q){return le(ge.apply(Ee(this),Q))}:function(Q,...R){const U=ge.call(Ee(this),Q,...R);return me.set(U,Q.sort?Q.sort():[Q]),le(U)}}(ge):(ge instanceof IDBTransaction&&function Ue(ge){if(de.has(ge))return;const Q=new Promise((R,U)=>{const G=()=>{ge.removeEventListener("complete",te),ge.removeEventListener("error",K),ge.removeEventListener("abort",K)},te=()=>{R(),G()},K=()=>{U(ge.error||new DOMException("AbortError","AbortError")),G()};ge.addEventListener("complete",te),ge.addEventListener("error",K),ge.addEventListener("abort",K)});de.set(ge,Q)}(ge),((ge,Q)=>Q.some(R=>ge instanceof R))(ge,function we(){return x||(x=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ge,Re):ge)}function le(ge){if(ge instanceof IDBRequest)return function oe(ge){const Q=new Promise((R,U)=>{const G=()=>{ge.removeEventListener("success",te),ge.removeEventListener("error",K)},te=()=>{R(le(ge.result)),G()},K=()=>{U(ge.error),G()};ge.addEventListener("success",te),ge.addEventListener("error",K)});return Q.then(R=>{R instanceof IDBCursor&&fe.set(R,ge)}).catch(()=>{}),Y.set(Q,ge),Q}(ge);if(q.has(ge))return q.get(ge);const Q=je(ge);return Q!==ge&&(q.set(ge,Q),Y.set(Q,ge)),Q}const Ee=ge=>Y.get(ge);function Ae(ge,Q,{blocked:R,upgrade:U,blocking:G,terminated:te}={}){const K=indexedDB.open(ge,Q),_e=le(K);return U&&K.addEventListener("upgradeneeded",Qe=>{U(le(K.result),Qe.oldVersion,Qe.newVersion,le(K.transaction))}),R&&K.addEventListener("blocked",()=>R()),_e.then(Qe=>{te&&Qe.addEventListener("close",()=>te()),G&&Qe.addEventListener("versionchange",()=>G())}).catch(()=>{}),_e}function Fe(ge,{blocked:Q}={}){const R=indexedDB.deleteDatabase(ge);return Q&&R.addEventListener("blocked",()=>Q()),le(R).then(()=>{})}const ut=["get","getKey","getAll","getAllKeys","count"],Ve=["put","add","delete","clear"],Ze=new Map;function ae(ge,Q){if(!(ge instanceof IDBDatabase)||Q in ge||"string"!=typeof Q)return;if(Ze.get(Q))return Ze.get(Q);const R=Q.replace(/FromIndex$/,""),U=Q!==R,G=Ve.includes(R);if(!(R in(U?IDBIndex:IDBObjectStore).prototype)||!G&&!ut.includes(R))return;const te=function(){var K=(0,l.Z)(function*(_e,...Qe){const At=this.transaction(_e,G?"readwrite":"readonly");let ct=At.store;return U&&(ct=ct.index(Qe.shift())),(yield Promise.all([ct[R](...Qe),G&&At.done]))[0]});return function(Qe){return K.apply(this,arguments)}}();return Ze.set(Q,te),te}!function Ke(ge){Re=ge(Re)}(ge=>({...ge,get:(Q,R,U)=>ae(Q,R)||ge.get(Q,R,U),has:(Q,R)=>!!ae(Q,R)||ge.has(Q,R)}))},5861:(vt,De,P)=>{function l(x,re,we,be,fe,de,me){try{var q=x[de](me),Y=q.value}catch(oe){return void we(oe)}q.done?re(Y):Promise.resolve(Y).then(be,fe)}function L(x){return function(){var re=this,we=arguments;return new Promise(function(be,fe){var de=x.apply(re,we);function me(Y){l(de,be,fe,me,q,"next",Y)}function q(Y){l(de,be,fe,me,q,"throw",Y)}me(void 0)})}}P.d(De,{Z:()=>L})}},vt=>{vt(vt.s=2343)}]);